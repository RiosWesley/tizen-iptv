/*! For license information please see main.46293eed.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var I=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},j=[],B=-1;function U(e){return{current:e}}function z(e){0>B||(e.current=j[B],j[B]=null,B--)}function F(e,t){B++,j[B]=e.current,e.current=t}var V=U(null),G=U(null),H=U(null),q=U(null);function K(e,t){switch(F(H,t),F(G,e),F(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(V),F(V,e)}function W(){z(V),z(G),z(H)}function $(e){null!==e.memoizedState&&F(q,e);var t=V.current,n=ad(t,e.type);t!==n&&(F(G,e),F(V,n))}function X(e){G.current===e&&(z(V),z(G)),q.current===e&&(z(q),$d._currentValue=O)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function fe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ve=256,ge=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ye(r):0!==(o&=s)?i=ye(o):n||0!==(n=s&~e)&&(i=ye(n)):0!==(s=r&~a)?i=ye(s):0!==o?i=ye(o):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function Ee(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:cf(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,Ie="__reactProps$"+Pe,De="__reactContainer$"+Pe,Me="__reactEvents$"+Pe,Oe="__reactListeners$"+Pe,je="__reactHandles$"+Pe,Be="__reactResources$"+Pe,Ue="__reactMarker$"+Pe;function ze(e){delete e[Ne],delete e[Ie],delete e[Me],delete e[Oe],delete e[je]}function Fe(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_d(e);null!==e;){if(n=e[Ne])return n;e=_d(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ne]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[Be];return t||(t=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Ue]=!0}var Ke=new Set,We={};function $e(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function vt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ut(t)):null!=n?yt(e,o,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function gt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(I(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,It=null;function Dt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ie]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ot(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Nt||null!==It)&&(Fu(),Nt&&(t=Nt,e=It,It=Nt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ie]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Bt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Df){Ut=!1}var Ft=null,Vt=null,Gt=null;function Ht(){if(Gt)return Gt;var e,t,n=Vt,r=n.length,i="value"in Ft?Ft.value:Ft.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function $t(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Yt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Jt),en=f({},Jt,{view:0,detail:0}),tn=$t(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Xt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Xt=0,Qt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=$t(nn),an=$t(f({},nn,{dataTransfer:0})),on=$t(f({},en,{relatedTarget:0})),sn=$t(f({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=$t(f({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=$t(f({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function pn(){return hn}var mn=$t(f({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=$t(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=$t(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=$t(f({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=$t(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=$t(f({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Bt&&"CompositionEvent"in window,En=null;Bt&&"documentMode"in document&&(En=document.documentMode);var kn=Bt&&"TextEvent"in window&&!En,Tn=Bt&&(!Sn||En&&8<En&&11>=En),xn=String.fromCharCode(32),An=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function In(e,t,n,r){Nt?It?It.push(r):It=[r]:Nt=r,0<(t=Hc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function On(e){Oc(e,0)}function jn(e){if(ft(Ge(e)))return e}function Bn(e,t){if("change"===e)return t}var Un=!1;if(Bt){var zn;if(Bt){var Fn="oninput"in document;if(!Fn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Fn="function"===typeof Vn.oninput}zn=Fn}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function Gn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Mn=Dn=null)}function Hn(e){if("value"===e.propertyName&&jn(Mn)){var t=[];In(t,Mn,e,Pt(e)),Ot(On,t)}}function qn(e,t,n){"focusin"===e?(Gn(),Mn=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Mn)}function Wn(e,t){if("click"===e)return jn(t)}function $n(e,t){if("input"===e||"change"===e)return jn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Bt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hc(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function fr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Bt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var hr=fr("animationend"),pr=fr("animationiteration"),mr=fr("animationstart"),vr=fr("transitionrun"),gr=fr("transitionstart"),yr=fr("transitioncancel"),_r=fr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){br.set(e,t),$e(t,[e])}wr.push("scrollEnd");var Er=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Er.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Er.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],xr=0,Ar=0;function Cr(){for(var e=xr,t=Ar=xr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Nr(n,i,a)}}function Rr(e,t,n,r){Tr[xr++]=e,Tr[xr++]=t,Tr[xr++]=n,Tr[xr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Rr(e,t,n,r),Ir(e)}function Pr(e,t){return Rr(e,null,null,t),Ir(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-he(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Ir(e){if(50<Nu)throw Nu=0,Iu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Mr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)jr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Or(31,n,t,i)).elementType=A,e.lanes=a,e;case v:return Fr(n.children,i,a,t);case g:s=8,i|=24;break;case y:return(e=Or(12,n,t,2|i)).elementType=y,e.lanes=a,e;case E:return(e=Or(13,n,t,i)).elementType=E,e.lanes=a,e;case k:return(e=Or(19,n,t,i)).elementType=k,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case w:s=10;break e;case b:s=9;break e;case S:s=11;break e;case T:s=14;break e;case x:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Or(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Gr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Kr=null,Wr=0,$r=[],Xr=0,Yr=null,Qr=1,Jr="";function Zr(e,t){Hr[qr++]=Wr,Hr[qr++]=Kr,Kr=e,Wr=t}function ei(e,t,n){$r[Xr++]=Qr,$r[Xr++]=Jr,$r[Xr++]=Yr,Yr=e;var r=Qr;e=Jr;var i=32-he(r)-1;r&=~(1<<i),n+=1;var a=32-he(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qr=1<<32-he(t)+i|n<<i|r,Jr=a+e}else Qr=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Hr[--qr],Hr[qr]=null,Wr=Hr[--qr],Hr[qr]=null;for(;e===Yr;)Yr=$r[--Xr],$r[Xr]=null,Jr=$r[--Xr],$r[Xr]=null,Qr=$r[--Xr],$r[Xr]=null}var ri=null,ii=null,ai=!1,oi=null,si=!1,li=Error(o(519));function ui(e){throw mi(kr(Error(o(418,"")),e)),li}function ci(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Ie]=r,n){case"dialog":jc("cancel",t),jc("close",t);break;case"iframe":case"object":case"embed":jc("load",t);break;case"video":case"audio":for(n=0;n<Dc.length;n++)jc(Dc[n],t);break;case"source":jc("error",t);break;case"img":case"image":case"link":jc("error",t),jc("load",t);break;case"details":jc("toggle",t);break;case"input":jc("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":jc("invalid",t);break;case"textarea":jc("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(jc("beforetoggle",t),jc("toggle",t)),null!=r.onScroll&&jc("scroll",t),null!=r.onScrollEnd&&jc("scrollend",t),null!=r.onClick&&(t.onclick=Qc),t=!0):t=!1,t||ui(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function fi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ui(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,hd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ri?gd(e.stateNode.nextSibling):null;return!0}function hi(){ii=ri=null,ai=!1}function pi(){var e=oi;return null!==e&&(null===_u?_u=e:_u.push.apply(_u,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var vi=U(null),gi=null,yi=null;function _i(e,t,n){F(vi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=vi.current,z(vi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wi(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),wi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ei(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push($d):e=[$d])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){gi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xi(e){return Ci(gi,e)}function Ai(e,t){return null===gi&&Ti(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(o(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Li=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ni={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ii(){return{controller:new Ri,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Li(Pi,(function(){e.controller.abort()}))}var Mi=null,Oi=0,ji=0,Bi=null;function Ui(){if(0===--Oi&&null!==Mi){null!==Bi&&(Bi.status="fulfilled");var e=Mi;Mi=null,ji=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Oi=0,ji=Rc(),Bi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oi++,t.then(Ui,Ui)}(0,t),null!==zi&&zi(e,t)};var Fi=U(null);function Vi(){var e=Fi.current;return null!==e?e:ru.pooledCache}function Gi(e,t){F(Fi,null===t?Fi.current:t.pool)}function Hi(){var e=Vi();return null===e?null:{parent:Ni._currentValue,pool:e}}var qi=Error(o(460)),Ki=Error(o(474)),Wi=Error(o(542)),$i={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Qi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,qi}}var Ji=null;function Zi(){if(null===Ji)throw Error(o(459));var e=Ji;return Ji=null,e}function ea(e){if(e===qi||e===Wi)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),Nr(e,null,n),t}return Rr(e,r,t,n),Ir(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ua(){if(la){if(null!==Bi)throw Bi}}function ca(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(au&h)===h:(r&h)===h){0!==h&&h===ji&&(la=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,v=s;h=t;var g=n;switch(v.tag){case 1:if("function"===typeof(m=v.payload)){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=v.payload)?m.call(g,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ta=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),hu|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var ha=U(null),pa=U(0);function ma(e,t){F(pa,e=du),F(ha,t),du=e|t.baseLanes}function va(){F(pa,du),F(ha,ha.current)}function ga(){du=pa.current,z(ha),z(pa)}var ya=0,_a=null,ba=null,wa=null,Sa=!1,Ea=!1,ka=!1,Ta=0,xa=0,Aa=null,Ca=0;function Ra(){throw Error(o(321))}function La(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Pa(e,t,n,r,i,a){return ya=a,_a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ko:Wo,ka=!1,a=n(r,i),ka=!1,Ea&&(a=Ia(t,n,r,i)),Na(e),a}function Na(e){D.H=qo;var t=null!==ba&&null!==ba.next;if(ya=0,wa=ba=_a=null,Sa=!1,xa=0,Aa=null,t)throw Error(o(300));null===e||As||null!==(e=e.dependencies)&&ki(e)&&(As=!0)}function Ia(e,t,n,r){_a=e;var i=0;do{if(Ea&&(Aa=null),xa=0,Ea=!1,25<=i)throw Error(o(301));if(i+=1,wa=ba=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=$o,a=t(n,r)}while(Ea);return a}function Da(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?za(t):t,e=e.useState()[0],(null!==ba?ba.memoizedState:null)!==e&&(_a.flags|=1024),t}function Ma(){var e=0!==Ta;return Ta=0,e}function Oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ja(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}ya=0,wa=ba=_a=null,Ea=!1,xa=Ta=0,Aa=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?_a.memoizedState=wa=e:wa=wa.next=e,wa}function Ua(){if(null===ba){var e=_a.alternate;e=null!==e?e.memoizedState:null}else e=ba.next;var t=null===wa?_a.memoizedState:wa.next;if(null!==t)wa=t,ba=e;else{if(null===e){if(null===_a.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ba=e).memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},null===wa?_a.memoizedState=wa=e:wa=wa.next=e}return wa}function za(e){var t=xa;return xa+=1,null===Aa&&(Aa=[]),e=Qi(Aa,e,t),t=_a,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ko:Wo),e}function Fa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return za(e);if(e.$$typeof===w)return xi(e)}throw Error(o(438,String(e)))}function Va(e){var t=null,n=_a.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=_a.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Ga(e,t){return"function"===typeof t?t(e):t}function Ha(e){return qa(Ua(),ba,e)}function qa(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,u=null,c=t=i.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(au&f)===f:(ya&f)===f){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ji&&(d=!0);else{if((ya&h)===h){c=c.next,h===ji&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,_a.lanes|=h,hu|=h}f=c.action,ka&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,_a.lanes|=f,hu|=f;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!Xn(a,e.memoizedState)&&(As=!0,d&&null!==(n=Bi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=Ua(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xn(a,t.memoizedState)||(As=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Wa(e,t,n){var r=_a,i=Ua(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((ba||i).memoizedState,n);if(s&&(i.memoizedState=n,As=!0),i=i.queue,go(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==wa&&1&wa.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,i,n,t),null),null===ru)throw Error(o(349));a||0!==(124&ya)||$a(r,t,n)}return n}function $a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_a.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Qa(t)&&Ja(e)}function Ya(e,t,n){return n((function(){Qa(t)&&Ja(e)}))}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Ja(e){var t=Pr(e,2);null!==t&&Ou(t,e,2)}function Za(e){var t=Ba();if("function"===typeof e){var n=e;if(e=n(),ka){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,qa(e,ba,"function"===typeof r?r:Ga)}function to(e,t,n,r,i){if(Vo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,o={};D.T=o;try{var s=n(i,r),l=D.S;null!==l&&l(o,s),ro(e,t,s)}catch(u){ao(e,t,u)}finally{D.T=a}}else try{ro(e,t,a=n(i,r))}catch(c){ao(e,t,c)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){io(e,t,n)}),(function(n){return ao(e,t,n)})):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ai){var n=ru.formState;if(null!==n){e:{var r=_a;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=gd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=gd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=Ba()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=Uo.bind(null,_a,r),r.dispatch=n,r=Za(!1),a=Fo.bind(null,_a,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ba()).queue=i,n=to.bind(null,_a,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function uo(e){return co(Ua(),ba,e)}function co(e,t,n){if(t=qa(e,t,so)[0],e=Ha(Ga)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=za(t)}catch(o){if(o===qi)throw Wi;throw o}else r=t;var i=(t=Ua()).queue,a=i.dispatch;return n!==t.memoizedState&&(_a.flags|=2048,po(9,{destroy:void 0,resource:void 0},fo.bind(null,i,n),null)),[r,a,e]}function fo(e,t){e.action=t}function ho(e){var t=Ua(),n=ba;if(null!==n)return co(t,n,e);Ua(),t=t.memoizedState;var r=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=_a.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Ua().memoizedState}function vo(e,t,n,r){var i=Ba();r=void 0===r?null:r,_a.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function go(e,t,n,r){var i=Ua();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ba&&null!==r&&La(r,ba.memoizedState.deps)?i.memoizedState=po(t,a,n,r):(_a.flags|=e,i.memoizedState=po(1|t,a,n,r))}function yo(e,t){vo(8390656,8,e,t)}function _o(e,t){go(2048,8,e,t)}function bo(e,t){return go(4,2,e,t)}function wo(e,t){return go(4,4,e,t)}function So(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Eo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4,4,So.bind(null,t,e),n)}function ko(){}function To(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&La(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xo(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&La(t,r[1]))return r[0];if(r=e(),ka){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function Ao(e,t,n){return void 0===n||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=n,e=Mu(),_a.lanes|=e,hu|=e,n)}function Co(e,t,n,r){return Xn(n,t)?n:null!==ha.current?(e=Ao(e,n,r),Xn(e,t)||(As=!0),e):0===(42&ya)?(As=!0,e.memoizedState=n):(e=Mu(),_a.lanes|=e,hu|=e,t)}function Ro(e,t,n,r,i){var a=M.p;M.p=0!==a&&8>a?a:8;var o=D.T,s={};D.T=s,Fo(e,!1,t,n);try{var l=i(),u=D.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Du());else zo(e,t,r,Du())}catch(c){zo(e,t,{then:function(){},status:"rejected",reason:c},Du())}finally{M.p=a,D.T=o}}function Lo(){}function Po(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=No(e).queue;Ro(e,i,t,O,null===n?Lo:function(){return Io(e),n(r)})}function No(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Io(e){zo(e,No(e).next.queue,{},Du())}function Do(){return xi($d)}function Mo(){return Ua().memoizedState}function Oo(){return Ua().memoizedState}function jo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Du(),r=aa(t,e=ia(n),n);return null!==r&&(Ou(r,t,n),oa(r,t,n)),t={cache:Ii()},void(e.payload=t)}t=t.return}}function Bo(e,t,n){var r=Du();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vo(e)?Go(t,n):null!==(n=Lr(e,t,n,r))&&(Ou(n,e,r),Ho(n,t,r))}function Uo(e,t,n){zo(e,t,n,Du())}function zo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))Go(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Rr(e,t,i,0),null===ru&&Cr(),!1}catch(l){}if(null!==(n=Lr(e,t,i,r)))return Ou(n,e,r),Ho(n,t,r),!0}return!1}function Fo(e,t,n,r){if(r={lane:2,revertLane:Rc(),action:r,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(t)throw Error(o(479))}else null!==(t=Lr(e,n,r,2))&&Ou(t,e,2)}function Vo(e){var t=e.alternate;return e===_a||null!==t&&t===_a}function Go(e,t){Ea=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var qo={readContext:xi,use:Fa,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useLayoutEffect:Ra,useInsertionEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useSyncExternalStore:Ra,useId:Ra,useHostTransitionStatus:Ra,useFormState:Ra,useActionState:Ra,useOptimistic:Ra,useMemoCache:Ra,useCacheRefresh:Ra},Ko={readContext:xi,use:Fa,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:xi,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){vo(4,2,e,t)},useMemo:function(e,t){var n=Ba();t=void 0===t?null:t;var r=e();if(ka){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ba();if(void 0!==n){var i=n(t);if(ka){fe(!0);try{n(t)}finally{fe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Bo.bind(null,_a,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=Uo.bind(null,_a,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(e,t){return Ao(Ba(),e,t)},useTransition:function(){var e=Za(!1);return e=Ro.bind(null,_a,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_a,i=Ba();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ru)throw Error(o(349));0!==(124&au)||$a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,yo(Ya.bind(null,r,a,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=Ba(),t=ru.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-he(Qr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ca++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fo.bind(null,_a,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return Ba().memoizedState=jo.bind(null,_a)}},Wo={readContext:xi,use:Fa,useCallback:To,useContext:xi,useEffect:_o,useImperativeHandle:Eo,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:xo,useReducer:Ha,useRef:mo,useState:function(){return Ha(Ga)},useDebugValue:ko,useDeferredValue:function(e,t){return Co(Ua(),ba.memoizedState,e,t)},useTransition:function(){var e=Ha(Ga)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Wa,useId:Mo,useHostTransitionStatus:Do,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return eo(Ua(),0,e,t)},useMemoCache:Va,useCacheRefresh:Oo},$o={readContext:xi,use:Fa,useCallback:To,useContext:xi,useEffect:_o,useImperativeHandle:Eo,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:xo,useReducer:Ka,useRef:mo,useState:function(){return Ka(Ga)},useDebugValue:ko,useDeferredValue:function(e,t){var n=Ua();return null===ba?Ao(n,e,t):Co(n,ba.memoizedState,e,t)},useTransition:function(){var e=Ka(Ga)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Wa,useId:Mo,useHostTransitionStatus:Do,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){var n=Ua();return null!==ba?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:Oo},Xo=null,Yo=0;function Qo(e){var t=Yo;return Yo+=1,null===Xo&&(Xo=[]),Qi(Xo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&es(a)===t.type)?(Jo(t=i(t,n.props),n),t.return=e,t):(Jo(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Fr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gr(t,e.mode,n)).return=e,t;case x:return f(e,t=(0,t._init)(t._payload),n)}if(I(t)||L(t))return(t=Fr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Qo(t),n);if(t.$$typeof===w)return f(e,Ai(e,t),n);Zo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?u(e,t,n,r):null;case m:return n.key===i?c(e,t,n,r):null;case x:return h(e,t,n=(i=n._init)(n._payload),r)}if(I(n)||L(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Qo(n),r);if(n.$$typeof===w)return h(e,t,Ai(e,n),r);Zo(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return g(e,t,n,r=(0,r._init)(r._payload),i)}if(I(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return g(e,t,n,Qo(r),i);if(r.$$typeof===w)return g(e,t,n,Ai(t,r),i);Zo(t,r)}return null}function y(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var _=c.key;null!==u;){if(u.key===_){if((_=c.type)===v){if(7===u.tag){n(l,u.sibling),(d=i(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===x&&es(_)===u.type){n(l,u.sibling),Jo(d=i(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===v?((d=Fr(c.props.children,l.mode,d,c.key)).return=l,l=d):(Jo(d=zr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case m:e:{for(_=c.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=i(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Gr(c,l.mode,d)).return=l,l=d}return s(l);case x:return y(l,u,c=(_=c._init)(c._payload),d)}if(I(c))return function(i,o,s,l){for(var u=null,c=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var v=h(i,d,s[p],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,p),null===c?u=v:c.sibling=v,c=v,d=m}if(p===s.length)return n(i,d),ai&&Zr(i,p),u;if(null===d){for(;p<s.length;p++)null!==(d=f(i,s[p],l))&&(o=a(d,o,p),null===c?u=d:c.sibling=d,c=d);return ai&&Zr(i,p),u}for(d=r(d);p<s.length;p++)null!==(m=g(d,i,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=a(m,o,p),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ai&&Zr(i,p),u}(l,u,c,d);if(L(c)){if("function"!==typeof(_=L(c)))throw Error(o(150));return function(i,s,l,u){if(null==l)throw Error(o(151));for(var c=null,d=null,p=s,m=s=0,v=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(v=p,p=null):v=p.sibling;var _=h(i,p,y.value,u);if(null===_){null===p&&(p=v);break}e&&p&&null===_.alternate&&t(i,p),s=a(_,s,m),null===d?c=_:d.sibling=_,d=_,p=v}if(y.done)return n(i,p),ai&&Zr(i,m),c;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return ai&&Zr(i,m),c}for(p=r(p);!y.done;m++,y=l.next())null!==(y=g(p,i,m,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),ai&&Zr(i,m),c}(l,u,c=_.call(c),d)}if("function"===typeof c.then)return y(l,u,Qo(c),d);if(c.$$typeof===w)return y(l,u,Ai(l,c),d);Zo(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=i(u,c)).return=l,l=d):(n(l,u),(d=Vr(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{Yo=0;var i=y(e,t,n,r);return Xo=null,i}catch(o){if(o===qi||o===Wi)throw o;var a=Or(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),is=U(null),as=null;function os(e){var t=e.alternate;F(cs,1&cs.current),F(is,e),null===as&&(null===t||null!==ha.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(F(cs,cs.current),F(is,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){F(cs,cs.current),F(is,is.current)}function us(e){z(is),as===e&&(as=null),z(cs)}var cs=U(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Du(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Ou(t,e,r),oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Du(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Ou(t,e,r),oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Du(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Ou(t,e,n),oa(t,e,n))}};function ps(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function vs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var gs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){gs(e)}function _s(e){console.error(e)}function bs(e){gs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Es(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function ks(e){return(e=ia(e)).tag=3,e}function Ts(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ss(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof i&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xs=Error(o(461)),As=!1;function Cs(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Rs(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ti(t),r=Pa(e,t,n,o,a,i),s=Ma(),null===e||As?(ai&&s&&ti(t),t.flags|=1,Cs(e,t,r,i),t.child):(Oa(e,t,i),Xs(e,t,i))}function Ls(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||jr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ps(e,t,a,r,i))}if(a=e.child,!Ys(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(As=!1,t.pendingProps=r=a,!Ys(e,i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(As=!0)}}return Ms(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Is(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Is(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):va(),ss(t)}else null!==a?(Gi(0,a.cachePool),ma(t,a),ls(),t.memoizedState=null):(null!==e&&Gi(0,null),va(),ls());return Cs(e,t,i,n),t.child}function Is(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),va(),ss(t),null!==e&&Ei(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ms(e,t,n,r,i){return Ti(t),n=Pa(e,t,n,r,void 0,i),r=Ma(),null===e||As?(ai&&r&&ti(t),t.flags|=1,Cs(e,t,n,i),t.child):(Oa(e,t,i),Xs(e,t,i))}function Os(e,t,n,r,i,a){return Ti(t),t.updateQueue=null,n=Ia(t,r,n,i),Na(e),r=Ma(),null===e||As?(ai&&r&&ti(t),t.flags|=1,Cs(e,t,n,a),t.child):(Oa(e,t,a),Xs(e,t,a))}function js(e,t,n,r,i){if(Ti(t),null===t.stateNode){var a=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(a=xi(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?xi(o):Dr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(fs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&hs.enqueueReplaceState(a,a.state,null),ca(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=vs(n,s);a.props=l;var u=a.context,c=n.contextType;o=Dr,"object"===typeof c&&null!==c&&(o=xi(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||u!==o)&&ms(t,a,r,o),ta=!1;var f=t.memoizedState;a.state=f,ca(t,r,a,i),ua(),u=t.memoizedState,s||f!==u||ta?("function"===typeof d&&(fs(t,n,d,r),u=t.memoizedState),(l=ta||ps(t,n,l,r,f,u,o))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),c=vs(n,o=t.memoizedProps),a.props=c,d=t.pendingProps,f=a.context,u=n.contextType,l=Dr,"object"===typeof u&&null!==u&&(l=xi(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||f!==l)&&ms(t,a,r,l),ta=!1,f=t.memoizedState,a.state=f,ca(t,r,a,i),ua();var h=t.memoizedState;o!==d||f!==h||ta||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof s&&(fs(t,n,s,r),h=t.memoizedState),(c=ta||ps(t,n,c,r,f,h,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ds(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Cs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Xs(e,t,i),e}function Bs(e,t,n,r){return hi(),t.flags|=256,Cs(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Hi()}}function Fs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function Vs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?os(t):ls(),ai){var l,u=ii;if(l=u){e:{for(l=u,u=si;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=gd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ui(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return vd(u)?t.lanes=32:t.lanes=536870912,null;us(t)}return u=i.children,i=i.fallback,a?(ls(),u=Hs({mode:"hidden",children:u},a=t.mode),i=Fr(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(a=t.child).memoizedState=zs(n),a.childLanes=Fs(e,r,n),t.memoizedState=Us,i):(os(t),Gs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=qs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=i.fallback,u=t.mode,i=Hs({mode:"visible",children:i.children},u),(a=Fr(a,u,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=zs(n),i.childLanes=Fs(e,r,n),t.memoizedState=Us,t=a);else if(os(t),vd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=qs(e,t,n)}else if(As||Ei(e,t,n,!1),r=0!==(n&e.childLanes),As||r){if(null!==(r=ru)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ce(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Ou(r,e,i),xs;"$?"===u.data||Wu(),t=qs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=gd(u.nextSibling),ri=t,ai=!0,oi=null,si=!1,null!==e&&($r[Xr++]=Qr,$r[Xr++]=Jr,$r[Xr++]=Yr,Qr=e.id,Jr=e.overflow,Yr=t),(t=Gs(t,i.children)).flags|=4096);return t}return a?(ls(),a=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Br(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Br(c,a):(a=Fr(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(u=e.child.memoizedState)?u=zs(n):(null!==(l=u.cachePool)?(c=Ni._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Hi(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Fs(e,r,n),t.memoizedState=Us,i):(os(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Gs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qs(e,t,n){return ns(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $s(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Cs(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(F(cs,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ei(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Qs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),_i(0,Ni,e.memoizedState.cache),hi();break;case 27:case 5:$(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(os(t),null!==(e=Xs(e,t,n))?e.sibling:null);os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ei(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return $s(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),F(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:_i(0,Ni,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,ai&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Rs(null,t,r,e,n);break e}if(i===T){t.tag=14,t=Ls(null,t,r,e,n);break e}}throw t=N(r)||r,Error(o(306,t,""))}jr(r)?(e=vs(r,e),t.tag=1,t=js(null,t,r,e,n)):(t.tag=0,t=Ms(null,t,r,e,n))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,n);case 1:return js(e,t,r=t.type,i=vs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ca(t,r,null,n);var s=t.memoizedState;if(r=s.cache,_i(0,Ni,r),r!==a.cache&&Si(t,[Ni],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Bs(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(o(424)),t)),t=Bs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=gd(e.firstChild),ri=t,ai=!0,oi=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===i){t=Xs(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ne]=t,r[Ie]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ai&&(r=t.stateNode=bd(t.type,t.pendingProps,H.current),ri=t,si=!0,i=ii,hd(t.type)?(yd=i,ii=gd(r.firstChild)):ii=i),Cs(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=gd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=gd(r.firstChild),si=!1,i=!0):i=!1),i||ui(t)),$(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==s&&od(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Pa(e,t,Da,null,null,n),$d._currentValue=i),Ds(e,t),Cs(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ui(t)),null;case 13:return Vs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return Rs(e,t,t.type,t.pendingProps,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Cs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=xi(i)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 19:return $s(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Br(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ti(t),r=xi(Ni),null===e?(null===(i=Vi())&&(i=ru,a=Ii(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),_i(0,Ni,i)):(0!==(e.lanes&n)&&(ra(e,t),ca(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Ni,r)):(r=a.cache,_i(0,Ni,r),r!==i.cache&&Si(t,[Ni],n,!0))),Cs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Fd(t)){if(null!==(t=is.current)&&((4194048&au)===au?null!==as:(62914560&au)!==au&&0===(536870912&au)||t!==as))throw Ji=$i,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,gu|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ni),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=V.current,fi(t)?ci(t):(e=bd(i,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=V.current,fi(t))ci(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[Ie]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||ui(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ne]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&zc(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(z(cs),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return F(cs,1&cs.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Su&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=cs.current,F(cs,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return us(t),ga(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Fi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ni),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ni),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(cs),null;case 4:return W(),null;case 10:return bi(t.type),null;case 22:case 23:return us(t),ga(),null!==e&&z(Fi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ni),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:bi(Ni),W();break;case 26:case 27:case 5:X(t);break;case 4:W();break;case 13:us(t);break;case 19:z(cs);break;case 10:bi(t.type);break;case 22:case 23:us(t),ga(),null!==e&&z(Fi);break;case 24:bi(Ni)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){cc(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){cc(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=vs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){cc(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){cc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){cc(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){cc(e,e.return,i)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":u=f;default:r.hasOwnProperty(p)||Jc(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==f&&Jc(e,t,h,p,r,f)}}return void vt(e,s,l,u,c,d,a,i);case"select":for(a in p=s=l=h=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(a)||Jc(e,t,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=a||null!=u))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Jc(e,t,i,a,r,u)}return t=l,n=s,r=p,void(null!=h?_t(e,!!n,h,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jc(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Jc(e,t,s,i,r,a)}return void bt(e,h,p);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Jc(e,t,m,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Jc(e,t,u,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Jc(e,t,v,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Jc(e,t,c,h,r,p)}return;default:if(xt(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!r.hasOwnProperty(g)&&Zc(e,t,g,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Zc(e,t,d,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&Jc(e,t,y,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Jc(e,t,f,h,r,p)}(r,e.type,n,t),r[Ie]=t}catch(i){cc(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qc));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Ne]=e,t[Ie]=n}catch(a){cc(e,e.return,a)}}var _l=!1,bl=!1,wl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,El=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&ol(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){cc(n,n.return,o)}else{var i=vs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){cc(n,n.return,s)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(o){cc(n,n.return,o)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:jl(e,n),null===t&&4&r&&fl(n),512&r&&cl(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Ll(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||bl,i=_l;var a=bl;_l=r,(bl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):jl(e,n),_l=i,bl=a}break;case 30:break;default:jl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Al=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(a){}switch(n.tag){case 26:bl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=xl,i=Al;hd(n.type)&&(xl=n.stateNode,Al=!1),Cl(e,t,n),wd(n.stateNode),xl=r,Al=i;break;case 5:bl||dl(n,t);case 6:if(r=xl,i=Al,xl=null,Cl(e,t,n),Al=i,null!==(xl=r))if(Al)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(o){cc(n,t,o)}else try{xl.removeChild(n.stateNode)}catch(o){cc(n,t,o)}break;case 18:null!==xl&&(Al?(pd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Cf(e)):pd(xl,n.stateNode));break;case 4:r=xl,i=Al,xl=n.stateNode.containerInfo,Al=!0,Cl(e,t,n),xl=r,Al=i;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),Cl(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Cl(e,t,n),bl=r;break;default:Cl(e,t,n)}}function Ll(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cf(e)}catch(n){cc(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){xl=l.stateNode,Al=!1;break e}break;case 5:xl=l.stateNode,Al=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===xl)throw Error(o(160));Rl(a,s,i),xl=null,Al=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Il=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Ml(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Il;if(Nl(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ue]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Ne]=e,qe(a),r=a;break e;case"link":var s=Ud("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Ne]=e,qe(a),r=a}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?zd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){cc(e,e.return,p)}}4&r&&null!=e.stateNode&&hl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Nl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){cc(e,e.return,p)}}break;case 3:if(Bd=null,i=Il,Il=kd(t.containerInfo),Nl(t,e),Il=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Cf(t.containerInfo)}catch(p){cc(e,e.return,p)}wl&&(wl=!1,Ol(e));break;case 4:r=Il,Il=kd(e.stateNode.containerInfo),Nl(t,e),Ml(e),Il=r;break;case 12:default:Nl(t,e),Ml(e);break;case 13:Nl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=_l,d=bl;if(_l=c||i,bl=d||u,Nl(t,e),bl=d,_l=c,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||_l||bl||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var f=u.memoizedProps.style,h=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){cc(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(p){cc(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Nl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;gl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(St(a,""),n.flags&=-33),gl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;vl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Bl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Bl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,n),ol(4,a);break;case 1:if(Ul(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(u){cc(r,r.return,u)}}n&&64&o&&ll(a),cl(a,a.return);break;case 27:yl(a);case 26:case 5:Ul(i,a,n),n&&null===r&&4&o&&fl(a),cl(a,a.return);break;case 12:Ul(i,a,n);break;case 13:Ul(i,a,n),n&&4&o&&Ll(i,a);break;case 22:null===a.memoizedState&&Ul(i,a,n),cl(a,a.return);break;case 30:break;default:Ul(i,a,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Fl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gl(e,t,n,r),t=t.sibling}function Gl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Vl(e,t,n,r):ql(e,t):2&a._visibility?Vl(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(o,t);break;case 24:Vl(e,t,n,r),2048&i&&Fl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(a,o,s,l,i),ol(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Hl(a,o,s,l,i):ql(a,o):(c._visibility|=2,Hl(a,o,s,l,i)),i&&2048&u&&zl(o.alternate,o);break;case 24:Hl(a,o,s,l,i),i&&2048&u&&Fl(o.alternate,o);break;default:Hl(a,o,s,l,i)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ql(n,r),2048&i&&zl(r.alternate,r);break;case 24:ql(n,r),2048&i&&Fl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(o(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Rd(n.href),a=e.querySelector(Ld(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=Pd(n),(i=Sd.get(i))&&Od(n,i),qe(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Il,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Il;Il=kd(e.stateNode.containerInfo),Wl(e),Il=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,a=r.return;if(Tl(r),r===n){El=null;break e}if(null!==i){i.return=a,El=i;break e}El=a}}}var eu={getCacheForType:function(e){var t=xi(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,iu=null,au=0,ou=0,su=null,lu=!1,uu=!1,cu=!1,du=0,fu=0,hu=0,pu=0,mu=0,vu=0,gu=0,yu=null,_u=null,bu=!1,wu=0,Su=1/0,Eu=null,ku=null,Tu=0,xu=null,Au=null,Cu=0,Ru=0,Lu=null,Pu=null,Nu=0,Iu=null;function Du(){if(0!==(2&nu)&&0!==au)return au&-au;if(null!==D.T){return 0!==ji?ji:Rc()}return Le()}function Mu(){0===vu&&(vu=0===(536870912&au)||ai?Se():536870912);var e=is.current;return null!==e&&(e.flags|=32),vu}function Ou(e,t,n){(e!==ru||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(Gu(e,0),zu(e,au,vu,!1)),Te(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(pu|=n),4===fu&&zu(e,au,vu,!1)),Sc(e))}function ju(e,t,n){if(0!==(6&nu))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nu;nu|=2;var r=qu(),i=Ku();ru!==e||au!==t?(Eu=null,Su=te()+500,Gu(e,t)):uu=be(e,t);e:for(;;)try{if(0!==ou&&null!==iu){t=iu;var a=su;t:switch(ou){case 1:ou=0,su=null,Zu(e,t,a,1);break;case 2:case 9:if(Xi(a)){ou=0,su=null,Ju(t);break}t=function(){2!==ou&&9!==ou||ru!==e||(ou=7),Sc(e)},a.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:Xi(a)?(ou=0,su=null,Ju(t)):(ou=0,su=null,Zu(e,t,a,7));break;case 5:var s=null;switch(iu.tag){case 26:s=iu.memoizedState;case 5:case 27:var l=iu;if(!s||Fd(s)){ou=0,su=null;var u=l.sibling;if(null!==u)iu=u;else{var c=l.return;null!==c?(iu=c,ec(c)):iu=null}break t}}ou=0,su=null,Zu(e,t,a,5);break;case 6:ou=0,su=null,Zu(e,t,a,6);break;case 8:Vu(),fu=6;break e;default:throw Error(o(462))}}Yu();break}catch(d){Hu(e,d)}return yi=gi=null,D.H=r,D.A=i,nu=n,null!==iu?0:(ru=null,au=0,Cr(),fu)}(e,t):$u(e,t,!0),a=r;;){if(0===i){uu&&!r&&zu(e,t,0,!1);break}if(n=e.current.alternate,!a||Uu(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=yu;var u=l.current.memoizedState.isDehydrated;if(u&&(Gu(l,s).flags|=256),2!==(s=$u(l,s,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=a,pu|=a,i=4;break e}a=_u,_u=i,null!==a&&(null===_u?_u=a:_u.push.apply(_u,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){Gu(e,0),zu(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:zu(r,t,vu,!lu);break e;case 2:_u=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=wu+300-te())){if(zu(r,t,vu,!lu),0!==_e(r,0,!0))break e;r.timeoutHandle=ld(Bu.bind(null,r,n,_u,Eu,bu,t,vu,pu,gu,lu,a,2,-0,0),i)}else Bu(r,n,_u,Eu,bu,t,vu,pu,gu,lu,a,0,-0,0)}break}i=$u(e,t,!1),a=!1}Sc(e)}function Bu(e,t,n,r,i,a,s,l,u,c,d,f,h,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Vd={stylesheets:null,count:0,unsuspend:Gd},$l(t),null!==(f=function(){if(null===Vd)throw Error(o(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nc.bind(null,e,t,a,n,r,i,s,l,u,d,1,h,p)),void zu(e,a,s,!c);nc(e,t,a,n,r,i,s,l,u)}function Uu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t,n,r){t&=~mu,t&=~pu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-he(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&xe(e,n,t)}function Fu(){return 0!==(6&nu)||(Ec(0,!1),!1)}function Vu(){if(null!==iu){if(0===ou)var e=iu.return;else yi=gi=null,ja(e=iu),Xo=null,Yo=0,e=iu;for(;null!==e;)al(e.alternate,e),e=e.return;iu=null}}function Gu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vu(),ru=e,iu=n=Br(e.current,null),au=t,ou=0,su=null,lu=!1,uu=be(e,t),cu=!1,gu=vu=mu=pu=hu=fu=0,_u=yu=null,bu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-he(r),a=1<<i;t|=e[i],r&=~a}return du=t,Cr(),n}function Hu(e,t){_a=null,D.H=qo,t===qi||t===Wi?(t=Zi(),ou=3):t===Ki?(t=Zi(),ou=4):ou=t===xs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===iu&&(fu=1,ws(e,kr(t,e.current)))}function qu(){var e=D.H;return D.H=qo,null===e?qo:e}function Ku(){var e=D.A;return D.A=eu,e}function Wu(){fu=4,lu||(4194048&au)!==au&&null!==is.current||(uu=!0),0===(134217727&hu)&&0===(134217727&pu)||null===ru||zu(ru,au,vu,!1)}function $u(e,t,n){var r=nu;nu|=2;var i=qu(),a=Ku();ru===e&&au===t||(Eu=null,Gu(e,t)),t=!1;var o=fu;e:for(;;)try{if(0!==ou&&null!==iu){var s=iu,l=su;switch(ou){case 8:Vu(),o=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var u=ou;if(ou=0,su=null,Zu(e,s,l,u),n&&uu){o=0;break e}break;default:u=ou,ou=0,su=null,Zu(e,s,l,u)}}Xu(),o=fu;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,yi=gi=null,nu=r,D.H=i,D.A=a,null===iu&&(ru=null,au=0,Cr()),o}function Xu(){for(;null!==iu;)Qu(iu)}function Yu(){for(;null!==iu&&!Z();)Qu(iu)}function Qu(e){var t=Qs(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Os(n,t,t.pendingProps,t.type,void 0,au);break;case 11:t=Os(n,t,t.pendingProps,t.type.render,t.ref,au);break;case 5:ja(t);default:al(n,t),t=Qs(n,t=iu=Ur(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Zu(e,t,n,r){yi=gi=null,ja(t),Xo=null,Yo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ei(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===as?Wu():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===$i?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,i)),!1;case 22:return n.flags|=65536,r===$i?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,i)),!1}throw Error(o(435,n.tag))}return dc(e,r,i),Wu(),!1}if(ai)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),sa(e,i=Es(e.stateNode,r,i)),4!==fu&&(fu=2)),!1;var a=Error(o(520),{cause:r});if(a=kr(a,n),null===yu?yu=[a]:yu.push(a),4!==fu&&(fu=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,sa(n,e=Es(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===ku||!ku.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ts(i=ks(i),e,n,r),sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,au))return fu=1,ws(e,kr(n,e.current)),void(iu=null)}catch(a){if(null!==i)throw iu=i,a;return fu=1,ws(e,kr(n,e.current)),void(iu=null)}32768&t.flags?(ai||1===r?e=!0:uu||0!==(536870912&au)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(iu=n);if(null!==(t=t.sibling))return void(iu=t);iu=t=e}while(null!==t);0===fu&&(fu=5)}function tc(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(iu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(iu=e);iu=e=n}while(null!==e);fu=6,iu=null}function nc(e,t,n,r,i,a,s,l,u){e.cancelPendingCommit=null;do{sc()}while(0!==Tu);if(0!==(6&nu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-he(n),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Ar,s,l,u),e===ru&&(iu=ru=null,au=0),Au=t,xu=e,Cu=n,Ru=a,Lu=i,Pu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ae,(function(){return lc(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,s=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(v){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(a=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=vs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){cc(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{nu=s,M.p=i,D.T=r}}Tu=1,rc(),ic(),ac()}}function rc(){if(1===Tu){Tu=0;var e=xu,t=Au,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nu;nu|=4;try{Dl(t,e);var a=nd,o=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),v=void 0===l.end?m:Math.min(l.end,p);!h.extend&&m>v&&(o=v,v=m,m=o);var g=Jn(s,m),y=Jn(s,v);if(g&&y&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var _=d.createRange();_.setStart(g.node,g.offset),h.removeAllRanges(),m>v?(h.addRange(_),h.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),h.addRange(_))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nf=!!td,nd=td=null}finally{nu=i,M.p=r,D.T=n}}e.current=t,Tu=2}}function ic(){if(2===Tu){Tu=0;var e=xu,t=Au,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nu;nu|=4;try{kl(e,t.alternate,t)}finally{nu=i,M.p=r,D.T=n}}Tu=3}}function ac(){if(4===Tu||3===Tu){Tu=0,ee();var e=xu,t=Au,n=Cu,r=Pu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tu=5:(Tu=0,Au=xu=null,oc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(ku=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{D.T=t,M.p=i}}0!==(3&Cu)&&sc(),Sc(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Iu?Nu++:(Nu=0,Iu=e):Nu=0,Ec(0,!1)}}function oc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function sc(e){return rc(),ic(),ac(),lc()}function lc(){if(5!==Tu)return!1;var e=xu,t=Ru;Ru=0;var n=Re(Cu),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Lu,Lu=null;var a=xu,s=Cu;if(Tu=0,Au=xu=null,Cu=0,0!==(6&nu))throw Error(o(331));var l=nu;if(nu|=4,Ql(a.current),Gl(a,a.current,s,n),nu=l,Ec(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,a)}catch(u){}return!0}finally{M.p=i,D.T=r,oc(e,t)}}function uc(e,t,n){t=kr(n,t),null!==(e=aa(e,t=Es(e.stateNode,t,2),2))&&(Te(e,2),Sc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=kr(n,e),null!==(r=aa(t,n=ks(2),2))&&(Ts(n,r,t,e),Te(r,2),Sc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cu=!0,i.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(au&n)===n&&(4===fu||3===fu&&(62914560&au)===au&&300>te()-wu?0===(2&nu)&&Gu(e,0):mu|=n,gu===au&&(gu=0)),Sc(e)}function hc(e,t){0===t&&(t=Ee()),null!==(e=Pr(e,t))&&(Te(e,t),Sc(e))}function pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),hc(e,n)}var vc=null,gc=null,yc=!1,_c=!1,bc=!1,wc=0;function Sc(e){e!==gc&&null===e.next&&(null===gc?vc=gc=e:gc=gc.next=e),_c=!0,yc||(yc=!0,dd((function(){0!==(6&nu)?Q(re,kc):Tc()})))}function Ec(e,t){if(!bc&&_c){bc=!0;do{for(var n=!1,r=vc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cc(r,a))}else a=au,0===(3&(a=_e(r,r===ru?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,a)||(n=!0,Cc(r,a));r=r.next}}while(n);bc=!1}}function kc(){Tc()}function Tc(){_c=yc=!1;var e=0;0!==wc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wc),wc=0);for(var t=te(),n=null,r=vc;null!==r;){var i=r.next,a=xc(r,t);0===a?(r.next=null,null===n?vc=i:n.next=i,null===i&&(gc=n)):(n=r,(0!==e||0!==(3&a))&&(_c=!0)),r=i}Ec(e,!1)}function xc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-he(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=we(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=au,n=_e(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Re(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Ac.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Ac(e,t){if(0!==Tu&&5!==Tu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=au;return 0===(r=_e(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ju(e,r,t),xc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ac.bind(null,e):null)}function Cc(e,t){if(sc())return null;ju(e,t,!0)}function Rc(){return 0===wc&&(wc=Se()),wc}function Lc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Pc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nc=0;Nc<wr.length;Nc++){var Ic=wr[Nc];Sr(Ic.toLowerCase(),"on"+(Ic[0].toUpperCase()+Ic.slice(1)))}Sr(hr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(vr,"onTransitionRun"),Sr(gr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(_r,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function Oc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){gs(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){gs(c)}i.currentTarget=null,a=l}}}}function jc(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Fc(t,e,2,!1),n.add(r))}function Bc(e,t,n){var r=0;t&&(r|=4),Fc(n,e,r,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Uc]){e[Uc]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Mc.has(t)||Bc(t,!1,e),Bc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uc]||(t[Uc]=!0,Bc("selectionchange",!1,t))}}function Fc(e,t,n,r){switch(cf(t)){case 2:var i=rf;break;case 8:i=af;break;default:i=of}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vc(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Fe(s)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ot((function(){var r=a,i=Pt(n),o=[];e:{var s=br.get(e);if(void 0!==s){var u=Zt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=on;break;case"focusout":c="blur",u=on;break;case"beforeblur":case"afterblur":u=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=gn;break;case hr:case pr:case mr:u=sn;break;case _r:u=yn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=_n;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=vn;break;case"toggle":case"beforetoggle":u=bn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var v=m;if(p=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===p||null===h||null!=(v=jt(m,h))&&d.push(Gc(m,v,p)),f)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Lt||!(c=n.relatedTarget||n.fromElement)||!Fe(c)&&!c[De])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Fe(c):null)&&(f=l(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,v="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,v="onPointerLeave",h="onPointerEnter",m="pointer"),f=null==u?s:Ge(u),p=null==c?s:Ge(c),(s=new d(v,m+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,Fe(i)===r&&((d=new d(h,m+"enter",c,n,i)).target=p,d.relatedTarget=f,v=d),f=v,u&&c)e:{for(h=c,m=0,p=d=u;p;p=qc(p))m++;for(p=0,v=h;v;v=qc(v))p++;for(;0<m-p;)d=qc(d),m--;for(;0<p-m;)h=qc(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=qc(d),h=qc(h)}d=null}else d=null;null!==u&&Kc(o,s,u,d,!1),null!==c&&null!==f&&Kc(o,f,c,d,!0)}if("select"===(u=(s=r?Ge(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Bn;else if(Nn(s))if(Un)g=$n;else{g=Kn;var y=qn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&xt(r.elementType)&&(g=Bn):g=Wn;switch(g&&(g=g(e,r))?In(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?Ge(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var _;if(Sn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(_=Ht()):(Vt="value"in(Ft=i)?Ft.value:Ft.textContent,Ln=!0)),0<(y=Hc(r,b)).length&&(b=new un(b,e,null,n,i),o.push({event:b,listeners:y}),_?b.data=_:null!==(_=Rn(n))&&(b.data=_))),(_=kn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,xn);case"textInput":return(e=t.data)===xn&&An?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Sn&&Cn(e,t)?(e=Ht(),Gt=Vt=Ft=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hc(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:b}),y.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Lc((i[Ie]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ie]||null)?Lc(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wc){var e=o?Pc(i,o):new FormData(i);Po(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Pc(i,o):new FormData(i),Po(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Oc(o,t)}))}function Gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=jt(e,n))&&r.unshift(Gc(e,i,a)),null!=(i=jt(e,t))&&r.push(Gc(e,i,a))),3===e.tag)return r;e=e.return}return[]}function qc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=jt(n,a))&&o.unshift(Gc(n,u,l)):i||null!=(u=jt(n,a))&&o.push(Gc(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wc=/\r\n?/g,$c=/\u0000|\uFFFD/g;function Xc(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace($c,"")}function Yc(e,t){return t=Xc(t),Xc(e)===t}function Qc(){}function Jc(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Jc(e,t,"name",i.name,i,null),Jc(e,t,"formEncType",i.formEncType,i,null),Jc(e,t,"formMethod",i.formMethod,i,null),Jc(e,t,"formTarget",i.formTarget,i,null)):(Jc(e,t,"encType",i.encType,i,null),Jc(e,t,"method",i.method,i,null),Jc(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"onScroll":null!=r&&jc("scroll",e);break;case"onScrollEnd":null!=r&&jc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":jc("beforetoggle",e),jc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function Zc(e,t,n,r,i,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&jc("scroll",e);break;case"onScrollEnd":null!=r&&jc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ie]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jc("error",e),jc("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Jc(e,t,r,s,n,null)}}return a&&Jc(e,t,"srcSet",n.srcSet,n,null),void(i&&Jc(e,t,"src",n.src,n,null));case"input":jc("invalid",e);var l=r=s=a=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Jc(e,t,i,d,n,null)}}return gt(e,r,l,u,c,s,a,!1),void dt(e);case"select":for(a in jc("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Jc(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(s in jc("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Jc(e,t,s,l,n,null)}return wt(e,i,a,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Jc(e,t,u,i,n,null);return;case"dialog":jc("beforetoggle",e),jc("toggle",e),jc("cancel",e),jc("close",e);break;case"iframe":case"object":jc("load",e);break;case"video":case"audio":for(i=0;i<Dc.length;i++)jc(Dc[i],e);break;case"image":jc("error",e),jc("load",e);break;case"details":jc("toggle",e);break;case"embed":case"source":case"link":jc("error",e),jc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Jc(e,t,c,i,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zc(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Jc(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(fd)}:ld;function fd(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&wd(o.documentElement),2&n&&wd(o.body),4&n)for(wd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Cf(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Cf(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sd=new Map,Ed=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=M.d;M.d={f:function(){var e=Td.f(),t=Fu();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Io(t):Td.r(e)},D:function(e){Td.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=xd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Rd(e);break;case"script":a=Nd(e)}Sd.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ld(a))||"script"===t&&r.querySelector(Id(a))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=xd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Nd(e)}if(!Sd.has(a)&&(e=f({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Id(a)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=xd;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Id(i)))||(e=f({src:e,async:!0},t),(t=Sd.get(i))&&jd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Td.S(e,t,n);var r=xd;if(r&&e){var i=He(r).hoistableStyles,a=Rd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Ld(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&Od(e,n);var l=o=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Md(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Td.M(e,t);var n=xd;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Id(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&jd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var xd="undefined"===typeof document?null:document;function Ad(e,t,n){var r=xd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,a,s,l,u=(u=H.current)?kd(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ld(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),c||(i=u,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),ed(a,"link",s),qe(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rd(e){return'href="'+mt(e)+'"'}function Ld(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+mt(e)+'"]'}function Id(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Rd(n.href);var a=e.querySelector(Ld(i));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;r=Pd(n),(i=Sd.get(i))&&Od(r,i),qe(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",r),t.state.loading|=4,Md(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(i=e.querySelector(Id(a)))?(t.instance=i,qe(i),i):(r=n,(i=Sd.get(a))&&jd(r=f({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bd=null;function Ud(e,t,n){if(null===Bd){var r=new Map,i=Bd=new Map;i.set(n,r)}else(r=(i=Bd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ue]||a[Ne]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Fd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Gd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Wd,e),qd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var $d={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Xd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,a,o,s,l,u,c,d){return e=new Xd(e,t,n,o,s,l,u,d),t=1,!0===a&&(t|=24),a=Or(3,null,null,t),e.current=a,a.stateNode=e,(t=Ii()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Qd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,i,a){i=Qd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Ou(n,0,t),oa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tf(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Ou(t,0,67108864),ef(e,67108864)}}var nf=!0;function rf(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=2,of(e,t,n,r)}finally{M.p=a,D.T=i}}function af(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=8,of(e,t,n,r)}finally{M.p=a,D.T=i}}function of(e,t,n,r){if(nf){var i=sf(r);if(null===i)Vc(e,t,r,lf,n),_f(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ff=bf(ff,e,t,n,r,i),!0;case"dragenter":return hf=bf(hf,e,t,n,r,i),!0;case"mouseover":return pf=bf(pf,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mf.set(a,bf(mf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vf.set(a,bf(vf.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(_f(e,r),4&t&&-1<yf.indexOf(e)){for(;null!==i;){var a=Ve(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ye(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-he(o);s.entanglements[1]|=l,o&=~l}Sc(a),0===(6&nu)&&(Su=te()+500,Ec(0,!1))}}break;case 13:null!==(s=Pr(a,2))&&Ou(s,0,2),Fu(),ef(a,2)}if(null===(a=sf(r))&&Vc(e,t,r,lf,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vc(e,t,r,null,n)}}function sf(e){return uf(e=Pt(e))}var lf=null;function uf(e){if(lf=null,null!==(e=Fe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lf=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,hf=null,pf=null,mf=new Map,vf=new Map,gf=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _f(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(t.pointerId)}}function bf(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wf(e){var t=Fe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,(function(){if(13===n.tag){var e=Du();e=Ce(e);var t=Pr(n,e);null!==t&&Ou(t,0,e),ef(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sf(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function Ef(e,t,n){Sf(e)&&n.delete(t)}function kf(){df=!1,null!==ff&&Sf(ff)&&(ff=null),null!==hf&&Sf(hf)&&(hf=null),null!==pf&&Sf(pf)&&(pf=null),mf.forEach(Ef),vf.forEach(Ef)}function Tf(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kf)))}var xf=null;function Af(e){xf!==e&&(xf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){xf===e&&(xf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===uf(r||n))continue;break}var a=Ve(n);null!==a&&(e.splice(t,3),t-=3,Po(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Cf(e){function t(t){return Tf(t,e)}null!==ff&&Tf(ff,e),null!==hf&&Tf(hf,e),null!==pf&&Tf(pf,e),mf.forEach(t),vf.forEach(t);for(var n=0;n<gf.length;n++){var r=gf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gf.length&&null===(n=gf[0]).blockedOn;)wf(n),null===n.blockedOn&&gf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ie]||null;if("function"===typeof a)o||Af(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ie]||null)s=o.formAction;else if(null!==uf(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Af(n)}}}function Rf(e){this._internalRoot=e}function Lf(e){this._internalRoot=e}Lf.prototype.render=Rf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Du(),e,t,null,null)},Lf.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Fu(),t[De]=null}},Lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gf.length&&0!==t&&t<gf[n].priority;n++);gf.splice(n,0,e),0===n&&wf(e)}};var Pf=i.version;if("19.1.0"!==Pf)throw Error(o(527,Pf,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return c(i),e;if(a===r)return c(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Nf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{ce=If.inject(Nf),de=If}catch(Mf){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=ys,a=_s,l=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,a,l,0,null),e[De]=t.current,zc(e),new Rf(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=ys,l=_s,u=bs,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,i,a,l,u,0,c)).context=Qd(null),n=t.current,(i=ia(r=Ce(r=Du()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Te(t,n),Sc(t),e[De]=t.current,zc(e),new Lf(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},72:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";var r=n(6),i=n.n(r),a=function(){function e(){}return e.e=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",r),e.ENABLE_ERROR&&(console.error?console.error(r):console.warn?console.warn(r):console.log(r))},e.i=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",r),e.ENABLE_INFO&&(console.info?console.info(r):console.log(r))},e.w=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",r),e.ENABLE_WARN&&(console.warn?console.warn(r):console.log(r))},e.d=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",r),e.ENABLE_DEBUG&&(console.debug?console.debug(r):console.log(r))},e.v=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",r),e.ENABLE_VERBOSE&&console.log(r)},e}();a.GLOBAL_TAG="mpegts.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new i.a,t.a=a},function(e,t,n){"use strict";t.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(3),i={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=function(){function e(e){this._type=e||"undefined",this._status=i.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=i.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===i.kConnecting||this._status===i.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new r.c("Unimplemented abstract function!")},e.prototype.abort=function(){throw new r.c("Unimplemented abstract function!")},e}()},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r,i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(a),s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(a),l=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(a)},function(e,t,n){"use strict";var r={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},a={};if(i.browser){a[i.browser]=!0;var o=i.majorVersion.split(".");a.version={major:parseInt(i.majorVersion,10),string:i.version},o.length>1&&(a.version.minor=parseInt(o[1],10)),o.length>2&&(a.version.build=parseInt(o[2],10))}for(var s in i.platform&&(a[i.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),(a.rv||a.iemobile)&&(a.rv&&delete a.rv,i.browser="msie",a.msie=!0),a.edge&&(delete a.edge,i.browser="msedge",a.msedge=!0),a.opr&&(i.browser="opera",a.opera=!0),a.safari&&a.android&&(i.browser="android",a.android=!0),a.name=i.browser,a.platform=i.platform,r)r.hasOwnProperty(s)&&delete r[s];Object.assign(r,a)}(),t.a=r},function(e,t,n){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=v(l,u);for(n=0;n<u;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=function(e,t,n,r,i){this.dts=e,this.pts=t,this.duration=n,this.originalDts=r,this.isSyncPoint=i,this.fileposition=null},i=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),a=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,n=0,r=t.length-1,i=0,a=0,o=r;for(e<t[0].dts&&(n=0,a=o+1);a<=o;){if((i=a+Math.floor((o-a)/2))===r||e>=t[i].dts&&e<t[i+1].dts){n=i;break}t[i].dts<e?a=i+1:o=i-1}return this._list[n]},e}(),o=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,r=0,i=0,a=n,o=0;if(e<t[0].originalBeginDts)return-1;for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){o=r;break}t[r].originalBeginDts<e?i=r+1:a=r-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,n=e,r=this._lastAppendLocation,i=0;-1!==r&&r<t.length&&n.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&n.originalBeginDts<t[r+1].originalBeginDts)?i=r+1:t.length>0&&(i=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,n)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null},e}()},function(e,t,n){"use strict";var r=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}},e.prototype._search=function(e,t){var n=0,r=e.length-1,i=0,a=0,o=r;for(t<e[0]&&(n=0,a=o+1);a<=o;){if((i=a+Math.floor((o-a)/2))===r||t>=e[i]&&t<e[i+1]){n=i;break}e[i]<t?a=i+1:o=i-1}return n},e}();t.a=r},function(e,t,n){"use strict";var r=n(6),i=n.n(r),a=n(0),o=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return a.a.FORCE_GLOBAL_TAG},set:function(t){a.a.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return a.a.GLOBAL_TAG},set:function(t){a.a.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return a.a.ENABLE_VERBOSE&&a.a.ENABLE_DEBUG&&a.a.ENABLE_INFO&&a.a.ENABLE_WARN&&a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_VERBOSE=t,a.a.ENABLE_DEBUG=t,a.a.ENABLE_INFO=t,a.a.ENABLE_WARN=t,a.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return a.a.ENABLE_DEBUG},set:function(t){a.a.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return a.a.ENABLE_VERBOSE},set:function(t){a.a.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return a.a.ENABLE_INFO},set:function(t){a.a.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return a.a.ENABLE_WARN},set:function(t){a.a.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:a.a.GLOBAL_TAG,forceGlobalTag:a.a.FORCE_GLOBAL_TAG,enableVerbose:a.a.ENABLE_VERBOSE,enableDebug:a.a.ENABLE_DEBUG,enableInfo:a.a.ENABLE_INFO,enableWarn:a.a.ENABLE_WARN,enableError:a.a.ENABLE_ERROR,enableCallback:a.a.ENABLE_CALLBACK}},e.applyConfig=function(e){a.a.GLOBAL_TAG=e.globalTag,a.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,a.a.ENABLE_VERBOSE=e.enableVerbose,a.a.ENABLE_DEBUG=e.enableDebug,a.a.ENABLE_INFO=e.enableInfo,a.a.ENABLE_WARN=e.enableWarn,a.a.ENABLE_ERROR=e.enableError,a.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var n=e.getConfig();t.emit("change",n)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){a.a.emitter.addListener("log",t),a.a.emitter.listenerCount("log")>0&&(a.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){a.a.emitter.removeListener("log",t),0===a.a.emitter.listenerCount("log")&&(a.a.ENABLE_CALLBACK=!1,e._notifyChange())},e}();o.emitter=new i.a,t.a=o},function(e,t,n){"use strict";var r=n(6),i=n.n(r),a=n(0),o=n(4),s=n(8);function l(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}var u,c,d=function(e){for(var t=[],n=e,r=0,i=e.length;r<i;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(l(n,r,1)&&(a=(31&n[r])<<6|63&n[r+1])>=128){t.push(String.fromCharCode(65535&a)),r+=2;continue}}else if(n[r]<240){if(l(n,r,2)&&(a=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2])>=2048&&55296!=(63488&a)){t.push(String.fromCharCode(65535&a)),r+=3;continue}}else if(n[r]<248){var a;if(l(n,r,3)&&(a=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3])>65536&&a<1114112){a-=65536,t.push(String.fromCharCode(a>>>10|55296)),t.push(String.fromCharCode(1023&a|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")},f=n(3),h=(u=new ArrayBuffer(2),new DataView(u).setInt16(0,256,!0),256===new Int16Array(u)[0]),p=function(){function e(){}return e.parseScriptData=function(t,n,r){var i={};try{var o=e.parseValue(t,n,r),s=e.parseValue(t,n+o.size,r-o.size);i[o.data]=s.data}catch(e){a.a.e("AMF",e.toString())}return i},e.parseObject=function(t,n,r){if(r<3)throw new f.a("Data not enough when parse ScriptDataObject");var i=e.parseString(t,n,r),a=e.parseValue(t,n+i.size,r-i.size),o=a.objectEnd;return{data:{name:i.data,value:a.data},size:i.size+a.size,objectEnd:o}},e.parseVariable=function(t,n,r){return e.parseObject(t,n,r)},e.parseString=function(e,t,n){if(n<2)throw new f.a("Data not enough when parse String");var r=new DataView(e,t,n).getUint16(0,!h);return{data:r>0?d(new Uint8Array(e,t+2,r)):"",size:2+r}},e.parseLongString=function(e,t,n){if(n<4)throw new f.a("Data not enough when parse LongString");var r=new DataView(e,t,n).getUint32(0,!h);return{data:r>0?d(new Uint8Array(e,t+4,r)):"",size:4+r}},e.parseDate=function(e,t,n){if(n<10)throw new f.a("Data size invalid when parse Date");var r=new DataView(e,t,n),i=r.getFloat64(0,!h),a=r.getInt16(8,!h);return{data:new Date(i+=60*a*1e3),size:10}},e.parseValue=function(t,n,r){if(r<1)throw new f.a("Data not enough when parse Value");var i,o=new DataView(t,n,r),s=1,l=o.getUint8(0),u=!1;try{switch(l){case 0:i=o.getFloat64(1,!h),s+=8;break;case 1:i=!!o.getUint8(1),s+=1;break;case 2:var c=e.parseString(t,n+1,r-1);i=c.data,s+=c.size;break;case 3:i={};var d=0;for(9==(16777215&o.getUint32(r-4,!h))&&(d=3);s<r-4;){var p=e.parseObject(t,n+s,r-s-d);if(p.objectEnd)break;i[p.data.name]=p.data.value,s+=p.size}s<=r-3&&9===(16777215&o.getUint32(s-1,!h))&&(s+=3);break;case 8:for(i={},s+=4,d=0,9==(16777215&o.getUint32(r-4,!h))&&(d=3);s<r-8;){var m=e.parseVariable(t,n+s,r-s-d);if(m.objectEnd)break;i[m.data.name]=m.data.value,s+=m.size}s<=r-3&&9===(16777215&o.getUint32(s-1,!h))&&(s+=3);break;case 9:i=void 0,s=1,u=!0;break;case 10:i=[];var v=o.getUint32(1,!h);s+=4;for(var g=0;g<v;g++){var y=e.parseValue(t,n+s,r-s);i.push(y.data),s+=y.size}break;case 11:var _=e.parseDate(t,n+1,r-1);i=_.data,s+=_.size;break;case 12:var b=e.parseString(t,n+1,r-1);i=b.data,s+=b.size;break;default:s=r,a.a.w("AMF","Unsupported AMF value type "+l)}}catch(e){a.a.e("AMF",e.toString())}return{data:i,size:s,objectEnd:u}},e}(),m=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new f.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new f.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(r,this._current_word_bits_left),a=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,n<<i|a},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}(),v=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),i=0,a=0;a<n;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(r[i]=t[a],i++);return new Uint8Array(r.buffer,0,i)},e.parseSPS=function(t){for(var n=t.subarray(1,4),r="avc1.",i=0;i<3;i++){var a=n[i].toString(16);a.length<2&&(a="0"+a),r+=a}var o=e._ebsp2rbsp(t),s=new m(o);s.readByte();var l=s.readByte();s.readByte();var u=s.readByte();s.readUEG();var c=e.getProfileString(l),d=e.getLevelString(u),f=1,h=420,p=8,v=8;if((100===l||110===l||122===l||244===l||44===l||83===l||86===l||118===l||128===l||138===l||144===l)&&(3===(f=s.readUEG())&&s.readBits(1),f<=3&&(h=[0,420,422,444][f]),p=s.readUEG()+8,v=s.readUEG()+8,s.readBits(1),s.readBool()))for(var g=3!==f?8:12,y=0;y<g;y++)s.readBool()&&(y<6?e._skipScalingList(s,16):e._skipScalingList(s,64));s.readUEG();var _=s.readUEG();if(0===_)s.readUEG();else if(1===_){s.readBits(1),s.readSEG(),s.readSEG();var b=s.readUEG();for(y=0;y<b;y++)s.readSEG()}var w=s.readUEG();s.readBits(1);var S=s.readUEG(),E=s.readUEG(),k=s.readBits(1);0===k&&s.readBits(1),s.readBits(1);var T=0,x=0,A=0,C=0;s.readBool()&&(T=s.readUEG(),x=s.readUEG(),A=s.readUEG(),C=s.readUEG());var R=1,L=1,P=0,N=!0,I=0,D=0;if(s.readBool()){if(s.readBool()){var M=s.readByte();M>0&&M<16?(R=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][M-1],L=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][M-1]):255===M&&(R=s.readByte()<<8|s.readByte(),L=s.readByte()<<8|s.readByte())}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(4),s.readBool()&&s.readBits(24)),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool()){var O=s.readBits(32),j=s.readBits(32);N=s.readBool(),P=(I=j)/(D=2*O)}}var B=1;1===R&&1===L||(B=R/L);var U=0,z=0;0===f?(U=1,z=2-k):(U=3===f?1:2,z=(1===f?2:1)*(2-k));var F=16*(S+1),V=16*(E+1)*(2-k);F-=(T+x)*U,V-=(A+C)*z;var G=Math.ceil(F*B);return s.destroy(),s=null,{codec_mimetype:r,profile_idc:l,level_idc:u,profile_string:c,level_string:d,chroma_format_idc:f,bit_depth:p,bit_depth_luma:p,bit_depth_chroma:v,ref_frames:w,chroma_format:h,chroma_format_string:e.getChromaFormatString(h),frame_rate:{fixed:N,fps:P,fps_den:D,fps_num:I},sar_ratio:{width:R,height:L},codec_size:{width:F,height:V},present_size:{width:G,height:V}}},e._skipScalingList=function(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+e.readSEG()+256)%256),n=0===r?n:r},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}(),g=n(5),y=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),i=0,a=0;a<n;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(r[i]=t[a],i++);return new Uint8Array(r.buffer,0,i)},e.parseVPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);return r.readByte(),r.readByte(),r.readBits(4),r.readBits(2),r.readBits(6),{num_temporal_layers:r.readBits(3)+1,temporal_id_nested:r.readBool()}},e.parseSPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);r.readByte(),r.readByte(),r.readBits(4);for(var i=r.readBits(3),a=(r.readBool(),r.readBits(2)),o=r.readBool(),s=r.readBits(5),l=r.readByte(),u=r.readByte(),c=r.readByte(),d=r.readByte(),f=r.readByte(),h=r.readByte(),p=r.readByte(),v=r.readByte(),g=r.readByte(),y=r.readByte(),_=r.readByte(),b=[],w=[],S=0;S<i;S++)b.push(r.readBool()),w.push(r.readBool());if(i>0)for(S=i;S<8;S++)r.readBits(2);for(S=0;S<i;S++)b[S]&&(r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte()),b[S]&&r.readByte();r.readUEG();var E=r.readUEG();3==E&&r.readBits(1);var k=r.readUEG(),T=r.readUEG();r.readBool()&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG());var x=r.readUEG(),A=r.readUEG(),C=r.readUEG();for(S=r.readBool()?0:i;S<=i;S++)r.readUEG(),r.readUEG(),r.readUEG();if(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readBool()&&r.readBool())for(var R=0;R<4;R++)for(var L=0;L<(3===R?2:6);L++)if(r.readBool()){var P=Math.min(64,1<<4+(R<<1));for(R>1&&r.readSEG(),S=0;S<P;S++)r.readSEG()}else r.readUEG();r.readBool(),r.readBool(),r.readBool()&&(r.readByte(),r.readUEG(),r.readUEG(),r.readBool());var N=r.readUEG(),I=0;for(S=0;S<N;S++){var D=!1;if(0!==S&&(D=r.readBool()),D){S===N&&r.readUEG(),r.readBool(),r.readUEG();for(var M=0,O=0;O<=I;O++){var j=r.readBool(),B=!1;j||(B=r.readBool()),(j||B)&&M++}I=M}else{var U=r.readUEG(),z=r.readUEG();for(I=U+z,O=0;O<U;O++)r.readUEG(),r.readBool();for(O=0;O<z;O++)r.readUEG(),r.readBool()}}if(r.readBool()){var F=r.readUEG();for(S=0;S<F;S++){for(O=0;O<C+4;O++)r.readBits(1);r.readBits(1)}}var V=0,G=1,H=1,q=!1,K=1,W=1;if(r.readBool(),r.readBool(),r.readBool()){if(r.readBool()){var $=r.readByte();$>0&&$<16?(G=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][$-1],H=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][$-1]):255===$&&(G=r.readBits(16),H=r.readBits(16))}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(3),r.readBool(),r.readBool()&&(r.readByte(),r.readByte(),r.readByte())),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool(),r.readBool(),r.readBool(),r.readBool()&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG()),r.readBool()&&(K=r.readBits(32),W=r.readBits(32),r.readBool()&&(r.readUEG(),r.readBool()))){var X=!1,Y=!1;if(X=r.readBool(),Y=r.readBool(),X||Y){var Q=r.readBool();Q&&(r.readByte(),r.readBits(5),r.readBool(),r.readBits(5)),r.readBits(4),r.readBits(4),Q&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5)}for(S=0;S<=i;S++){var J=r.readBool();q=J;var Z=!1;J||(Z=r.readBool());var ee=!1;if(Z?r.readSEG():ee=r.readBool(),ee||(cpbcnt=r.readUEG()+1),X)for(O=0;O<1;O++)r.readUEG(),r.readUEG(),Q&&(r.readUEG(),r.readUEG());if(Y)for(O=0;O<1;O++)r.readUEG(),r.readUEG(),Q&&(r.readUEG(),r.readUEG())}}r.readBool()&&(r.readBool(),r.readBool(),r.readBool(),V=r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG())}r.readBool();var te="hvc1."+s+".1.L"+_+".B0",ne=k,re=T,ie=1;return 1!==G&&1!==H&&(ie=G/H),r.destroy(),r=null,{codec_mimetype:te,level_string:e.getLevelString(_),profile_idc:s,bit_depth:x+8,ref_frames:1,chroma_format:E,chroma_format_string:e.getChromaFormatString(E),general_level_idc:_,general_profile_space:a,general_tier_flag:o,general_profile_idc:s,general_profile_compatibility_flags_1:l,general_profile_compatibility_flags_2:u,general_profile_compatibility_flags_3:c,general_profile_compatibility_flags_4:d,general_constraint_indicator_flags_1:f,general_constraint_indicator_flags_2:h,general_constraint_indicator_flags_3:p,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:g,general_constraint_indicator_flags_6:y,min_spatial_segmentation_idc:V,constant_frame_rate:0,chroma_format_idc:E,bit_depth_luma_minus8:x,bit_depth_chroma_minus8:A,frame_rate:{fixed:q,fps:W/K,fps_den:K,fps_num:W},sar_ratio:{width:G,height:H},codec_size:{width:ne,height:re},present_size:{width:ne*ie,height:re}}},e.parsePPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);r.readByte(),r.readByte(),r.readUEG(),r.readUEG(),r.readBool(),r.readBool(),r.readBits(3),r.readBool(),r.readBool(),r.readUEG(),r.readUEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool()&&r.readUEG(),r.readSEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool(),r.readBool();var i=r.readBool(),a=r.readBool(),o=1;return a&&i?o=0:a?o=3:i&&(o=2),{parallelismType:o}},e.getChromaFormatString=function(e){switch(e){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},e.getProfileString=function(e){switch(e){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},e.getLevelString=function(e){return(e/30).toFixed(1)},e}(),_=function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var r,i,a=(4&t[4])>>>2!=0,o=0!=(1&t[4]),s=(r=t)[i=5]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3];return s<9?n:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:a,hasVideoTrack:o}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.a},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,n){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new f.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,i=this._littleEndian;if(0===n){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,n+r!==this._dataOffset&&a.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,r)).getUint32(0,!i)&&a.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var s=o.getUint8(0),l=16777215&o.getUint32(0,!i);if(r+11+l+4>t.byteLength)break;if(8===s||9===s||18===s){var u=o.getUint8(4),c=o.getUint8(5),d=o.getUint8(6)|c<<8|u<<16|o.getUint8(7)<<24;0!==(16777215&o.getUint32(7,!i))&&a.a.w(this.TAG,"Meet tag which has StreamID != 0!");var h=r+11;switch(s){case 8:this._parseAudioData(t,h,l,d);break;case 9:this._parseVideoData(t,h,l,d,n+r);break;case 18:this._parseScriptData(t,h,l)}var p=o.getUint32(11+l,!i);p!==11+l&&a.a.w(this.TAG,"Invalid PrevTagSize "+p),r+=11+l+4}else a.a.w(this.TAG,"Unsupported tag type "+s+", skipped"),r+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},e.prototype._parseScriptData=function(e,t,n){var r=p.parseScriptData(e,t,n);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void a.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&a.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;var i=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},i)),"boolean"==typeof i.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=i.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof i.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=i.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof i.audiodatarate&&(this._mediaInfo.audioDataRate=i.audiodatarate),"number"==typeof i.videodatarate&&(this._mediaInfo.videoDataRate=i.videodatarate),"number"==typeof i.width&&(this._mediaInfo.width=i.width),"number"==typeof i.height&&(this._mediaInfo.height=i.height),"number"==typeof i.duration){if(!this._durationOverrided){var o=Math.floor(i.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof i.framerate){var s=Math.floor(1e3*i.framerate);if(s>0){var l=s/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=l,this._referenceFrameRate.fps_num=s,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=l}}if("object"==typeof i.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var u=i.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(u),i.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=i,a.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],n=[],r=1;r<e.times.length;r++){var i=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(i),n.push(e.filepositions[r])}return{times:t,filepositions:n}},e.prototype._parseAudioData=function(e,t,n,r){if(n<=1)a.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var i=new DataView(e,t,n).getUint8(0),o=i>>>4;if(2===o||10===o){var s=0,l=(12&i)>>>2;if(l>=0&&l<=4){s=this._flvSoundRateTable[l];var u=1&i,c=this._audioMetadata,d=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=d.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=s,c.channelCount=0===u?1:2),10===o){var f=this._parseAACAudioData(e,t+1,n-1);if(null==f)return;if(0===f.packetType){c.config&&a.a.w(this.TAG,"Found another AudioSpecificConfig!");var h=f.data;c.audioSampleRate=h.samplingRate,c.channelCount=h.channelCount,c.codec=h.codec,c.originalCodec=h.originalCodec,c.config=h.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,a.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c),(v=this._mediaInfo).audioCodec=c.originalCodec,v.audioSampleRate=c.audioSampleRate,v.audioChannelCount=c.channelCount,v.hasVideo?null!=v.videoCodec&&(v.mimeType='video/x-flv; codecs="'+v.videoCodec+","+v.audioCodec+'"'):v.mimeType='video/x-flv; codecs="'+v.audioCodec+'"',v.isComplete()&&this._onMediaInfo(v)}else if(1===f.packetType){var p=this._timestampBase+r,m={unit:f.data,length:f.data.byteLength,dts:p,pts:p};d.samples.push(m),d.length+=f.data.length}else a.a.e(this.TAG,"Flv: Unsupported AAC data type "+f.packetType)}else if(2===o){if(!c.codec){var v;if(null==(h=this._parseMP3AudioData(e,t+1,n-1,!0)))return;c.audioSampleRate=h.samplingRate,c.channelCount=h.channelCount,c.codec=h.codec,c.originalCodec=h.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,a.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c),(v=this._mediaInfo).audioCodec=c.codec,v.audioSampleRate=c.audioSampleRate,v.audioChannelCount=c.channelCount,v.audioDataRate=h.bitRate,v.hasVideo?null!=v.videoCodec&&(v.mimeType='video/x-flv; codecs="'+v.videoCodec+","+v.audioCodec+'"'):v.mimeType='video/x-flv; codecs="'+v.audioCodec+'"',v.isComplete()&&this._onMediaInfo(v)}var y=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==y)return;p=this._timestampBase+r;var _={unit:y,length:y.byteLength,dts:p,pts:p};d.samples.push(_),d.length+=y.length}}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+l)}else this._onError(g.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o)}},e.prototype._parseAACAudioData=function(e,t,n){if(!(n<=1)){var r={},i=new Uint8Array(e,t,n);return r.packetType=i[0],0===i[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=i.subarray(1),r}a.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,n){var r,i,a=new Uint8Array(e,t,n),o=null,s=0,l=null;if(s=r=a[0]>>>3,(i=(7&a[0])<<1|a[1]>>>7)<0||i>=this._mpegSamplingRates.length)this._onError(g.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var u=this._mpegSamplingRates[i],c=(120&a[1])>>>3;if(!(c<0||c>=8)){5===s&&(l=(7&a[1])<<1|a[2]>>>7,a[2]);var d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?i>=6?(s=5,o=new Array(4),l=i-3):(s=2,o=new Array(2),l=i):-1!==d.indexOf("android")?(s=2,o=new Array(2),l=i):(s=5,l=i,o=new Array(4),i>=6?l=i-3:1===c&&(s=2,o=new Array(2),l=i)),o[0]=s<<3,o[0]|=(15&i)>>>1,o[1]=(15&i)<<7,o[1]|=(15&c)<<3,5===s&&(o[1]|=(15&l)>>>1,o[2]=(1&l)<<7,o[2]|=8,o[3]=0),{config:o,samplingRate:u,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+r}}this._onError(g.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,n,r){if(!(n<4)){this._littleEndian;var i=new Uint8Array(e,t,n),o=null;if(r){if(255!==i[0])return;var s=i[1]>>>3&3,l=(6&i[1])>>1,u=(240&i[2])>>>4,c=(12&i[2])>>>2,d=3!==(i[3]>>>6&3)?2:1,f=0,h=0;switch(s){case 0:f=this._mpegAudioV25SampleRateTable[c];break;case 2:f=this._mpegAudioV20SampleRateTable[c];break;case 3:f=this._mpegAudioV10SampleRateTable[c]}switch(l){case 1:u<this._mpegAudioL3BitRateTable.length&&(h=this._mpegAudioL3BitRateTable[u]);break;case 2:u<this._mpegAudioL2BitRateTable.length&&(h=this._mpegAudioL2BitRateTable[u]);break;case 3:u<this._mpegAudioL1BitRateTable.length&&(h=this._mpegAudioL1BitRateTable[u])}o={bitRate:h,samplingRate:f,channelCount:d,codec:"mp3",originalCodec:"mp3"}}else o=i;return o}a.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseVideoData=function(e,t,n,r,i){if(n<=1)a.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,n)[0],s=(240&o)>>>4,l=15&o;if(7===l)this._parseAVCVideoPacket(e,t+1,n-1,r,i,s);else{if(12!==l)return void this._onError(g.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+l);this._parseHEVCVideoPacket(e,t+1,n-1,r,i,s)}}},e.prototype._parseAVCVideoPacket=function(e,t,n,r,i,o){if(n<4)a.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,n),u=l.getUint8(0),c=(16777215&l.getUint32(0,!s))<<8>>8;if(0===u)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===u)this._parseAVCVideoData(e,t+4,n-4,r,i,o,c);else if(2!==u)return void this._onError(g.a.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}},e.prototype._parseHEVCVideoPacket=function(e,t,n,r,i,o){if(n<4)a.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,n),u=l.getUint8(0),c=(16777215&l.getUint32(0,!s))<<8>>8;if(0===u)this._parseHEVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===u)this._parseHEVCVideoData(e,t+4,n-4,r,i,o,c);else if(2!==u)return void this._onError(g.a.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,n){if(n<7)a.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,n);r?void 0!==r.avcc&&a.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=i.id,r.timescale=this._timescale,r.duration=this._duration);var l=s.getUint8(0),u=s.getUint8(1);if(s.getUint8(2),s.getUint8(3),1===l&&0!==u)if(this._naluLengthSize=1+(3&s.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var c=31&s.getUint8(5);if(0!==c){c>1&&a.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+c);for(var d=6,f=0;f<c;f++){var h=s.getUint16(d,!o);if(d+=2,0!==h){var p=new Uint8Array(e,t+d,h);d+=h;var m=v.parseSPS(p);if(0===f){r.codecWidth=m.codec_size.width,r.codecHeight=m.codec_size.height,r.presentWidth=m.present_size.width,r.presentHeight=m.present_size.height,r.profile=m.profile_string,r.level=m.level_string,r.bitDepth=m.bit_depth,r.chromaFormat=m.chroma_format,r.sarRatio=m.sar_ratio,r.frameRate=m.frame_rate,!1!==m.frame_rate.fixed&&0!==m.frame_rate.fps_num&&0!==m.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var y=r.frameRate.fps_den,_=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(y/_);for(var b=p.subarray(1,4),w="avc1.",S=0;S<3;S++){var E=b[S].toString(16);E.length<2&&(E="0"+E),w+=E}r.codec=w;var k=this._mediaInfo;k.width=r.codecWidth,k.height=r.codecHeight,k.fps=r.frameRate.fps,k.profile=r.profile,k.level=r.level,k.refFrames=m.ref_frames,k.chromaFormat=m.chroma_format_string,k.sarNum=r.sarRatio.width,k.sarDen=r.sarRatio.height,k.videoCodec=w,k.hasAudio?null!=k.audioCodec&&(k.mimeType='video/x-flv; codecs="'+k.videoCodec+","+k.audioCodec+'"'):k.mimeType='video/x-flv; codecs="'+k.videoCodec+'"',k.isComplete()&&this._onMediaInfo(k)}}}var T=s.getUint8(d);if(0!==T){for(T>1&&a.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+T),d++,f=0;f<T;f++)h=s.getUint16(d,!o),d+=2,0!==h&&(d+=h);r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),a.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(g.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseHEVCDecoderConfigurationRecord=function(e,t,n){if(n<22)a.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,n);r?void 0!==r.hvcc&&a.a.w(this.TAG,"Found another HEVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=i.id,r.timescale=this._timescale,r.duration=this._duration);var l=s.getUint8(0),u=31&s.getUint8(1);if(1===l&&0!==u)if(this._naluLengthSize=1+(3&s.getUint8(21)),3===this._naluLengthSize||4===this._naluLengthSize){for(var c=s.getUint8(22),d=0,f=23;d<c;d++){var h=63&s.getUint8(f+0),p=s.getUint16(f+1,!o);f+=3;for(var m=0;m<p;m++){var v=s.getUint16(f+0,!o);if(0===m)if(33===h){f+=2;var _=new Uint8Array(e,t+f,v),b=y.parseSPS(_);r.codecWidth=b.codec_size.width,r.codecHeight=b.codec_size.height,r.presentWidth=b.present_size.width,r.presentHeight=b.present_size.height,r.profile=b.profile_string,r.level=b.level_string,r.bitDepth=b.bit_depth,r.chromaFormat=b.chroma_format,r.sarRatio=b.sar_ratio,r.frameRate=b.frame_rate,!1!==b.frame_rate.fixed&&0!==b.frame_rate.fps_num&&0!==b.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var w=r.frameRate.fps_den,S=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(w/S),r.codec=b.codec_mimetype;var E=this._mediaInfo;E.width=r.codecWidth,E.height=r.codecHeight,E.fps=r.frameRate.fps,E.profile=r.profile,E.level=r.level,E.refFrames=b.ref_frames,E.chromaFormat=b.chroma_format_string,E.sarNum=r.sarRatio.width,E.sarDen=r.sarRatio.height,E.videoCodec=b.codec_mimetype,E.hasAudio?null!=E.audioCodec&&(E.mimeType='video/x-flv; codecs="'+E.videoCodec+","+E.audioCodec+'"'):E.mimeType='video/x-flv; codecs="'+E.videoCodec+'"',E.isComplete()&&this._onMediaInfo(E),f+=v}else f+=2+v;else f+=2+v}}r.hvcc=new Uint8Array(n),r.hvcc.set(new Uint8Array(e,t,n),0),a.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(g.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,n,r,i,o,s){for(var l=this._littleEndian,u=new DataView(e,t,n),c=[],d=0,f=0,h=this._naluLengthSize,p=this._timestampBase+r,m=1===o;f<n;){if(f+4>=n){a.a.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+f+", dataSize = "+n);break}var v=u.getUint32(f,!l);if(3===h&&(v>>>=8),v>n-h)return void a.a.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var g=31&u.getUint8(f+h);5===g&&(m=!0);var y=new Uint8Array(e,t+f,h+v),_={type:g,data:y};c.push(_),d+=y.byteLength,f+=h+v}if(c.length){var b=this._videoTrack,w={units:c,length:d,isKeyframe:m,dts:p,cts:s,pts:p+s};m&&(w.fileposition=i),b.samples.push(w),b.length+=d}},e.prototype._parseHEVCVideoData=function(e,t,n,r,i,o,s){for(var l=this._littleEndian,u=new DataView(e,t,n),c=[],d=0,f=0,h=this._naluLengthSize,p=this._timestampBase+r,m=1===o;f<n;){if(f+4>=n){a.a.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+f+", dataSize = "+n);break}var v=u.getUint32(f,!l);if(3===h&&(v>>>=8),v>n-h)return void a.a.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var g=31&u.getUint8(f+h);19!==g&&20!==g||(m=!0);var y=new Uint8Array(e,t+f,h+v),_={type:g,data:y};c.push(_),d+=y.byteLength,f+=h+v}if(c.length){var b=this._videoTrack,w={units:c,length:d,isKeyframe:m,dts:p,cts:s,pts:p+s};m&&(w.fileposition=i),b.samples.push(w),b.length+=d}},e}(),b=function(){function e(){}return e.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},e}(),w=function(){this.program_pmt_pid={}};!function(e){e[e.kMPEG1Audio=3]="kMPEG1Audio",e[e.kMPEG2Audio=4]="kMPEG2Audio",e[e.kPESPrivateData=6]="kPESPrivateData",e[e.kADTSAAC=15]="kADTSAAC",e[e.kID3=21]="kID3",e[e.kSCTE35=134]="kSCTE35",e[e.kH264=27]="kH264",e[e.kH265=36]="kH265"}(c||(c={}));var S,E=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.scte_35_pids={}},k=function(){},T=function(){},x=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};!function(e){e[e.kUnspecified=0]="kUnspecified",e[e.kSliceNonIDR=1]="kSliceNonIDR",e[e.kSliceDPA=2]="kSliceDPA",e[e.kSliceDPB=3]="kSliceDPB",e[e.kSliceDPC=4]="kSliceDPC",e[e.kSliceIDR=5]="kSliceIDR",e[e.kSliceSEI=6]="kSliceSEI",e[e.kSliceSPS=7]="kSliceSPS",e[e.kSlicePPS=8]="kSlicePPS",e[e.kSliceAUD=9]="kSliceAUD",e[e.kEndOfSequence=10]="kEndOfSequence",e[e.kEndOfStream=11]="kEndOfStream",e[e.kFiller=12]="kFiller",e[e.kSPSExt=13]="kSPSExt",e[e.kReserved0=14]="kReserved0"}(S||(S={}));var A,C,R=function(){},L=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},P=function(){function e(e){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,n=this.data_;;){if(t+3>=n.byteLength)return this.eof_flag_=!0,n.byteLength;var r=n[t+0]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],i=n[t+0]<<16|n[t+1]<<8|n[t+2];if(1===r||1===i)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_startcode_offset_,r=31&e[n+=1===(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])?4:3],i=(128&e[n])>>>7,a=this.findNextStartCodeOffset(n);if(this.current_startcode_offset_=a,!(r>=S.kReserved0)&&0===i){var o=e.subarray(n,a);(t=new R).type=r,t.data=o}}return t},e}(),N=function(){function e(e,t,n){var r=8+e.byteLength+1+2+t.byteLength,i=!1;66!==e[3]&&77!==e[3]&&88!==e[3]&&(i=!0,r+=4);var a=this.data=new Uint8Array(r);a[0]=1,a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=255,a[5]=225;var o=e.byteLength;a[6]=o>>>8,a[7]=255&o;var s=8;a.set(e,8),a[s+=o]=1;var l=t.byteLength;a[s+1]=l>>>8,a[s+2]=255&l,a.set(t,s+3),s+=3+l,i&&(a[s]=252|n.chroma_format_idc,a[s+1]=248|n.bit_depth_luma-8,a[s+2]=248|n.bit_depth_chroma-8,a[s+3]=0,s+=4)}return e.prototype.getData=function(){return this.data},e}();!function(e){e[e.kNull=0]="kNull",e[e.kAACMain=1]="kAACMain",e[e.kAAC_LC=2]="kAAC_LC",e[e.kAAC_SSR=3]="kAAC_SSR",e[e.kAAC_LTP=4]="kAAC_LTP",e[e.kAAC_SBR=5]="kAAC_SBR",e[e.kAAC_Scalable=6]="kAAC_Scalable",e[e.kLayer1=32]="kLayer1",e[e.kLayer2=33]="kLayer2",e[e.kLayer3=34]="kLayer3"}(A||(A={})),function(e){e[e.k96000Hz=0]="k96000Hz",e[e.k88200Hz=1]="k88200Hz",e[e.k64000Hz=2]="k64000Hz",e[e.k48000Hz=3]="k48000Hz",e[e.k44100Hz=4]="k44100Hz",e[e.k32000Hz=5]="k32000Hz",e[e.k24000Hz=6]="k24000Hz",e[e.k22050Hz=7]="k22050Hz",e[e.k16000Hz=8]="k16000Hz",e[e.k12000Hz=9]="k12000Hz",e[e.k11025Hz=10]="k11025Hz",e[e.k8000Hz=11]="k8000Hz",e[e.k7350Hz=12]="k7350Hz"}(C||(C={}));var I,D=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],M=function(){},O=function(){function e(e){this.TAG="AACADTSParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,n=this.data_;;){if(t+7>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(4095===(n[t+0]<<8|n[t+1])>>>4)return t;t++}},e.prototype.readNextAACFrame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_syncword_offset_,r=(8&e[n+1])>>>3,i=(6&e[n+1])>>>1,a=1&e[n+1],o=(192&e[n+2])>>>6,s=(60&e[n+2])>>>2,l=(1&e[n+2])<<2|(192&e[n+3])>>>6,u=(3&e[n+3])<<11|e[n+4]<<3|(224&e[n+5])>>>5;if(e[n+6],n+u>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var c=1===a?7:9,d=u-c;n+=c;var f=this.findNextSyncwordOffset(n+d);if(this.current_syncword_offset_=f,(0===r||1===r)&&0===i){var h=e.subarray(n,n+d);(t=new M).audio_object_type=o+1,t.sampling_freq_index=s,t.sampling_frequency=D[s],t.channel_config=l,t.data=h}}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),j=function(e){var t=null,n=e.audio_object_type,r=e.audio_object_type,i=e.sampling_freq_index,a=e.channel_config,o=0,s=navigator.userAgent.toLowerCase();-1!==s.indexOf("firefox")?i>=6?(r=5,t=new Array(4),o=i-3):(r=2,t=new Array(2),o=i):-1!==s.indexOf("android")?(r=2,t=new Array(2),o=i):(r=5,o=i,t=new Array(4),i>=6?o=i-3:1===a&&(r=2,t=new Array(2),o=i)),t[0]=r<<3,t[0]|=(15&i)>>>1,t[1]=(15&i)<<7,t[1]|=(15&a)<<3,5===r&&(t[1]|=(15&o)>>>1,t[2]=(1&o)<<7,t[2]|=8,t[3]=0),this.config=t,this.sampling_rate=D[i],this.channel_count=a,this.codec_mimetype="mp4a.40."+r,this.original_codec_mimetype="mp4a.40."+n},B=function(){},U=function(){};!function(e){e[e.kSpliceNull=0]="kSpliceNull",e[e.kSpliceSchedule=4]="kSpliceSchedule",e[e.kSpliceInsert=5]="kSpliceInsert",e[e.kTimeSignal=6]="kTimeSignal",e[e.kBandwidthReservation=7]="kBandwidthReservation",e[e.kPrivateCommand=255]="kPrivateCommand"}(I||(I={}));var z,F=function(e){var t=e.readBool();return t?(e.readBits(6),{time_specified_flag:t,pts_time:4*e.readBits(31)+e.readBits(2)}):(e.readBits(7),{time_specified_flag:t})},V=function(e){var t=e.readBool();return e.readBits(6),{auto_return:t,duration:4*e.readBits(31)+e.readBits(2)}},G=function(e,t){var n=t.readBits(8);return e?{component_tag:n}:{component_tag:n,splice_time:F(t)}},H=function(e){return{component_tag:e.readBits(8),utc_splice_time:e.readBits(32)}},q=function(e){var t=e.readBits(32),n=e.readBool();e.readBits(7);var r={splice_event_id:t,splice_event_cancel_indicator:n};if(n)return r;if(r.out_of_network_indicator=e.readBool(),r.program_splice_flag=e.readBool(),r.duration_flag=e.readBool(),e.readBits(5),r.program_splice_flag)r.utc_splice_time=e.readBits(32);else{r.component_count=e.readBits(8),r.components=[];for(var i=0;i<r.component_count;i++)r.components.push(H(e))}return r.duration_flag&&(r.break_duration=V(e)),r.unique_program_id=e.readBits(16),r.avail_num=e.readBits(8),r.avails_expected=e.readBits(8),r},K=function(e,t,n,r){return{descriptor_tag:e,descriptor_length:t,identifier:n,provider_avail_id:r.readBits(32)}},W=function(e,t,n,r){var i=r.readBits(8),a=r.readBits(3);r.readBits(5);for(var o="",s=0;s<a;s++)o+=String.fromCharCode(r.readBits(8));return{descriptor_tag:e,descriptor_length:t,identifier:n,preroll:i,dtmf_count:a,DTMF_char:o}},$=function(e){var t=e.readBits(8);return e.readBits(7),{component_tag:t,pts_offset:4*e.readBits(31)+e.readBits(2)}},X=function(e,t,n,r){var i=r.readBits(32),a=r.readBool();r.readBits(7);var o={descriptor_tag:e,descriptor_length:t,identifier:n,segmentation_event_id:i,segmentation_event_cancel_indicator:a};if(a)return o;if(o.program_segmentation_flag=r.readBool(),o.segmentation_duration_flag=r.readBool(),o.delivery_not_restricted_flag=r.readBool(),o.delivery_not_restricted_flag?r.readBits(5):(o.web_delivery_allowed_flag=r.readBool(),o.no_regional_blackout_flag=r.readBool(),o.archive_allowed_flag=r.readBool(),o.device_restrictions=r.readBits(2)),!o.program_segmentation_flag){o.component_count=r.readBits(8),o.components=[];for(var s=0;s<o.component_count;s++)o.components.push($(r))}o.segmentation_duration_flag&&(o.segmentation_duration=r.readBits(40)),o.segmentation_upid_type=r.readBits(8),o.segmentation_upid_length=r.readBits(8);var l=new Uint8Array(o.segmentation_upid_length);for(s=0;s<o.segmentation_upid_length;s++)l[s]=r.readBits(8);return o.segmentation_upid=l.buffer,o.segmentation_type_id=r.readBits(8),o.segment_num=r.readBits(8),o.segments_expected=r.readBits(8),52!==o.segmentation_type_id&&54!==o.segmentation_type_id&&56!==o.segmentation_type_id&&58!==o.segmentation_type_id||(o.sub_segment_num=r.readBits(8),o.sub_segments_expected=r.readBits(8)),o},Y=function(e,t,n,r){return{descriptor_tag:e,descriptor_length:t,identifier:n,TAI_seconds:r.readBits(48),TAI_ns:r.readBits(32),UTC_offset:r.readBits(16)}},Q=function(e){return{component_tag:e.readBits(8),ISO_code:String.fromCharCode(e.readBits(8),e.readBits(8),e.readBits(8)),Bit_Stream_Mode:e.readBits(3),Num_Channels:e.readBits(4),Full_Srvc_Audio:e.readBool()}},J=function(e,t,n,r){for(var i=r.readBits(4),a=[],o=0;o<i;o++)a.push(Q(r));return{descriptor_tag:e,descriptor_length:t,identifier:n,audio_count:i,components:a}},Z=function(e){var t=new m(e),n=t.readBits(8),r=t.readBool(),i=t.readBool();t.readBits(2);var a=t.readBits(12),o=t.readBits(8),s=t.readBool(),l=t.readBits(6),u=4*t.readBits(31)+t.readBits(2),c=t.readBits(8),d=t.readBits(12),f=t.readBits(12),h=t.readBits(8),p=null;h===I.kSpliceNull?p={}:h===I.kSpliceSchedule?p=function(e){for(var t=e.readBits(8),n=[],r=0;r<t;r++)n.push(q(e));return{splice_count:t,events:n}}(t):h===I.kSpliceInsert?p=function(e){var t=e.readBits(32),n=e.readBool();e.readBits(7);var r={splice_event_id:t,splice_event_cancel_indicator:n};if(n)return r;if(r.out_of_network_indicator=e.readBool(),r.program_splice_flag=e.readBool(),r.duration_flag=e.readBool(),r.splice_immediate_flag=e.readBool(),e.readBits(4),r.program_splice_flag&&!r.splice_immediate_flag&&(r.splice_time=F(e)),!r.program_splice_flag){r.component_count=e.readBits(8),r.components=[];for(var i=0;i<r.component_count;i++)r.components.push(G(r.splice_immediate_flag,e))}return r.duration_flag&&(r.break_duration=V(e)),r.unique_program_id=e.readBits(16),r.avail_num=e.readBits(8),r.avails_expected=e.readBits(8),r}(t):h===I.kTimeSignal?p=function(e){return{splice_time:F(e)}}(t):h===I.kBandwidthReservation?p={}:h===I.kPrivateCommand?p=function(e,t){for(var n=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8)),r=new Uint8Array(e-4),i=0;i<e-4;i++)r[i]=t.readBits(8);return{identifier:n,private_data:r.buffer}}(f,t):t.readBits(8*f);for(var v=[],g=t.readBits(16),y=0;y<g;){var _=t.readBits(8),b=t.readBits(8),w=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8));0===_?v.push(K(_,b,w,t)):1===_?v.push(W(_,b,w,t)):2===_?v.push(X(_,b,w,t)):3===_?v.push(Y(_,b,w,t)):4===_?v.push(J(_,b,w,t)):t.readBits(8*(b-4)),y+=2+b}var S={table_id:n,section_syntax_indicator:r,private_indicator:i,section_length:a,protocol_version:o,encrypted_packet:s,encryption_algorithm:l,pts_adjustment:u,cw_index:c,tier:d,splice_command_length:f,splice_command_type:h,splice_command:p,descriptor_loop_length:g,splice_descriptors:v,E_CRC32:s?t.readBits(32):void 0,CRC32:t.readBits(32)};if(h===I.kSpliceInsert){var E=p;if(E.splice_event_cancel_indicator)return{splice_command_type:h,detail:S,data:e};if(E.program_splice_flag&&!E.splice_immediate_flag){var k=E.duration_flag?E.break_duration.auto_return:void 0,T=E.duration_flag?E.break_duration.duration/90:void 0;return E.splice_time.time_specified_flag?{splice_command_type:h,pts:(u+E.splice_time.pts_time)%Math.pow(2,33),auto_return:k,duraiton:T,detail:S,data:e}:{splice_command_type:h,auto_return:k,duraiton:T,detail:S,data:e}}return{splice_command_type:h,auto_return:k=E.duration_flag?E.break_duration.auto_return:void 0,duraiton:T=E.duration_flag?E.break_duration.duration/90:void 0,detail:S,data:e}}if(h===I.kTimeSignal){var x=p;return x.splice_time.time_specified_flag?{splice_command_type:h,pts:(u+x.splice_time.pts_time)%Math.pow(2,33),detail:S,data:e}:{splice_command_type:h,detail:S,data:e}}return{splice_command_type:h,detail:S,data:e}};!function(e){e[e.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",e[e.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",e[e.kSliceVPS=32]="kSliceVPS",e[e.kSliceSPS=33]="kSliceSPS",e[e.kSlicePPS=34]="kSlicePPS",e[e.kSliceAUD=35]="kSliceAUD"}(z||(z={}));var ee,te=function(){},ne=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},re=function(){function e(e){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,n=this.data_;;){if(t+3>=n.byteLength)return this.eof_flag_=!0,n.byteLength;var r=n[t+0]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],i=n[t+0]<<16|n[t+1]<<8|n[t+2];if(1===r||1===i)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_startcode_offset_,r=e[n+=1===(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])?4:3]>>1&63,i=(128&e[n])>>>7,a=this.findNextStartCodeOffset(n);if(this.current_startcode_offset_=a,0===i){var o=e.subarray(n,a);(t=new te).type=r,t.data=o}}return t},e}(),ie=function(){function e(e,t,n,r){var i=23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength),a=this.data=new Uint8Array(i);a[0]=1,a[1]=(3&r.general_profile_space)<<6|(r.general_tier_flag?1:0)<<5|31&r.general_profile_idc,a[2]=r.general_profile_compatibility_flags_1,a[3]=r.general_profile_compatibility_flags_2,a[4]=r.general_profile_compatibility_flags_3,a[5]=r.general_profile_compatibility_flags_4,a[6]=r.general_constraint_indicator_flags_1,a[7]=r.general_constraint_indicator_flags_2,a[8]=r.general_constraint_indicator_flags_3,a[9]=r.general_constraint_indicator_flags_4,a[10]=r.general_constraint_indicator_flags_5,a[11]=r.general_constraint_indicator_flags_6,a[12]=60,a[13]=240|(3840&r.min_spatial_segmentation_idc)>>8,a[14]=255&r.min_spatial_segmentation_idc,a[15]=252|3&r.parallelismType,a[16]=252|3&r.chroma_format_idc,a[17]=248|7&r.bit_depth_luma_minus8,a[18]=248|7&r.bit_depth_chroma_minus8,a[19]=0,a[20]=0,a[21]=(3&r.constant_frame_rate)<<6|(7&r.num_temporal_layers)<<3|(r.temporal_id_nested?1:0)<<2|3,a[22]=3,a[23]=128|z.kSliceVPS,a[24]=0,a[25]=1,a[26]=(65280&e.byteLength)>>8,a[27]=255&e.byteLength,a.set(e,28),a[23+(5+e.byteLength)+0]=128|z.kSliceSPS,a[23+(5+e.byteLength)+1]=0,a[23+(5+e.byteLength)+2]=1,a[23+(5+e.byteLength)+3]=(65280&t.byteLength)>>8,a[23+(5+e.byteLength)+4]=255&t.byteLength,a.set(t,23+(5+e.byteLength)+5),a[23+(5+e.byteLength+5+t.byteLength)+0]=128|z.kSlicePPS,a[23+(5+e.byteLength+5+t.byteLength)+1]=0,a[23+(5+e.byteLength+5+t.byteLength)+2]=1,a[23+(5+e.byteLength+5+t.byteLength)+3]=(65280&n.byteLength)>>8,a[23+(5+e.byteLength+5+t.byteLength)+4]=255&n.byteLength,a.set(n,23+(5+e.byteLength+5+t.byteLength)+5)}return e.prototype.getData=function(){return this.data},e}(),ae=(ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},se=function(e){function t(t,n){var r=e.call(this)||this;return r.TAG="TSDemuxer",r.first_parse_=!0,r.media_info_=new s.a,r.timescale_=90,r.duration_=0,r.current_pmt_pid_=-1,r.program_pmt_map_={},r.pes_slice_queues_={},r.section_slice_queues_={},r.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},r.audio_metadata_={audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},r.aac_last_sample_pts_=void 0,r.aac_last_incomplete_data_=null,r.has_video_=!1,r.has_audio_=!1,r.video_init_segment_dispatched_=!1,r.audio_init_segment_dispatched_=!1,r.video_metadata_changed_=!1,r.audio_metadata_changed_=!1,r.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},r.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},r.ts_packet_size_=t.ts_packet_size,r.sync_offset_=t.sync_offset,r.config_=n,r}return ae(t,e),t.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,e.prototype.destroy.call(this)},t.probe=function(e){var t=new Uint8Array(e),n=-1,r=188;if(t.byteLength<=3*r)return a.a.e("TSDemuxer","Probe data "+t.byteLength+" bytes is too few for judging MPEG-TS stream format!"),{match:!1};for(;-1===n;){for(var i=Math.min(1e3,t.byteLength-3*r),o=0;o<i;){if(71===t[o]&&71===t[o+r]&&71===t[o+2*r]){n=o;break}o++}if(-1===n)if(188===r)r=192;else{if(192!==r)break;r=204}}return-1===n?{match:!1}:(192===r&&n>=4?(a.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),n-=4):204===r&&a.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:r,sync_offset:n})},t.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},t.prototype.resetMediaInfo=function(){this.media_info_=new s.a},t.prototype.parseChunks=function(e,t){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new f.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var n=0;for(this.first_parse_&&(this.first_parse_=!1,n=this.sync_offset_);n+this.ts_packet_size_<=e.byteLength;){var r=t+n;192===this.ts_packet_size_&&(n+=4);var i=new Uint8Array(e,n,188),o=i[0];if(71!==o){a.a.e(this.TAG,"sync_byte = "+o+", not 0x47");break}var s=(64&i[1])>>>6,l=(i[1],(31&i[1])<<8|i[2]),u=(48&i[3])>>>4,d=15&i[3],h={},p=4;if(2==u||3==u){var m=i[4];if(5+m===188){n+=188,204===this.ts_packet_size_&&(n+=16);continue}m>0&&(h=this.parseAdaptationField(e,n+4,1+m)),p=5+m}if(1==u||3==u)if(0===l||l===this.current_pmt_pid_||null!=this.pmt_&&this.pmt_.pid_stream_type[l]===c.kSCTE35){var v=188-p;this.handleSectionSlice(e,n+p,v,{pid:l,file_position:r,payload_unit_start_indicator:s,continuity_conunter:d,random_access_indicator:h.random_access_indicator})}else if(null!=this.pmt_&&null!=this.pmt_.pid_stream_type[l]){v=188-p;var g=this.pmt_.pid_stream_type[l];l!==this.pmt_.common_pids.h264&&l!==this.pmt_.common_pids.h265&&l!==this.pmt_.common_pids.adts_aac&&!0!==this.pmt_.pes_private_data_pids[l]&&!0!==this.pmt_.timed_id3_pids[l]||this.handlePESSlice(e,n+p,v,{pid:l,stream_type:g,file_position:r,payload_unit_start_indicator:s,continuity_conunter:d,random_access_indicator:h.random_access_indicator})}n+=188,204===this.ts_packet_size_&&(n+=16)}return this.dispatchAudioVideoMediaSegment(),n},t.prototype.parseAdaptationField=function(e,t,n){var r=new Uint8Array(e,t,n),i=r[0];return i>0?i>183?(a.a.w(this.TAG,"Illegal adaptation_field_length: "+i),{}):{discontinuity_indicator:(128&r[1])>>>7,random_access_indicator:(64&r[1])>>>6,elementary_stream_priority_indicator:(32&r[1])>>>5}:{}},t.prototype.handleSectionSlice=function(e,t,n,r){var i=new Uint8Array(e,t,n),a=this.section_slice_queues_[r.pid];if(r.payload_unit_start_indicator){var o=i[0];if(null!=a&&0!==a.total_length){var s=new Uint8Array(e,t+1,Math.min(n,o));a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,r):this.clearSlices(a,r)}for(var l=1+o;l<i.byteLength&&255!==i[l+0];){var u=(15&i[l+1])<<8|i[l+2];this.section_slice_queues_[r.pid]=new x,(a=this.section_slice_queues_[r.pid]).expected_length=u+3,a.file_position=r.file_position,a.random_access_indicator=r.random_access_indicator,s=new Uint8Array(e,t+l,Math.min(n-l,a.expected_length-a.total_length)),a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,r):a.total_length>=a.expected_length&&this.clearSlices(a,r),l+=s.byteLength}}else null!=a&&0!==a.total_length&&(s=new Uint8Array(e,t,Math.min(n,a.expected_length-a.total_length)),a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,r):a.total_length>=a.expected_length&&this.clearSlices(a,r))},t.prototype.handlePESSlice=function(e,t,n,r){var i=new Uint8Array(e,t,n),o=i[0]<<16|i[1]<<8|i[2],s=(i[3],i[4]<<8|i[5]);if(r.payload_unit_start_indicator){if(1!==o)return void a.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value "+o);var l=this.pes_slice_queues_[r.pid];l&&(0===l.expected_length||l.expected_length===l.total_length?this.emitPESSlices(l,r):this.clearSlices(l,r)),this.pes_slice_queues_[r.pid]=new x,this.pes_slice_queues_[r.pid].file_position=r.file_position,this.pes_slice_queues_[r.pid].random_access_indicator=r.random_access_indicator}if(null!=this.pes_slice_queues_[r.pid]){var u=this.pes_slice_queues_[r.pid];u.slices.push(i),r.payload_unit_start_indicator&&(u.expected_length=0===s?0:s+6),u.total_length+=i.byteLength,u.expected_length>0&&u.expected_length===u.total_length?this.emitPESSlices(u,r):u.expected_length>0&&u.expected_length<u.total_length&&this.clearSlices(u,r)}},t.prototype.emitSectionSlices=function(e,t){for(var n=new Uint8Array(e.total_length),r=0,i=0;r<e.slices.length;r++){var a=e.slices[r];n.set(a,i),i+=a.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new T;o.pid=t.pid,o.data=n,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parseSection(o)},t.prototype.emitPESSlices=function(e,t){for(var n=new Uint8Array(e.total_length),r=0,i=0;r<e.slices.length;r++){var a=e.slices[r];n.set(a,i),i+=a.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new k;o.pid=t.pid,o.data=n,o.stream_type=t.stream_type,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parsePES(o)},t.prototype.clearSlices=function(e,t){e.slices=[],e.expected_length=-1,e.total_length=0},t.prototype.parseSection=function(e){var t=e.data,n=e.pid;0===n?this.parsePAT(t):n===this.current_pmt_pid_?this.parsePMT(t):null!=this.pmt_&&this.pmt_.scte_35_pids[n]&&this.parseSCTE35(t)},t.prototype.parsePES=function(e){var t=e.data,n=t[0]<<16|t[1]<<8|t[2],r=t[3],i=t[4]<<8|t[5];if(1===n)if(188!==r&&190!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r){t[6];var o=(192&t[7])>>>6,s=t[8],l=void 0,u=void 0;2!==o&&3!==o||(l=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,u=3===o?536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2:l);var d=9+s,f=void 0;if(0!==i){if(i<3+s)return void a.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");f=i-3-s}else f=t.byteLength-d;var h=t.subarray(d,d+f);switch(e.stream_type){case c.kMPEG1Audio:case c.kMPEG2Audio:break;case c.kPESPrivateData:this.parsePESPrivateDataPayload(h,l,u,e.pid,r);break;case c.kADTSAAC:this.parseAACPayload(h,l);break;case c.kID3:this.parseTimedID3MetadataPayload(h,l,u,e.pid,r);break;case c.kH264:this.parseH264Payload(h,l,u,e.file_position,e.random_access_indicator);break;case c.kH265:this.parseH265Payload(h,l,u,e.file_position,e.random_access_indicator)}}else 188!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r||e.stream_type!==c.kPESPrivateData||(d=6,f=void 0,f=0!==i?i:t.byteLength-d,h=t.subarray(d,d+f),this.parsePESPrivateDataPayload(h,void 0,void 0,e.pid,r));else a.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value "+n)},t.prototype.parsePAT=function(e){var t=e[0];if(0===t){var n=(15&e[1])<<8|e[2],r=(e[3],e[4],(62&e[5])>>>1),i=1&e[5],o=e[6],s=(e[7],null);if(1===i&&0===o)(s=new w).version_number=r;else if(null==(s=this.pat_))return;for(var l=n-5-4,u=-1,c=-1,d=8;d<8+l;d+=4){var f=e[d]<<8|e[d+1],h=(31&e[d+2])<<8|e[d+3];0===f?s.network_pid=h:(s.program_pmt_pid[f]=h,-1===u&&(u=f),-1===c&&(c=h))}1===i&&0===o&&(null==this.pat_&&a.a.v(this.TAG,"Parsed first PAT: "+JSON.stringify(s)),this.pat_=s,this.current_program_=u,this.current_pmt_pid_=c)}else a.a.e(this.TAG,"parsePAT: table_id "+t+" is not corresponded to PAT!")},t.prototype.parsePMT=function(e){var t=e[0];if(2===t){var n=(15&e[1])<<8|e[2],r=e[3]<<8|e[4],i=(62&e[5])>>>1,o=1&e[5],s=e[6],l=(e[7],null);if(1===o&&0===s)(l=new E).program_number=r,l.version_number=i,this.program_pmt_map_[r]=l;else if(null==(l=this.program_pmt_map_[r]))return;e[8],e[9];for(var u=(15&e[10])<<8|e[11],d=12+u,f=n-9-u-4,h=d;h<d+f;){var p=e[h],m=(31&e[h+1])<<8|e[h+2],v=(15&e[h+3])<<8|e[h+4];if(l.pid_stream_type[m]=p,p!==c.kH264||l.common_pids.h264||l.common_pids.h265)if(p!==c.kH265||l.common_pids.h264||l.common_pids.h265)if(p!==c.kADTSAAC||l.common_pids.adts_aac)if(p===c.kPESPrivateData){if(l.pes_private_data_pids[m]=!0,v>0){var g=e.subarray(h+5,h+5+v);this.dispatchPESPrivateDataDescriptor(m,p,g)}}else p===c.kID3?l.timed_id3_pids[m]=!0:p===c.kSCTE35&&(l.scte_35_pids[m]=!0);else l.common_pids.adts_aac=m;else l.common_pids.h265=m;else l.common_pids.h264=m;h+=5+v}r===this.current_program_&&(null==this.pmt_&&a.a.v(this.TAG,"Parsed first PMT: "+JSON.stringify(l)),this.pmt_=l,(l.common_pids.h264||l.common_pids.h265)&&(this.has_video_=!0),l.common_pids.adts_aac&&(this.has_audio_=!0))}else a.a.e(this.TAG,"parsePMT: table_id "+t+" is not corresponded to PMT!")},t.prototype.parseSCTE35=function(e){var t=Z(e);if(null!=t.pts){var n=Math.floor(t.pts/this.timescale_);t.pts=n}else t.nearest_pts=this.aac_last_sample_pts_;this.onSCTE35Metadata&&this.onSCTE35Metadata(t)},t.prototype.parseH264Payload=function(e,t,n,r,i){for(var o=new P(e),s=null,l=[],u=0,c=!1;null!=(s=o.readNextNaluPayload());){var d=new L(s);if(d.type===S.kSliceSPS){var f=v.parseSPS(s.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(d,f)&&(a.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:d,pps:void 0,details:f}):(this.video_metadata_.sps=d,this.video_metadata_.details=f)}else d.type===S.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=d,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(d.type===S.kSliceIDR||d.type===S.kSliceNonIDR&&1===i)&&(c=!0);this.video_init_segment_dispatched_&&(l.push(d),u+=d.data.byteLength)}var h=Math.floor(t/this.timescale_),p=Math.floor(n/this.timescale_);if(l.length){var m=this.video_track_,g={units:l,length:u,isKeyframe:c,dts:p,pts:h,cts:h-p,file_position:r};m.samples.push(g),m.length+=u}},t.prototype.parseH265Payload=function(e,t,n,r,i){for(var o=new re(e),s=null,l=[],u=0,c=!1;null!=(s=o.readNextNaluPayload());){var d=new ne(s);if(d.type===z.kSliceVPS){if(!this.video_init_segment_dispatched_){var f=y.parseVPS(s.data);this.video_metadata_.vps=d,this.video_metadata_.details=oe(oe({},this.video_metadata_.details),f)}}else d.type===z.kSliceSPS?(f=y.parseSPS(s.data),this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(d,f)&&(a.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:d,pps:void 0,details:f}):(this.video_metadata_.sps=d,this.video_metadata_.details=oe(oe({},this.video_metadata_.details),f))):d.type===z.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(f=y.parsePPS(s.data),this.video_metadata_.pps=d,this.video_metadata_.details=oe(oe({},this.video_metadata_.details),f),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):d.type!==z.kSliceIDR_W_RADL&&d.type!==z.kSliceIDR_N_LP||(c=!0);this.video_init_segment_dispatched_&&(l.push(d),u+=d.data.byteLength)}var h=Math.floor(t/this.timescale_),p=Math.floor(n/this.timescale_);if(l.length){var m=this.video_track_,v={units:l,length:u,isKeyframe:c,dts:p,pts:h,cts:h-p,file_position:r};m.samples.push(v),m.length+=u}},t.prototype.detectVideoMetadataChange=function(e,t){if(t.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return a.a.v(this.TAG,"Video: Codec mimeType changed from "+this.video_metadata_.details.codec_mimetype+" to "+t.codec_mimetype),!0;if(t.codec_size.width!==this.video_metadata_.details.codec_size.width||t.codec_size.height!==this.video_metadata_.details.codec_size.height){var n=this.video_metadata_.details.codec_size,r=t.codec_size;return a.a.v(this.TAG,"Video: Coded Resolution changed from "+n.width+"x"+n.height+" to "+r.width+"x"+r.height),!0}return t.present_size.width!==this.video_metadata_.details.present_size.width&&(a.a.v(this.TAG,"Video: Present resolution width changed from "+this.video_metadata_.details.present_size.width+" to "+t.present_size.width),!0)},t.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},t.prototype.dispatchVideoInitSegment=function(){var e=this.video_metadata_.details,t={type:"video"};t.id=this.video_track_.id,t.timescale=1e3,t.duration=this.duration_,t.codecWidth=e.codec_size.width,t.codecHeight=e.codec_size.height,t.presentWidth=e.present_size.width,t.presentHeight=e.present_size.height,t.profile=e.profile_string,t.level=e.level_string,t.bitDepth=e.bit_depth,t.chromaFormat=e.chroma_format,t.sarRatio=e.sar_ratio,t.frameRate=e.frame_rate;var n=t.frameRate.fps_den,r=t.frameRate.fps_num;if(t.refSampleDuration=n/r*1e3,t.codec=e.codec_mimetype,this.video_metadata_.vps){var i=this.video_metadata_.vps.data.subarray(4),o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4),l=new ie(i,o,s,e);t.hvcc=l.getData(),0==this.video_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: "+t.codec)}else{o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4);var u=new N(o,s,e);t.avcc=u.getData(),0==this.video_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: "+t.codec)}this.onTrackMetadata("video",t),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var c=this.media_info_;c.hasVideo=!0,c.width=t.codecWidth,c.height=t.codecHeight,c.fps=t.frameRate.fps,c.profile=t.profile,c.level=t.level,c.refFrames=e.ref_frames,c.chromaFormat=e.chroma_format_string,c.sarNum=t.sarRatio.width,c.sarDen=t.sarRatio.height,c.videoCodec=t.codec,c.hasAudio&&c.audioCodec?c.mimeType='video/mp2t; codecs="'+c.videoCodec+","+c.audioCodec+'"':c.mimeType='video/mp2t; codecs="'+c.videoCodec+'"',c.isComplete()&&this.onMediaInfo(c)},t.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},t.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},t.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},t.prototype.parseAACPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var n=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);n.set(this.aac_last_incomplete_data_,0),n.set(e,this.aac_last_incomplete_data_.byteLength),e=n}var r,i;if(null!=t)i=t/this.timescale_;else{if(null==this.aac_last_sample_pts_)return void a.a.w(this.TAG,"AAC: Unknown pts");r=1024/this.audio_metadata_.sampling_frequency*1e3,i=this.aac_last_sample_pts_+r}if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){r=1024/this.audio_metadata_.sampling_frequency*1e3;var o=this.aac_last_sample_pts_+r;Math.abs(o-i)>1&&(a.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+o+"ms, PES pts: "+i+"ms"),i=o)}for(var s,l=new O(e),u=null,c=i;null!=(u=l.readNextAACFrame());){r=1024/u.sampling_frequency*1e3,0==this.audio_init_segment_dispatched_?(this.audio_metadata_.audio_object_type=u.audio_object_type,this.audio_metadata_.sampling_freq_index=u.sampling_freq_index,this.audio_metadata_.sampling_frequency=u.sampling_frequency,this.audio_metadata_.channel_config=u.channel_config,this.dispatchAudioInitSegment(u)):this.detectAudioMetadataChange(u)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(u)),s=c;var d=Math.floor(c),f={unit:u.data,length:u.data.byteLength,pts:d,dts:d};this.audio_track_.samples.push(f),this.audio_track_.length+=u.data.byteLength,c+=r}l.hasIncompleteData()&&(this.aac_last_incomplete_data_=l.getIncompleteData()),s&&(this.aac_last_sample_pts_=s)}},t.prototype.detectAudioMetadataChange=function(e){return e.audio_object_type!==this.audio_metadata_.audio_object_type?(a.a.v(this.TAG,"AAC: AudioObjectType changed from "+this.audio_metadata_.audio_object_type+" to "+e.audio_object_type),!0):e.sampling_freq_index!==this.audio_metadata_.sampling_freq_index?(a.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+this.audio_metadata_.sampling_freq_index+" to "+e.sampling_freq_index),!0):e.channel_config!==this.audio_metadata_.channel_config&&(a.a.v(this.TAG,"AAC: Channel configuration changed from "+this.audio_metadata_.channel_config+" to "+e.channel_config),!0)},t.prototype.dispatchAudioInitSegment=function(e){var t=new j(e),n={type:"audio"};n.id=this.audio_track_.id,n.timescale=1e3,n.duration=this.duration_,n.audioSampleRate=t.sampling_rate,n.channelCount=t.channel_count,n.codec=t.codec_mimetype,n.originalCodec=t.original_codec_mimetype,n.config=t.config,n.refSampleDuration=1024/n.audioSampleRate*n.timescale,0==this.audio_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: "+n.codec),this.onTrackMetadata("audio",n),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var r=this.media_info_;r.hasAudio=!0,r.audioCodec=n.originalCodec,r.audioSampleRate=n.audioSampleRate,r.audioChannelCount=n.channelCount,r.hasVideo&&r.videoCodec?r.mimeType='video/mp2t; codecs="'+r.videoCodec+","+r.audioCodec+'"':r.mimeType='video/mp2t; codecs="'+r.audioCodec+'"',r.isComplete()&&this.onMediaInfo(r)},t.prototype.dispatchPESPrivateDataDescriptor=function(e,t,n){var r=new U;r.pid=e,r.stream_type=t,r.descriptor=n,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(r)},t.prototype.parsePESPrivateDataPayload=function(e,t,n,r,i){var a=new B;if(a.pid=r,a.stream_id=i,a.len=e.byteLength,a.data=e,null!=t){var o=Math.floor(t/this.timescale_);a.pts=o}else a.nearest_pts=this.aac_last_sample_pts_;if(null!=n){var s=Math.floor(n/this.timescale_);a.dts=s}this.onPESPrivateData&&this.onPESPrivateData(a)},t.prototype.parseTimedID3MetadataPayload=function(e,t,n,r,i){var a=new B;if(a.pid=r,a.stream_id=i,a.len=e.byteLength,a.data=e,null!=t){var o=Math.floor(t/this.timescale_);a.pts=o}if(null!=n){var s=Math.floor(n/this.timescale_);a.dts=s}this.onTimedID3Metadata&&this.onTimedID3Metadata(a)},t}(b),le=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,n=null,r=Array.prototype.slice.call(arguments,1),i=r.length,a=0;a<i;a++)t+=r[a].byteLength;(n=new Uint8Array(t))[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);var o=8;for(a=0;a<i;a++)n.set(r[a],o),o+=r[a].byteLength;return n},e.generateInitSegment=function(t){var n=e.box(e.types.ftyp,e.constants.FTYP),r=e.moov(t),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(n,0),i.set(r,n.byteLength),i},e.moov=function(t){var n=e.mvhd(t.timescale,t.duration),r=e.trak(t),i=e.mvex(t);return e.box(e.types.moov,n,r,i)},e.mvhd=function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var n=t.id,r=t.duration,i=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>>8&255,255&i,0,0,a>>>8&255,255&a,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var n=t.timescale,r=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))},e.hdlr=function(t){var n=null;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)},e.minf=function(t){var n=null;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):"video"===t.type&&t.codec.startsWith("hvc1")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.hvc1(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var n=t.channelCount,r=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types[".mp3"],i)},e.mp4a=function(t){var n=t.channelCount,r=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.mp4a,i,e.esds(t))},e.esds=function(t){var n=t.config||[],r=n.length,i=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(n).concat([6,1,2]));return e.box(e.types.esds,i)},e.avc1=function(t){var n=t.avcc,r=t.codecWidth,i=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,n))},e.hvc1=function(t){var n=t.hvcc,r=t.codecWidth,i=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.hvc1,a,e.box(e.types.hvcC,n))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var n=t.id,r=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,r)},e.moof=function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))},e.mfhd=function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)},e.traf=function(t,n){var r=t.id,i=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,i,a,s,o)},e.sdtp=function(t){for(var n=t.samples||[],r=n.length,i=new Uint8Array(4+r),a=0;a<r;a++){var o=n[a].flags;i[a+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,i)},e.trun=function(t,n){var r=t.samples||[],i=r.length,a=12+16*i,o=new Uint8Array(a);n+=8+a,o.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<i;s++){var l=r[s].duration,u=r[s].size,c=r[s].flags,d=r[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();le.init();var ue=le,ce=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),de=n(7),fe=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new de.c("audio"),this._videoSegmentInfoList=new de.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.a.chrome||!(o.a.version.major<50||50===o.a.version.major&&o.a.version.build<2661)),this._fillSilentAfterSeek=o.a.msedge||o.a.msie,this._mp3UseMpegAudio=!o.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new f.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),t&&this._remuxVideo(t),e&&this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var n=null,r="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",i="",n=new Uint8Array):n=ue.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=ue.generateInitSegment(t)}if(!this._onInitSegment)throw new f.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:i,container:e+"/"+r,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e&&e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t&&t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);var r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(r,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var n,r=e,i=r.samples,s=void 0,l=-1,u=this._audioMeta.refSampleDuration,c="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,d=this._dtsBaseInited&&void 0===this._audioNextDts,f=!1;if(i&&0!==i.length&&(1!==i.length||t)){var h=0,p=null,m=0;c?(h=0,m=r.length):(h=8,m=8+r.length);var v=null;if(i.length>1&&(m-=(v=i.pop()).length),null!=this._audioStashedLastSample){var g=this._audioStashedLastSample;this._audioStashedLastSample=null,i.unshift(g),m+=g.length}null!=v&&(this._audioStashedLastSample=v);var y=i[0].dts-this._dtsBase;if(this._audioNextDts)s=y-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())s=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(f=!0);else{var _=this._audioSegmentInfoList.getLastSampleBefore(y);if(null!=_){var b=y-(_.originalDts+_.duration);b<=3&&(b=0),s=y-(_.dts+_.duration+b)}else s=0}if(f){var w=y-s,S=this._videoSegmentInfoList.getLastSegmentBefore(y);if(null!=S&&S.beginDts<w){if(I=ce.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var E=S.beginDts,k=w-S.beginDts;a.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+E+", duration: "+k),i.unshift({unit:I,dts:E,pts:E}),m+=I.byteLength}}else f=!1}for(var T=[],x=0;x<i.length;x++){var A=(g=i[x]).unit,C=g.dts-this._dtsBase,R=(E=C,!1),L=null,P=0;if(!(C<-.001)){if("mp3"!==this._audioMeta.codec){var N=C;if(this._audioNextDts&&(N=this._audioNextDts),(s=C-N)<=-3*u){a.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+C+" ms ,curRefDts: "+N+" ms)  due to dtsCorrection: "+s+" ms overlap.");continue}if(s>=3*u&&this._fillAudioTimestampGap&&!o.a.safari){R=!0;var I,D=Math.floor(s/u);a.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+C+" ms, curRefDts: "+N+" ms, dtsCorrection: "+Math.round(s)+" ms, generate: "+D+" frames"),E=Math.floor(N),P=Math.floor(N+u)-E,null==(I=ce.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(a.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),I=A),L=[];for(var M=0;M<D;M++){N+=u;var O=Math.floor(N),j=Math.floor(N+u)-O,B={dts:O,pts:O,cts:0,unit:I,size:I.byteLength,duration:j,originalDts:C,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};L.push(B),m+=B.size}this._audioNextDts=N+u}else E=Math.floor(N),P=Math.floor(N+u)-E,this._audioNextDts=N+u}else E=C-s,P=x!==i.length-1?i[x+1].dts-this._dtsBase-s-E:null!=v?v.dts-this._dtsBase-s-E:T.length>=1?T[T.length-1].duration:Math.floor(u),this._audioNextDts=E+P;-1===l&&(l=E),T.push({dts:E,pts:E,cts:0,unit:g.unit,size:g.unit.byteLength,duration:P,originalDts:C,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),R&&T.push.apply(T,L)}}if(0===T.length)return r.samples=[],void(r.length=0);for(c?p=new Uint8Array(m):((p=new Uint8Array(m))[0]=m>>>24&255,p[1]=m>>>16&255,p[2]=m>>>8&255,p[3]=255&m,p.set(ue.types.mdat,4)),x=0;x<T.length;x++)A=T[x].unit,p.set(A,h),h+=A.byteLength;var U=T[T.length-1];n=U.dts+U.duration;var z=new de.b;z.beginDts=l,z.endDts=n,z.beginPts=l,z.endPts=n,z.originalBeginDts=T[0].originalDts,z.originalEndDts=U.originalDts+U.duration,z.firstSample=new de.d(T[0].dts,T[0].pts,T[0].duration,T[0].originalDts,!1),z.lastSample=new de.d(U.dts,U.pts,U.duration,U.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(z),r.samples=T,r.sequenceNumber++;var F=null;F=c?new Uint8Array:ue.moof(r,l),r.samples=[],r.length=0;var V={type:"audio",data:this._mergeBoxes(F,p).buffer,sampleCount:T.length,info:z};c&&d&&(V.timestampOffset=l),this._onMediaSegment("audio",V)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var n,r,i=e,a=i.samples,o=void 0,s=-1,l=-1;if(a&&0!==a.length&&(1!==a.length||t)){var u=8,c=null,d=8+e.length,f=null;if(a.length>1&&(d-=(f=a.pop()).length),null!=this._videoStashedLastSample){var h=this._videoStashedLastSample;this._videoStashedLastSample=null,a.unshift(h),d+=h.length}null!=f&&(this._videoStashedLastSample=f);var p=a[0].dts-this._dtsBase;if(this._videoNextDts)o=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())o=0;else{var m=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=m){var v=p-(m.originalDts+m.duration);v<=3&&(v=0),o=p-(m.dts+m.duration+v)}else o=0}for(var g=new de.b,y=[],_=0;_<a.length;_++){var b=(h=a[_]).dts-this._dtsBase,w=h.isKeyframe,S=b-o,E=h.cts,k=S+E;-1===s&&(s=S,l=k);var T=0;if(T=_!==a.length-1?a[_+1].dts-this._dtsBase-o-S:null!=f?f.dts-this._dtsBase-o-S:y.length>=1?y[y.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var x=new de.d(S,k,T,h.dts,!0);x.fileposition=h.fileposition,g.appendSyncPoint(x)}y.push({dts:S,pts:k,cts:E,units:h.units,size:h.length,isKeyframe:w,duration:T,originalDts:b,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}for((c=new Uint8Array(d))[0]=d>>>24&255,c[1]=d>>>16&255,c[2]=d>>>8&255,c[3]=255&d,c.set(ue.types.mdat,4),_=0;_<y.length;_++)for(var A=y[_].units;A.length;){var C=A.shift().data;c.set(C,u),u+=C.byteLength}var R=y[y.length-1];if(n=R.dts+R.duration,r=R.pts+R.duration,this._videoNextDts=n,g.beginDts=s,g.endDts=n,g.beginPts=l,g.endPts=r,g.originalBeginDts=y[0].originalDts,g.originalEndDts=R.originalDts+R.duration,g.firstSample=new de.d(y[0].dts,y[0].pts,y[0].duration,y[0].originalDts,y[0].isKeyframe),g.lastSample=new de.d(R.dts,R.pts,R.duration,R.originalDts,R.isKeyframe),this._isLive||this._videoSegmentInfoList.append(g),i.samples=y,i.sequenceNumber++,this._forceFirstIDR){var L=y[0].flags;L.dependsOn=2,L.isNonSync=0}var P=ue.moof(i,s);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,c).buffer,sampleCount:y.length,info:g})}}},e.prototype._mergeBoxes=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n},e}(),he=n(11),pe=n(1),me=function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new i.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var n=0;this._mediaDataSource.segments.forEach((function(r){r.timestampBase=n,n+=r.duration,r.cors=e.cors,r.withCredentials=e.withCredentials,t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy)})),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var n=this._mediaDataSource.segments[e],r=this._ioctl=new he.a(n,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{var r=n.getNearestKeyframe(e);this._remuxer.seek(r.milliseconds),this._ioctl.seek(r.fileposition),this._pendingResolveSeekPoint=r.milliseconds}}else{var i=this._mediaInfo.segments[t];null==i?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(r=i.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,r.fileposition),this._pendingResolveSeekPoint=r.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,n=t.length-1,r=0;r<t.length;r++)if(e<t[r].timestampBase){n=r-1;break}return n},e.prototype._onInitChunkArrival=function(e,t){var n=this,r=null,i=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,i=this._demuxer.parseChunks(e,t);else if((r=se.probe(e)).match){var o=this._demuxer=new se(r,this._config);this._remuxer||(this._remuxer=new fe(this._config)),o.onError=this._onDemuxException.bind(this),o.onMediaInfo=this._onMediaInfo.bind(this),o.onMetaDataArrived=this._onMetaDataArrived.bind(this),o.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),o.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),o.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),o.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),i=this._demuxer.parseChunks(e,t)}else if((r=_.probe(e)).match){this._demuxer=new _(r,this._config),this._remuxer||(this._remuxer=new fe(this._config));var s=this._mediaDataSource;null==s.duration||isNaN(s.duration)||(this._demuxer.overridedDuration=s.duration),"boolean"==typeof s.hasAudio&&(this._demuxer.overridedHasAudio=s.hasAudio),"boolean"==typeof s.hasVideo&&(this._demuxer.overridedHasVideo=s.hasVideo),this._demuxer.timestampBase=s.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),i=this._demuxer.parseChunks(e,t)}else r=null,a.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then((function(){n._internalAbort()})),this._emitter.emit(pe.a.DEMUX_ERROR,g.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"),i=0;return i},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.a.prototype));var n=Object.assign({},e);Object.setPrototypeOf(n,s.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=n,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(pe.a.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(pe.a.SCRIPTDATA_ARRIVED,e)},e.prototype._onTimedID3Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(pe.a.TIMED_ID3_METADATA_ARRIVED,e))},e.prototype._onSCTE35Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(pe.a.SCTE35_METADATA_ARRIVED,e))},e.prototype._onPESPrivateDataDescriptor=function(e){this._emitter.emit(pe.a.PES_PRIVATE_DATA_DESCRIPTOR,e)},e.prototype._onPESPrivateData=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(pe.a.PES_PRIVATE_DATA_ARRIVED,e))},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(pe.a.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(pe.a.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){a.a.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(pe.a.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){a.a.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(pe.a.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(pe.a.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(pe.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var n=t.info.syncPoints,r=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.a.safari&&n.length>0&&n[0].originalDts===r&&(r=n[0].pts),this._emitter.emit(pe.a.RECOMMEND_SEEKPOINT,r)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(pe.a.MEDIA_INFO,n)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(pe.a.STATISTICS_INFO,e)},e}();t.a=me},function(e,t,n){"use strict";var r,i=n(0),a=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}(),o=n(2),s=n(4),l=n(3),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t,n){var r=e.call(this,"fetch-stream-loader")||this;return r.TAG="FetchStreamLoader",r._seekHandler=t,r._config=n,r._needStash=!0,r._requestAbort=!1,r._abortController=null,r._contentLength=null,r._receivedLength=0,r}return u(t,e),t.isSupported=function(){try{var e=s.a.msedge&&s.a.version.minor>=15048,t=!s.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var n=this;this._dataSource=e,this._range=t;var r=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(r=e.redirectedURL);var i=this._seekHandler.getConfig(r,t),a=new self.Headers;if("object"==typeof i.headers){var s=i.headers;for(var u in s)s.hasOwnProperty(u)&&a.append(u,s[u])}var c={method:"GET",headers:a,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var u in this._config.headers)a.append(u,this._config.headers[u]);!1===e.cors&&(c.mode="same-origin"),e.withCredentials&&(c.credentials="include"),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,c.signal=this._abortController.signal),this._status=o.c.kConnecting,self.fetch(i.url,c).then((function(e){if(n._requestAbort)return n._status=o.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==i.url&&n._onURLRedirect){var t=n._seekHandler.removeURLParameters(e.url);n._onURLRedirect(t)}var r=e.headers.get("Content-Length");return null!=r&&(n._contentLength=parseInt(r),0!==n._contentLength&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,e.body.getReader())}if(n._status=o.c.kError,!n._onError)throw new l.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);n._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(!n._abortController||!n._abortController.signal.aborted){if(n._status=o.c.kError,!n._onError)throw e;n._onError(o.b.EXCEPTION,{code:-1,msg:e.message})}}))},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==o.c.kBuffering||!s.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then((function(n){if(n.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=o.c.kError;var r=o.b.EARLY_EOF,i={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new l.d(i.msg);t._onError(r,i)}else t._status=o.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=o.c.kComplete);if(!0===t._requestAbort)return t._status=o.c.kComplete,e.cancel();t._status=o.c.kBuffering;var a=n.value.buffer,s=t._range.from+t._receivedLength;t._receivedLength+=a.byteLength,t._onDataArrival&&t._onDataArrival(a,s,t._receivedLength),t._pump(e)}})).catch((function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=o.c.kComplete;else if(11!==e.code||!s.a.msedge){t._status=o.c.kError;var n=0,r=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(n=o.b.EXCEPTION,r={code:e.code,msg:e.message}):(n=o.b.EARLY_EOF,r={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new l.d(r.msg);t._onError(n,r)}}))},t}(o.a),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t,n){var r=e.call(this,"xhr-moz-chunked-loader")||this;return r.TAG="MozChunkedLoader",r._seekHandler=t,r._config=n,r._needStash=!0,r._xhr=null,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}return d(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return i.a.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var r=this._seekHandler.getConfig(n,t);this._requestURL=r.url;var i=this._xhr=new XMLHttpRequest;if(i.open("GET",r.url,!0),i.responseType="moz-chunked-arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onloadend=this._onLoadEnd.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof r.headers){var a=r.headers;for(var s in a)a.hasOwnProperty(s)&&i.setRequestHeader(s,a[s])}if("object"==typeof this._config.headers)for(var s in a=this._config.headers)a.hasOwnProperty(s)&&i.setRequestHeader(s,a[s]);this._status=o.c.kConnecting,i.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=o.c.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(n)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=o.c.kError,!this._onError)throw new l.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=o.c.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==o.c.kError&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,n=null;if(this._contentLength&&e.loaded<this._contentLength?(t=o.b.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=o.b.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(n.msg);this._onError(t,n)},t}(o.a),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(e){function t(t,n){var r=e.call(this,"xhr-range-loader")||this;return r.TAG="RangeLoader",r._seekHandler=t,r._config=n,r._needStash=!1,r._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],r._currentChunkSizeKB=384,r._currentSpeedNormalized=0,r._zeroSpeedChunkCount=0,r._xhr=null,r._speedSampler=new a,r._requestAbort=!1,r._waitForTotalLength=!1,r._totalLengthReceived=!1,r._currentRequestURL=null,r._currentRedirectedURL=null,r._currentRequestRange=null,r._totalLength=null,r._contentLength=null,r._receivedLength=0,r._lastTimeLoaded=0,r}return h(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return i.a.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.c.kConnecting;var n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var r=this._seekHandler.getConfig(n,t);this._currentRequestURL=r.url;var i=this._xhr=new XMLHttpRequest;if(i.open("GET",r.url,!0),i.responseType="arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onload=this._onLoad.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof r.headers){var a=r.headers;for(var o in a)a.hasOwnProperty(o)&&i.setRequestHeader(o,a[o])}if("object"==typeof this._config.headers)for(var o in a=this._config.headers)a.hasOwnProperty(o)&&i.setRequestHeader(o,a[o]);i.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.c.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.c.kBuffering}else{if(this._status=o.c.kError,!this._onError)throw new l.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var r=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(r)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,n=t.length-1,r=0,i=0,a=n;if(e<t[0])return t[0];for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:a=r-1}},t.prototype._onLoad=function(e){if(this._status!==o.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var n=this._normalizeSpeed(t);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var r=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=r.byteLength;var a=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():a=!0,this._onDataArrival&&this._onDataArrival(r,i,this._receivedLength),a&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.b.EARLY_EOF,n={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.b.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(n.msg);this._onError(t,n)},t}(o.a),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return m(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=o.c.kConnecting}catch(e){this._status=o.c.kError;var n={code:e.code,msg:e.message};if(!this._onError)throw new l.d(n.msg);this._onError(o.b.EXCEPTION,n)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=o.c.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=o.c.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=o.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{this._status=o.c.kError;var r={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new l.d(r.msg);this._onError(o.b.EXCEPTION,r)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=o.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new l.d(t.msg);this._onError(o.b.EXCEPTION,t)},t}(o.a),g=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var n={};if(0!==t.from||-1!==t.to){var r=void 0;r=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",n.Range=r}else this._zeroStart&&(n.Range="bytes=0-");return{url:e,headers:n}},e.prototype.removeURLParameters=function(e){return e},e}(),y=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var n=e;if(0!==t.from||-1!==t.to){var r=!0;-1===n.indexOf("?")&&(n+="?",r=!1),r&&(n+="&"),n+=this._startName+"="+t.from.toString(),-1!==t.to&&(n+="&"+this._endName+"="+t.to.toString())}return{url:n,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],n=void 0,r=e.indexOf("?");-1!==r&&(n=e.substring(r+1));var i="";if(null!=n&&n.length>0)for(var a=n.split("&"),o=0;o<a.length;o++){var s=a[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(i+="&"),i+=a[o])}return 0===i.length?t:t+"?"+i},e}(),_=function(){function e(e,t,n){this.TAG="IOController",this._config=t,this._extraData=n,this._stashInitialSize=65536,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new a,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===p?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new g(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new y(t,n)}else{if("custom"!==e.seekType)throw new l.b("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new l.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v;else if(c.isSupported())this._loaderClass=c;else if(f.isSupported())this._loaderClass=f;else{if(!p.isSupported())throw new l.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=p}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new l.b("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var n=new ArrayBuffer(t);if(this._stashUsed>0){var r=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(r,0)}this._stashBuffer=n,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,n=t.length-1,r=0,i=0,a=n;if(e<t[0])return t[0];for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:a=r-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive?e/8:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,n){if(!this._onDataArrival)throw new l.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var r=this._speedSampler.lastSecondKBps;if(0!==r){var i=this._normalizeSpeed(r);this._speedNormalized!==i&&(this._speedNormalized=i,this._adjustStashSize(i))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed);(u=this._dispatchChunks(a,this._stashByteStart))<a.byteLength?u>0&&(c=new Uint8Array(a,u),s.set(c,0),this._stashUsed=c.byteLength,this._stashByteStart+=u):(this._stashUsed=0,this._stashByteStart+=u),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(u=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-u)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,u),0),this._stashUsed+=o,this._stashByteStart=t+u);else if(0===this._stashUsed){var o;(u=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-u)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,u),0),this._stashUsed+=o,this._stashByteStart=t+u)}else{var s,u;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(u=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&u>0){var c=new Uint8Array(this._stashBuffer,u);s.set(c,0)}this._stashUsed-=u,this._stashByteStart+=u}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-n;if(n<t.byteLength){if(!e){if(n>0){var a=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,n);a.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=n}return 0}i.a.w(this.TAG,r+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,r}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(i.a.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=o.b.UNRECOVERABLE_EARLY_EOF),e){case o.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var n=this._currentRange.to+1;return void(n<this._totalLength&&(i.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(n,!1)))}e=o.b.UNRECOVERABLE_EARLY_EOF;case o.b.UNRECOVERABLE_EARLY_EOF:case o.b.CONNECTING_TIMEOUT:case o.b.HTTP_STATUS_CODE_INVALID:case o.b.EXCEPTION:}if(!this._onError)throw new l.d("IOException: "+t.msg);this._onError(e,t)},e}();t.a=_},function(e,t,n){"use strict";var r=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},"function"!=typeof self.Promise&&n(15).polyfill()},e}();r.install(),t.a=r},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+i(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[r].push(l[3]);for(c=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[r].push(l[1]),e[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),h=0;h<f.length;h++)for(var p=0;p<a[f[h]].length;p++)d=a[f[h]][p],isNaN(1*d)||(a[f[h]][p]=1*a[f[h]][p]);return a}function o(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},s=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};o(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var u=s[l],c=n[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,r[u]=r[u]||[],r[u].push(c);for(var d=a(e,e[u][c],u),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return r}(i,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},function(e,t,n){e.exports=n(19).default},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,o=void 0,s=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(o?o(m):b())},l="undefined"!=typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var p=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;i=0}var v,g,y,_,b=void 0;function w(e,t){var n=this,r=new this.constructor(k);void 0===r[E]&&D(r);var i=n._state;if(i){var a=arguments[i-1];s((function(){return N(i,r,a,n._result)}))}else L(n,r,e,t);return r}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(k);return x(t,e),t}d?b=function(){return t.nextTick(m)}:c?(g=0,y=new c(m),_=document.createTextNode(""),y.observe(_,{characterData:!0}),b=function(){_.data=g=++g%2}):f?((v=new MessageChannel).port1.onmessage=m,b=function(){return v.port2.postMessage(0)}):b=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:h()}catch(e){return h()}}():h();var E=Math.random().toString(36).substring(2);function k(){}function T(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===S?function(e,t){1===t._state?C(e,t._result):2===t._state?R(e,t._result):L(t,void 0,(function(t){return x(e,t)}),(function(t){return R(e,t)}))}(t,n):void 0===r?C(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?x(e,n):C(e,n))}),(function(t){r||(r=!0,R(e,t))}),e._label);!r&&i&&(r=!0,R(e,i))}),e)}(t,n,r):C(t,n)}function x(e,t){if(e===t)R(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)C(e,t);else{var n=void 0;try{n=t.then}catch(t){return void R(e,t)}T(e,t,n)}var r,i}function A(e){e._onerror&&e._onerror(e._result),P(e)}function C(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(P,e))}function R(e,t){void 0===e._state&&(e._state=2,e._result=t,s(A,e))}function L(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+1]=n,i[a+2]=r,0===a&&e._state&&s(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?N(n,r,i,a):i(a);e._subscribers.length=0}}function N(t,n,r,i){var a=e(r),o=void 0,s=void 0,l=!0;if(a){try{o=r(i)}catch(e){l=!1,s=e}if(n===o)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else o=i;void 0!==n._state||(a&&l?x(n,o):!1===l?R(n,s):1===t?C(n,o):2===t&&R(n,o))}var I=0;function D(e){e[E]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(k),this.promise[E]||D(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===S){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(e){o=!0,a=e}if(i===w&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===O){var s=new n(k);o?R(s,a):T(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?R(r,n):this._result[t]=n),0===this._remaining&&C(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),O=function(){function t(e){this[E]=I++,this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){x(e,t)}),(function(t){R(e,t)}))}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return O.prototype.then=w,O.all=function(e){return new M(this,e).promise},O.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},O.resolve=S,O.reject=function(e){var t=new this(k);return R(t,e),t},O._setScheduler=function(e){o=e},O._setAsap=function(e){s=e},O._asap=s,O.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=O},O.Promise=O,O},e.exports=r()}).call(this,n(16),n(17))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(12),a=n(10),o=n(1);t.default=function(e){var t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);function s(t,n){var r={msg:o.a.INIT_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function l(t,n){var r={msg:o.a.MEDIA_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function u(){var t={msg:o.a.LOADING_COMPLETE};e.postMessage(t)}function c(){var t={msg:o.a.RECOVERED_EARLY_EOF};e.postMessage(t)}function d(t){var n={msg:o.a.MEDIA_INFO,data:t};e.postMessage(n)}function f(t){var n={msg:o.a.METADATA_ARRIVED,data:t};e.postMessage(n)}function h(t){var n={msg:o.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(n)}function p(t){var n={msg:o.a.TIMED_ID3_METADATA_ARRIVED,data:t};e.postMessage(n)}function m(t){var n={msg:o.a.SCTE35_METADATA_ARRIVED,data:t};e.postMessage(n)}function v(t){var n={msg:o.a.PES_PRIVATE_DATA_DESCRIPTOR,data:t};e.postMessage(n)}function g(t){var n={msg:o.a.PES_PRIVATE_DATA_ARRIVED,data:t};e.postMessage(n)}function y(t){var n={msg:o.a.STATISTICS_INFO,data:t};e.postMessage(n)}function _(t,n){e.postMessage({msg:o.a.IO_ERROR,data:{type:t,info:n}})}function b(t,n){e.postMessage({msg:o.a.DEMUX_ERROR,data:{type:t,info:n}})}function w(t){e.postMessage({msg:o.a.RECOMMEND_SEEKPOINT,data:t})}i.a.install(),e.addEventListener("message",(function(i){switch(i.data.cmd){case"init":(t=new a.a(i.data.param[0],i.data.param[1])).on(o.a.IO_ERROR,_.bind(this)),t.on(o.a.DEMUX_ERROR,b.bind(this)),t.on(o.a.INIT_SEGMENT,s.bind(this)),t.on(o.a.MEDIA_SEGMENT,l.bind(this)),t.on(o.a.LOADING_COMPLETE,u.bind(this)),t.on(o.a.RECOVERED_EARLY_EOF,c.bind(this)),t.on(o.a.MEDIA_INFO,d.bind(this)),t.on(o.a.METADATA_ARRIVED,f.bind(this)),t.on(o.a.SCRIPTDATA_ARRIVED,h.bind(this)),t.on(o.a.TIMED_ID3_METADATA_ARRIVED,p.bind(this)),t.on(o.a.SCTE35_METADATA_ARRIVED,m.bind(this)),t.on(o.a.PES_PRIVATE_DATA_DESCRIPTOR,v.bind(this)),t.on(o.a.PES_PRIVATE_DATA_ARRIVED,g.bind(this)),t.on(o.a.STATISTICS_INFO,y.bind(this)),t.on(o.a.RECOMMEND_SEEKPOINT,w.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(i.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var S=i.data.param;r.a.applyConfig(S),!0===S.enableCallback?r.a.addLogListener(n):r.a.removeLogListener(n)}}))}},function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(11),a={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function o(){return Object.assign({},a)}var s=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportMSEH265Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"')},e.supportNetworkStreamIO=function(){var e=new i.a({},o()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new i.a({},o()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var n=e.videoElement.canPlayType(t);return"probably"===n||"maybe"==n},e.getFeatureList=function(){var t={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.msePlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLivePlayback=t.msePlayback&&t.networkStreamIO,t.mseH265Playback=e.supportMSEH265Playback(),t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeMP4H265Playback=e.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}(),l=n(2),u=n(6),c=n.n(u),d=n(0),f=n(4),h={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},p=n(13),m=n.n(p),v=n(9),g=n(10),y=n(1),_=n(8),b=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new c.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=m()(18),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},v.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:v.a.getConfig()})}catch(n){d.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new g.a(e,t)}else this._controller=new g.a(e,t);if(this._controller){var n=this._controller;n.on(y.a.IO_ERROR,this._onIOError.bind(this)),n.on(y.a.DEMUX_ERROR,this._onDemuxError.bind(this)),n.on(y.a.INIT_SEGMENT,this._onInitSegment.bind(this)),n.on(y.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),n.on(y.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),n.on(y.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),n.on(y.a.MEDIA_INFO,this._onMediaInfo.bind(this)),n.on(y.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),n.on(y.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),n.on(y.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),n.on(y.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),n.on(y.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),n.on(y.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),n.on(y.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),n.on(y.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),v.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(y.a.INIT_SEGMENT,e,t)}))},e.prototype._onMediaSegment=function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(y.a.MEDIA_SEGMENT,e,t)}))},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(y.a.LOADING_COMPLETE)}))},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(y.a.RECOVERED_EARLY_EOF)}))},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.MEDIA_INFO,e)}))},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.METADATA_ARRIVED,e)}))},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.SCRIPTDATA_ARRIVED,e)}))},e.prototype._onTimedID3MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.TIMED_ID3_METADATA_ARRIVED,e)}))},e.prototype._onSCTE35MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.SCTE35_METADATA_ARRIVED,e)}))},e.prototype._onPESPrivateDataDescriptor=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.PES_PRIVATE_DATA_DESCRIPTOR,e)}))},e.prototype._onPESPrivateDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.PES_PRIVATE_DATA_ARRIVED,e)}))},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.STATISTICS_INFO,e)}))},e.prototype._onIOError=function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(y.a.IO_ERROR,e,t)}))},e.prototype._onDemuxError=function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(y.a.DEMUX_ERROR,e,t)}))},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(y.a.RECOMMEND_SEEKPOINT,e)}))},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case y.a.INIT_SEGMENT:case y.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,n.type,n.data);break;case y.a.LOADING_COMPLETE:case y.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case y.a.MEDIA_INFO:Object.setPrototypeOf(n,_.a.prototype),this._emitter.emit(t.msg,n);break;case y.a.METADATA_ARRIVED:case y.a.SCRIPTDATA_ARRIVED:case y.a.TIMED_ID3_METADATA_ARRIVED:case y.a.SCTE35_METADATA_ARRIVED:case y.a.PES_PRIVATE_DATA_DESCRIPTOR:case y.a.PES_PRIVATE_DATA_ARRIVED:case y.a.STATISTICS_INFO:this._emitter.emit(t.msg,n);break;case y.a.IO_ERROR:case y.a.DEMUX_ERROR:this._emitter.emit(t.msg,n.type,n.info);break;case y.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,n);break;case"logcat_callback":d.a.emitter.emit("log",n.type,n.logcat)}},e}(),w={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"},S=n(7),E=n(3),k=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new c.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new S.a}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new E.a("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){d.a.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){d.a.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var n=e,r=""+n.container;n.codec&&n.codec.length>0&&(r+=";codecs="+n.codec);var i=!1;if(d.a.v(this.TAG,"Received Initialization Segment, mimeType: "+r),this._lastInitSegments[n.type]=n,r!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])d.a.v(this.TAG,"Notice: "+n.type+" mimeType changed, origin: "+this._mimeTypes[n.type]+", target: "+r);else{i=!0;try{var a=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(r);a.addEventListener("error",this.e.onSourceBufferError),a.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return d.a.e(this.TAG,e.message),void this._emitter.emit(w.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=r}t||this._pendingSegments[n.type].push(n),i||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),f.a.safari&&"audio/mpeg"===n.container&&n.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var n=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){d.a.e(this.TAG,e.message)}this._idrList.clear();var r=this._pendingSegments[t];if(r.splice(0,r.length),"closed"!==this._mediaSource.readyState){for(var i=0;i<n.buffered.length;i++){var a=n.buffered.start(i),o=n.buffered.end(i);this._pendingRemoveRanges[t].push({start:a,end:o})}if(n.updating||this._doRemoveRanges(),f.a.safari){var s=this._lastInitSegments[t];s&&(this._pendingSegments[t].push(s),n.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){var r=n.buffered;if(r.length>=1&&e-r.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){for(var r=n.buffered,i=!1,a=0;a<r.length;a++){var o=r.start(a),s=r.end(a);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){i=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(i=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}i&&!n.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,n=this._pendingMediaDuration;n>0&&(isNaN(t)||n>t)&&(d.a.v(this.TAG,"Update MediaSource duration from "+t+" to "+n),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];n.length&&!t.updating;){var r=n.shift();t.remove(r.start,r.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var n=e[t].shift();if(n.timestampOffset){var r=this._sourceBuffers[t].timestampOffset,i=n.timestampOffset/1e3;Math.abs(r-i)>.1&&(d.a.v(this.TAG,"Update MPEG audio timestampOffset from "+r+" to "+i),this._sourceBuffers[t].timestampOffset=i),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1,"video"===t&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(w.BUFFER_FULL),this._isBufferFull=!0):(d.a.e(this.TAG,e.message),this._emitter.emit(w.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(d.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(w.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){d.a.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){d.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(w.UPDATE_END)},e.prototype._onSourceBufferError=function(e){d.a.e(this.TAG,"SourceBuffer Error: "+e)},e}(),T=n(5),x={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},A={NETWORK_EXCEPTION:l.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:T.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:T.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:T.a.CODEC_UNSUPPORTED},C=function(){function e(e,t){this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new c.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var n=e.type.toLowerCase();if("mse"!==n&&"mpegts"!==n&&"m2ts"!==n&&"flv"!==n)throw new E.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var r=f.a.chrome&&(f.a.version.major<50||50===f.a.version.major&&f.a.version.build<2661);this._alwaysSeekKeyframe=!!(r||f.a.msedge||f.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var n=this;e===h.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){n._emitter.emit(h.MEDIA_INFO,n.mediaInfo)})):e===h.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){n._emitter.emit(h.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new k(this._config),this._msectl.on(w.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(w.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(w.SOURCE_OPEN,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(w.ERROR,(function(e){t._emitter.emit(h.ERROR,x.MEDIA_ERROR,A.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new E.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new E.a("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new b(this._mediaDataSource,this._config),this._transmuxer.on(y.a.INIT_SEGMENT,(function(t,n){e._msectl.appendInitSegment(n)})),this._transmuxer.on(y.a.MEDIA_SEGMENT,(function(t,n){if(e._msectl.appendMediaSegment(n),e._config.lazyLoad&&!e._config.isLive){var r=e._mediaElement.currentTime;n.info.endDts>=1e3*(r+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(d.a.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(y.a.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(h.LOADING_COMPLETE)})),this._transmuxer.on(y.a.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(h.RECOVERED_EARLY_EOF)})),this._transmuxer.on(y.a.IO_ERROR,(function(t,n){e._emitter.emit(h.ERROR,x.NETWORK_ERROR,t,n)})),this._transmuxer.on(y.a.DEMUX_ERROR,(function(t,n){e._emitter.emit(h.ERROR,x.MEDIA_ERROR,t,{code:-1,msg:n})})),this._transmuxer.on(y.a.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(h.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(y.a.METADATA_ARRIVED,(function(t){e._emitter.emit(h.METADATA_ARRIVED,t)})),this._transmuxer.on(y.a.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(h.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(y.a.TIMED_ID3_METADATA_ARRIVED,(function(t){e._emitter.emit(h.TIMED_ID3_METADATA_ARRIVED,t)})),this._transmuxer.on(y.a.SCTE35_METADATA_ARRIVED,(function(t){e._emitter.emit(h.SCTE35_METADATA_ARRIVED,t)})),this._transmuxer.on(y.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(t){e._emitter.emit(h.PES_PRIVATE_DATA_DESCRIPTOR,t)})),this._transmuxer.on(y.a.PES_PRIVATE_DATA_ARRIVED,(function(t){e._emitter.emit(h.PES_PRIVATE_DATA_ARRIVED,t)})),this._transmuxer.on(y.a.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(h.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(y.a.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();n=i.totalVideoFrames,r=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e},e.prototype._onmseUpdateEnd=function(){var e=this._mediaElement.buffered,t=this._mediaElement.currentTime;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&e.length>0&&!this._mediaElement.paused){var n=e.end(e.length-1);if(n>this._config.liveBufferLatencyMaxLatency&&n-t>this._config.liveBufferLatencyMaxLatency){var r=n-this._config.liveBufferLatencyMinRemain;this.currentTime=r}}if(this._config.lazyLoad&&!this._config.isLive){for(var i=0,a=0;a<e.length;a++){var o=e.start(a),s=e.end(a);if(o<=t&&t<s){i=s;break}}i>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(d.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){d.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,n=!1,r=0;r<t.length;r++){var i=t.start(r),a=t.end(r);if(e>=i&&e<a){e>=a-this._config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this._progressChecker),this._progressChecker=null,n&&(d.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(e>=r&&e<i)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),n=!1,r=0;if(e<1&&this._mediaElement.buffered.length>0){var i=this._mediaElement.buffered.start(0);(i<1&&e<i||f.a.safari)&&(n=!0,r=f.a.safari?.1:i)}if(n)this._requestSetTime=!0,this._mediaElement.currentTime=r;else if(t){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=a?a.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var n=t.buffered;n.length>0&&t.currentTime<n.start(0)&&(d.a.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+n.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=n.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,n=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&n.length>0){var r=n.start(0);if(r<1&&t<r||f.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=f.a.safari?.1:r)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var i=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=i&&(this._requestSetTime=!0,this._mediaElement.currentTime=i.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}(),R=function(){function e(e,t){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new c.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var n=e.type.toLowerCase();if("mse"===n||"mpegts"===n||"m2ts"===n||"flv"===n)throw new E.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new E.b("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var n=this;e===h.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(h.MEDIA_INFO,n.mediaInfo)})):e===h.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(h.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new E.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();n=i.totalVideoFrames,r=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(h.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(h.STATISTICS_INFO,this.statisticsInfo)},e}();r.a.install();var L={createPlayer:function(e,t){var n=e;if(null==n||"object"!=typeof n)throw new E.b("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new E.b("MediaDataSource must has type field to indicate video file type!");switch(n.type){case"mse":case"mpegts":case"m2ts":case"flv":return new C(n,t);default:return new R(n,t)}},isSupported:function(){return s.supportMSEH264Playback()},getFeatureList:function(){return s.getFeatureList()}};L.BaseLoader=l.a,L.LoaderStatus=l.c,L.LoaderErrors=l.b,L.Events=h,L.ErrorTypes=x,L.ErrorDetails=A,L.MSEPlayer=C,L.NativePlayer=R,L.LoggingControl=v.a,Object.defineProperty(L,"version",{enumerable:!0,get:function(){return"1.7.0"}}),t.default=L}])},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,m(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(){}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case f:return R((c=e._init)(e._payload),t,i,a,o)}}if(c)return o=o(e),c=""===a?"."+A(e,0):a,w(o)?(i="",null!=c&&(i=c.replace(x,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(l=o,u=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+c,o=k(l.type,u,void 0,0,0,l.props)),t.push(o)),1;c=0;var d,p=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)c+=R(a=e[m],t,i,s=p+A(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=R(a=a.value,t,i,s=p+A(a,m++),o);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function L(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(I,N)}catch(a){N(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},552:(e,t,n)=>{!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},a="undefined"!=typeof e&&e===this?this:"undefined"!=typeof t&&null!=t?t:this;function o(){o=function(){},a.Symbol||(a.Symbol=s)}var s=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();function l(){o();var e=a.Symbol.iterator;e||(e=a.Symbol.iterator=a.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&r(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return u(this)}}),l=function(){}}function u(e){var t=0;return c((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function c(e){return l(),(e={next:e})[a.Symbol.iterator]=function(){return this},e}function d(e){l();var t=e[Symbol.iterator];return t?t.call(e):u(e)}function f(e,t){if(t){for(var n=a,i=e.split("."),o=0;o<i.length-1;o++){var s=i[o];s in n||(n[s]={}),n=n[s]}(s=t(o=n[i=i[i.length-1]]))!=o&&null!=s&&r(n,i,{configurable:!0,writable:!0,value:s})}}function h(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(e())}f("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},n.prototype.f=function(){var e=this;this.c((function(){e.h()}))};var i=a.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.g(r)}}}this.a=null},n.prototype.g=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.o),reject:e(this.f)}},t.prototype.o=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.v(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(n){return void this.f(n)}"function"==typeof t?this.C(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.v=function(e){var t=this.c();e.Yb(t.resolve,t.reject)},t.prototype.C=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Yb(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Yb=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=d(e),a=i.next();!a.done;a=i.next())r(a.value).Yb(t,n)}))},t.all=function(e){var n=d(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Yb(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),f("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}}));var p,m="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var v;e:{var g={};try{g.__proto__={ne:!0},v=g.ne;break e}catch(vc){}v=!1}p=v?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var y=p;function _(){this.g=!1,this.c=null,this.s=void 0,this.j=1,this.b=this.f=0,this.i=this.a=null}function b(e){if(e.g)throw new TypeError("Generator is already running");e.g=!0}function w(e,t){e.a={xd:t,Gd:!0},e.j=e.f||e.b}function S(e,t,n){return e.j=n,{value:t}}function E(e){e.j=0}function k(e,t,n){e.f=t,void 0!=n&&(e.b=n)}function T(e,t){e.f=0,e.b=t||0}function x(e,t){e.j=t,e.f=0}function A(e){e.f=0;var t=e.a.xd;return e.a=null,t}function C(e){e.i=[e.a],e.f=0,e.b=0}function R(e,t){var n=e.i.splice(0)[0];(n=e.a=e.a||n)?n.Gd?e.j=e.f||e.b:void 0!=n.A&&e.b<n.A?(e.j=n.A,e.a=null):e.j=e.b:e.j=t}function L(e){this.a=new _,this.b=e}function P(e,t,n,r){try{var i=t.call(e.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.g=!1,i;var a=i.value}catch(o){return e.a.c=null,w(e.a,o),N(e)}return e.a.c=null,r.call(e.a,a),N(e)}function N(e){for(;e.a.j;)try{var t=e.b(e.a);if(t)return e.a.g=!1,{value:t.value,done:!1}}catch(n){e.a.s=void 0,w(e.a,n)}if(e.a.g=!1,e.a.a){if(t=e.a.a,e.a.a=null,t.Gd)throw t.xd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function I(e){this.next=function(t){return b(e.a),e.a.c?t=P(e,e.a.c.next,t,e.a.h):(e.a.h(t),t=N(e)),t},this.throw=function(t){return b(e.a),e.a.c?t=P(e,e.a.c.throw,t,e.a.h):(w(e.a,t),t=N(e)),t},this.return=function(t){return function(e,t){b(e.a);var n=e.a.c;return n?P(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),N(e))}(e,t)},l(),this[Symbol.iterator]=function(){return this}}function D(e,t){return I.prototype=e.prototype,new I(new L(t))}function M(e){if(!(e instanceof Array)){e=d(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Cd:i,ie:a}}return{Cd:-1,ie:void 0}}function B(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}_.prototype.h=function(e){this.s=e},_.prototype.return=function(e){this.a={return:e},this.j=this.b},_.prototype.A=function(e){this.j=e},f("WeakMap",(function(e){function t(e){if(this.a=(s+=Math.random()+1).toString(),e){o(),l(),e=d(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(e){O(e,a)||r(e,a,{value:{}})}function i(e){var t=Object[e];t&&(Object[e]=function(e){return n(e),t(e)})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var s=0;return t.prototype.set=function(e,t){if(n(e),!O(e,a))throw Error("WeakMap key fail: "+e);return e[a][this.a]=t,this},t.prototype.get=function(e){return O(e,a)?e[a][this.a]:void 0},t.prototype.has=function(e){return O(e,a)&&O(e[a],this.a)},t.prototype.delete=function(e){return!(!O(e,a)||!O(e[a],this.a))&&delete e[a][this.a]},t})),f("Map",(function(e){function t(){var e={};return e.Ca=e.next=e.head=e}function n(e,t){var n=e.a;return c((function(){if(n){for(;n.head!=e.a;)n=n.Ca;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++s,a.set(t,n)):n="p_"+t;var r=e.b[n];if(r&&O(e.b,n))for(var i=0;i<r.length;i++){var o=r[i];if(t!==t&&o.key!==o.key||t===o.key)return{id:n,list:r,index:i,X:o}}return{id:n,list:r,index:-1,X:void 0}}function i(e){if(this.b={},this.a=t(),this.size=0,e){e=d(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(a){return!1}}())return e;o(),l();var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=t:(n.X={next:this.a,Ca:this.a.Ca,head:this.a,key:e,value:t},n.list.push(n.X),this.a.Ca.next=n.X,this.a.Ca=n.X,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).X||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.X.Ca.next=e.X.next,e.X.next.Ca=e.X.Ca,e.X.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ca=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).X},i.prototype.get=function(e){return(e=r(this,e).X)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i})),f("Set",(function(e){function t(e){if(this.a=new Map,e){e=d(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(a){return!1}}()?e:(o(),l(),t.prototype.add=function(e){return this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(r){return e.call(t,r,r,n)}))},t)})),f("Array.prototype.findIndex",(function(e){return e||function(e,t){return j(this,e,t).Cd}})),f("Array.prototype.keys",(function(e){return e||function(){return function(e,t){l(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}})),f("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),f("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=t||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===e||Object.is(a,e))return!0}return!1}})),f("String.prototype.includes",(function(e){return e||function(e,t){return-1!==B(this,e,"includes").indexOf(e,t||0)}})),f("Array.from",(function(e){return e||function(e,t,n){l(),t=null!=t?t:function(e){return e};var r=[],i=e[Symbol.iterator];if("function"==typeof i)for(e=i.call(e);!(i=e.next()).done;)r.push(t.call(n,i.value));else{i=e.length;for(var a=0;a<i;a++)r.push(t.call(n,e[a]))}return r}})),f("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=B(this,e,"startsWith"),r=n.length,i=e.length,a=Math.max(0,Math.min(0|t,n.length)),o=0;o<i&&a<r;)if(n[a++]!=e[o++])return!1;return o>=i}})),f("Array.prototype.find",(function(e){return e||function(e,t){return j(this,e,t).ie}}));var U=this;function z(e,t){var n,r=e.split("."),i=U;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]?i[n]:i[n]={}:i[n]=t}function F(e,t){function n(){}n.prototype=t.prototype,e.ag=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.og=function(e,n,r){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function V(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function G(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function H(e){return e.a/(1-Math.pow(e.c,e.b))}function q(){this.b=new V(2),this.c=new V(5),this.a=0}function K(){}function W(){}function $(){}U.a=!0,q.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(H(this.b),H(this.c))},e.console&&e.console.log.bind&&(W=console.warn.bind(console),K=console.error.bind(console));var X=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Y(e){var t;e instanceof Y?(Q(this,e.va),this.$a=e.$a,this.ra=e.ra,J(this,e.xb),this.ia=e.ia,Z(this,e.a.clone()),this.Qa=e.Qa):e&&(t=String(e).match(X))?(Q(this,t[1]||"",!0),this.$a=ee(t[2]||""),this.ra=ee(t[3]||"",!0),J(this,t[4]),this.ia=ee(t[5]||"",!0),Z(this,t[6]||"",!0),this.Qa=ee(t[7]||"")):this.a=new le(null)}function Q(e,t,n){e.va=n?ee(t,!0):t,e.va&&(e.va=e.va.replace(/:$/,""))}function J(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.xb=t}else e.xb=null}function Z(e,t,n){t instanceof le?e.a=t:(n||(t=te(t,oe)),e.a=new le(t))}function ee(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function te(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ne),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ne(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=Y.prototype).va="",n.$a="",n.ra="",n.xb=null,n.ia="",n.Qa="",n.toString=function(){var e=[],t=this.va;if(t&&e.push(te(t,re,!0),":"),t=this.ra){e.push("//");var n=this.$a;n&&e.push(te(n,re,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.xb)&&e.push(":",String(t))}return(t=this.ia)&&(this.ra&&"/"!=t.charAt(0)&&e.push("/"),e.push(te(t,"/"==t.charAt(0)?ae:ie,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Qa)&&e.push("#",te(t,se)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.va&&(t=new Y);var n=!!e.va;n?Q(t,e.va):n=!!e.$a,n?t.$a=e.$a:n=!!e.ra,n?t.ra=e.ra:n=null!=e.xb;var r=e.ia;if(n)J(t,e.xb);else if(n=!!e.ia){if("/"!=r.charAt(0))if(this.ra&&!this.ia)r="/"+r;else{var i=t.ia.lastIndexOf("/");-1!=i&&(r=t.ia.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ia=r:n=""!==e.a.toString(),n?Z(t,e.a.clone()):n=!!e.Qa,n&&(t.Qa=e.Qa),t},n.clone=function(){return new Y(this)};var re=/[#\/\?@]/g,ie=/[#\?:]/g,ae=/[#\?]/g,oe=/[#\?@]/g,se=/#/g;function le(e){this.a=e||null}function ue(e){this.b=e,this.a=null}function ce(e){this.b=e,this.a=null}function de(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function fe(e){return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:if(e.a>=e.i){if(!e.c)return t.return(Promise.reject());e.a=1,e.b=e.f}return n=e.a,e.a++,0==n?t.return():(r=e.b*(1+(2*Math.random()-1)*e.h),S(t,new Promise((function(e){new ce(e).O(r/1e3)})),2));case 2:e.b*=e.g,E(t)}}))}))}function he(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function pe(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function me(e,t){this.promise=e,this.Jd=t,this.a=!1}function ve(e){return new me(Promise.reject(e),(function(){return Promise.resolve()}))}function ge(){var e=Promise.reject(new he(2,7,7001));return e.catch((function(){})),new me(e,(function(){return Promise.resolve()}))}function ye(e){return new me(Promise.resolve(e),(function(){return Promise.resolve()}))}function _e(e){return new me(e,(function(){return e.catch((function(){}))}))}function be(e){return new me(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function we(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}function Se(t,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function Ee(){this.a={}}function ke(){this.Bc=new Ee,this.Vb=this}function Te(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function xe(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function Ae(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Ce(e,t,n){if(n||(n=xe),e.length!=t.length)return!1;t=t.slice();for(var r={},i=(e=d(e)).next();!i.done;r={item:r.item},i=e.next()){if(r.item=i.value,i=t.findIndex(function(e){return function(t){return n(e.item,t)}}(r)),-1==i)return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function Re(){this.a=[]}function Le(e,t){e.a.push(t.finally((function(){Ae(e.a,t)})))}function Pe(e){ke.call(this),this.f=!1,this.g=new Re,this.a=new Set,this.b=new Set,this.c=e||null}(n=le.prototype).ga=null,n.$b=null,n.add=function(e,t){if(!this.ga&&(this.ga={},this.$b=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ga.hasOwnProperty(e)&&this.ga[e])||(this.ga[e]=n=[]),n.push(t),this.$b++,this},n.toString=function(){if(this.a)return this.a;if(!this.ga)return"";var e,t=[];for(e in this.ga)for(var n=encodeURIComponent(e),r=this.ga[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.a=t.join("&")},n.clone=function(){var e=new le;if(e.a=this.a,this.ga){var t,n={};for(t in this.ga)n[t]=this.ga[t].concat();e.ga=n,e.$b=this.$b}return e},ue.prototype.O=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},ue.prototype.stop=function(){this.a&&(this.a(),this.a=null)},z("shaka.util.Timer",ce),ce.prototype.sc=function(){return this.stop(),this.b(),this},ce.prototype.tickNow=ce.prototype.sc,ce.prototype.O=function(e){var t=this;return this.stop(),this.a=new ue((function(){t.b()})).O(e),this},ce.prototype.tickAfter=ce.prototype.O,ce.prototype.La=function(e){var t=this;return this.stop(),this.a=new ue((function(){t.a.O(e),t.b()})).O(e),this},ce.prototype.tickEvery=ce.prototype.La,ce.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},ce.prototype.stop=ce.prototype.stop,z("shaka.util.Error",he),he.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},he.Severity={RECOVERABLE:1,CRITICAL:2},he.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},he.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,CAST_RECEIVER_APP_ID_MISSING:8007,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},pe.prototype.resolve=function(){},pe.prototype.reject=function(){},z("shaka.util.AbortableOperation",me),me.failed=ve,me.aborted=ge,me.completed=ye,me.notAbortable=_e,me.prototype.abort=function(){return this.a=!0,this.Jd()},me.prototype.abort=me.prototype.abort,me.all=be,me.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},me.prototype.finally=me.prototype.finally,me.prototype.U=function(e,t){function n(){return i.reject(new he(2,7,7001)),r.abort()}var r=this,i=new pe;return this.promise.then((function(t){r.a?i.reject(new he(2,7,7001)):e?n=we(e,t,i):i.resolve(t)}),(function(e){t?n=we(t,e,i):i.reject(e)})),new me(i,(function(){return n()}))},me.prototype.chain=me.prototype.U,Se.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Se.prototype.stopImmediatePropagation=function(){this.a=!0},Se.prototype.stopPropagation=function(){},(n=Ee.prototype).push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},n.get=function(e){return(e=this.a[e])?e.slice():null},n.getAll=function(){var e,t=[];for(e in this.a)t.push.apply(t,this.a[e]);return t},n.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},n.forEach=function(e){for(var t in this.a)e(t,this.a[t])},ke.prototype.addEventListener=function(e,t){this.Bc.push(e,t)},ke.prototype.removeEventListener=function(e,t){this.Bc.remove(e,t)},ke.prototype.dispatchEvent=function(e){for(var t=this.Bc.get(e.type)||[],n=0;n<t.length;++n){e.target=this.Vb,e.currentTarget=this.Vb;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(i){}if(e.a)break}return e.defaultPrevented},Re.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise.catch((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)},F(Pe,ke),z("shaka.net.NetworkingEngine",Pe);var Ne={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4};Pe.RequestType=Ne,Pe.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Ie={};function De(e,t,n){n=n||3;var r=Ie[e];(!r||n>=r.priority)&&(Ie[e]={priority:n,zf:t})}function Me(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null}}function Oe(e,t,n,r,i,a,o){var s=new Y(n.uris[i]),l=s.va,u=!1;l||(Q(s,l=(l=location.protocol).slice(0,-1)),n.uris[i]=s.toString());var c,d=(l=Ie[l])?l.zf:null;return d?_e(fe(r)).U((function(){return e.f?ge():(c=Date.now(),d(n.uris[i],n,t,(function(n,r,i){e.c&&1==t&&(e.c(n,r),u=!0,o.a=i)})))})).U((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-c),{response:e,Ze:u}}),(function(s){if(s&&7001==s.code)throw s;if(e.f)return ge();if(s&&1==s.severity)return e.dispatchEvent(new Se("retry",{error:s instanceof he?s:null})),i=(i+1)%n.uris.length,Oe(e,t,n,r,i,s,o);throw s||a})):ve(new he(2,1,1e3,s))}function je(){this.a=0}function Be(e,t,n){me.call(this,e,t),this.b=n}Pe.registerScheme=De,Pe.unregisterScheme=function(e){delete Ie[e]},Pe.prototype.Bf=function(e){this.a.add(e)},Pe.prototype.registerRequestFilter=Pe.prototype.Bf,Pe.prototype.cg=function(e){this.a.delete(e)},Pe.prototype.unregisterRequestFilter=Pe.prototype.cg,Pe.prototype.we=function(){this.a.clear()},Pe.prototype.clearAllRequestFilters=Pe.prototype.we,Pe.prototype.Cf=function(e){this.b.add(e)},Pe.prototype.registerResponseFilter=Pe.prototype.Cf,Pe.prototype.dg=function(e){this.b.delete(e)},Pe.prototype.unregisterResponseFilter=Pe.prototype.dg,Pe.prototype.xe=function(){this.b.clear()},Pe.prototype.clearAllResponseFilters=Pe.prototype.xe,Pe.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Pe.prototype.destroy=Pe.prototype.destroy,Pe.prototype.request=function(e,t){var n=this,r=new je;if(this.f){var i=Promise.reject(new he(2,7,7001));return i.catch((function(){})),new Be(i,(function(){return Promise.resolve()}),r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Te(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=Te(t.uris),i=function(e,t,n){for(var r=ye(void 0),i={},a=(e=d(e.a)).next();!a.done;i={ed:i.ed},a=e.next())i.ed=a.value,r=r.U(function(e){return function(){return e.ed(t,n)}}(i));return r.U(void 0,(function(e){if(e&&7001==e.code)throw e;throw new he(2,1,1006,e)}))}(this,e,t);var a=i.U((function(){return Oe(n,e,t,new de(t.retryParameters,!1),0,null,r)})),o=a.U((function(t){return function(e,t,n){for(var r=ye(void 0),i=(e=d(e.b)).next();!i.done;i=e.next())r=r.U(i.value.bind(null,t,n.response));return r.U((function(){return n}),(function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof he&&(t=e.severity),new he(t,1,1007,e)}))}(n,e,t)})),s=Date.now(),l=0;i.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;return a.promise.then((function(){u=Date.now()}),(function(){})),i=o.U((function(t){var r=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=r,t.Ze||!n.c||i.fromCache||1!=e||n.c(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e})),i=new Be(i.promise,i.Jd,r),Le(this.g,i),i},Pe.prototype.request=Pe.prototype.request,Pe.NumBytesRemainingClass=je;var Ue=Be;if(Ue.prototype=m(me.prototype),Ue.prototype.constructor=Ue,y)y(Ue,me);else for(var ze in me)if("prototype"!=ze)if(Object.defineProperties){var Fe=Object.getOwnPropertyDescriptor(me,ze);Fe&&Object.defineProperty(Ue,ze,Fe)}else Ue[ze]=me[ze];function Ve(){}function Ge(){this.a=new Ee}function He(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=qe;if(void 0==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}qe=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.a)}Ue.ag=me.prototype,Pe.PendingRequest=Be,Be.all=be,Be.notAbortable=_e,Be.completed=ye,Be.aborted=ge,Be.failed=ve,z("shaka.util.IReleasable",Ve),Ve.prototype.release=function(){},z("shaka.util.EventManager",Ge),Ge.prototype.release=function(){this.Ya(),this.a=null},Ge.prototype.release=Ge.prototype.release,Ge.prototype.w=function(e,t,n,r){this.a&&(e=new He(e,t,n,r),this.a.push(t,e))},Ge.prototype.listen=Ge.prototype.w,Ge.prototype.ha=function(e,t,n,r){var i=this;this.w(e,t,(function r(a){i.da(e,t,r),n(a)}),r)},Ge.prototype.listenOnce=Ge.prototype.ha,Ge.prototype.da=function(e,t,n){if(this.a)for(var r=this.a.get(t)||[],i=(r=d(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.da(),this.a.remove(t,i))},Ge.prototype.unlisten=Ge.prototype.da,Ge.prototype.Ya=function(){if(this.a){for(var e=this.a.getAll(),t=(e=d(e)).next();!t.done;t=e.next())t.value.da();this.a.a={}}},Ge.prototype.removeAll=Ge.prototype.Ya,He.prototype.da=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},He.prototype.unlisten=He.prototype.da;var qe=void 0;function Ke(e,t){for(var n=d(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0}function We(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}function $e(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Xe(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function Ye(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}var Qe=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Je(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Ze(e){return""!=(nt||(tt||(tt=new ce((function(){nt=null}))),(nt=document.querySelector("video")||document.querySelector("audio"))||(nt=document.createElement("video")),tt.O(1),nt)).canPlayType(e)}function et(e){return(navigator.userAgent||"").includes(e)}var tt=null,nt=null;function rt(e){if(!e)return"";239==(e=new Uint8Array(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=lt(e),e=escape(e);try{return decodeURIComponent(e)}catch(t){throw new he(2,2,2004)}}function it(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new he(2,2,2004);if(e instanceof ArrayBuffer)var r=e;else(n=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return lt(n)}function at(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return rt(t);if(254==t[0]&&255==t[1])return it(t.subarray(2),!1);if(255==t[0]&&254==t[1])return it(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return it(e,!1);if(0==t[1]&&0==t[3])return it(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return rt(e);throw new he(2,2,2003)}function ot(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function st(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer}function lt(e){if(!ut)for(var t=function(e){try{return M(new Uint8Array(e)),!0}catch(t){return!1}},n={size:65536};0<n.size;(n={size:n.size}).size/=2)if(t(n.size)){ut=function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.size)n+=String.fromCharCode.apply(String,M(t.subarray(r,r+e.size)));return n}}(n);break}return ut(e)}z("shaka.util.StringUtils.fromUTF8",rt),z("shaka.util.StringUtils.fromUTF16",it),z("shaka.util.StringUtils.fromBytesAutoDetect",at),z("shaka.util.StringUtils.toUTF8",ot),z("shaka.util.StringUtils.toUTF16",st);var ut=null;function ct(t,n){var r=lt(t);return n=void 0==n||n,r=e.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}function dt(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function ft(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n}function ht(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function pt(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function mt(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(var r=n=0;r<t.length;++r)n+=t[r].length;n=new Uint8Array(n);for(var i=r=0;i<t.length;++i)n.set(t[i],r),r+=t[i].length;return n}function vt(e){var t=this;this.C=e,this.v=new Set,this.m=this.h=null,this.P=!1,this.a=null,this.i=new Ge,this.b=new Map,this.o=[],this.l=new pe,this.f=null,this.g=function(n){t.l.reject(n),e.onError(n)},this.na=new Map,this.T=new Map,this.M=new ce((function(){return function(e){var t=e.na,n=e.T;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.g(new he(2,6,6014)),e.C.kc($e(n))}(t)})),this.c=!1,this.$=new pe,this.D=!1,this.G=[],this.ma=!1,this.W=new ce((function(){!function(e){e.b.forEach((function(t,n){var r=t.Xc,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Xc=i)}))}(t)})).La(1),this.l.catch((function(){}))}function gt(e,t,n){return e.o=n,e.D=0<n.length,yt(e,t)}function yt(t,n){var r=n.some((function(e){return 0<e.drmInfos.length}));if(!r){var i=We(t.f.servers);!function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=d(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,i)}var a=function(t){if(t=We(t.f.clearKeys),0==t.size)return null;var n=[],r=[];t.forEach((function(e,t){var i=ft(t),a=ft(e);i={kty:"oct",kid:ct(i,!1),k:ct(a,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(ot(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(t);if(a){var o=d(n);for(i=o.next();!i.done;i=o.next())i.value.drmInfos=[a]}for(i=(a=d(n)).next();!i.done;i=a.next())for(o=(i=d(i.value.drmInfos)).next();!o.done;o=i.next())Nt(o.value,We(t.f.servers),We(t.f.advanced||{}));return i=function(e,t){for(var n=new Set,r=d(t),i=r.next();!i.done;i=r.next()){var a=d(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=d(n),i=r.next();!i.done;i=r.next())Nt(i.value,We(e.f.servers),We(e.f.advanced||{}));a=e.D?"required":"optional";var o=e.D?["persistent-license"]:["temporary"];for(r=new Map,n=d(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=d(t),i=n.next();!i.done;i=n.next()){a=(i=i.value).audio,o=i.video;var s=a?Xe(a.mimeType,a.codecs):"",l=o?Xe(o.mimeType,o.codecs):"",u=d(i.drmInfos);for(i=u.next();!i.done;i=u.next()){i=i.value;var c=r.get(i.keySystem);c.drmInfos.push(i),i.distinctiveIdentifierRequired&&(c.distinctiveIdentifier="required"),i.persistentStateRequired&&(c.persistentState="required"),a&&c.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),o&&c.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:l})}}return r}(t,n),i.size?(i=kt(t,i),r?i:i.catch((function(){}))):(t.P=!0,Promise.resolve())}function _t(e){return h((function t(){var n;return D(t,(function(t){switch(t.j){case 1:if(!(e.h&&e.a&&e.a.serverCertificate&&e.a.serverCertificate.length)){t.A(0);break}return k(t,3),S(t,e.h.setServerCertificate(e.a.serverCertificate),5);case 5:x(t,0);break;case 3:return n=A(t),t.return(Promise.reject(new he(2,6,6004,n.message)))}}))}))}function bt(e){var t=e.a?e.a.initData:[];return t.forEach((function(t){return xt(e,t.initDataType,t.initData)})),e.o.forEach((function(t){return Tt(e,t)})),t.length||e.o.length||e.l.resolve(),e.l}function wt(e,t,n){for(var r=e.b.values(),i=(r=d(r)).next();!i.done;i=r.next())if(pt(n,i.value.initData))return;xt(e,t,n)}function St(e,t){return!!et("Edge/")||e.v.has(t)}function Et(e){return e=function(e,t){for(var n=[],r=d(e),i=r.next();!i.done;i=r.next())n.push(t(i.value));return n}(e=e.b.keys(),(function(e){return e.sessionId})),Array.from(e)}function kt(e,t){if(1==t.size&&t.has(""))return Promise.reject(new he(2,6,6e3));for(var n=d(t.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new pe;return[!0,!1].forEach(function(e){var n=this;t.forEach((function(t,r){t.drmInfos.some((function(e){return!!e.licenseServerUri}))==e&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[t])}.bind(n)))}))}.bind(e)),i=(i=i.catch((function(){return Promise.reject(new he(2,6,6001))}))).then(function(e){if(this.c)return Promise.reject();this.v.clear();var n=e.getConfiguration(),r=n.videoCapabilities||[],i=d(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.v.add(n.value.contentType);for(n=(r=d(r)).next();!n.done;n=r.next())this.v.add(n.value.contentType);r=e.keySystem,i=[];var a=[],o=[],s=[];return function(e,t,n,r,i){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return pt(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&e.initData.forEach((function(e){r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&pt(t.initData,e.initData)}))||r.push(e)})),e.keyIds)for(var a=0;a<e.keyIds.length;++a)i.includes(e.keyIds[a])||i.push(e.keyIds[a])}))}((n=t.get(e.keySystem)).drmInfos,i,a,o,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s},this.a.licenseServerUri?e.createMediaKeys():Promise.reject(new he(2,6,6012,this.a.keySystem))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.h=e,this.P=!0}.bind(e)).catch(function(e){if(!this.c)return this.a=null,this.v.clear(),e instanceof he?Promise.reject(e):Promise.reject(new he(2,6,6002,e.message))}.bind(e)),n.reject(),i}function Tt(e,t){try{var n=e.h.createSession("persistent-license")}catch(a){var r=new he(2,6,6005,a.message);return e.g(r),Promise.reject(r)}e.i.w(n,"message",e.Rd.bind(e)),e.i.w(n,"keystatuseschange",e.Pd.bind(e));var i={initData:null,loaded:!1,Xc:1/0,xa:null};return e.b.set(n,i),n.load(t).then(function(e){return this.c?Promise.reject():e?(i.loaded=!0,Pt(this)&&this.l.resolve(),n):(this.b.delete(n),void this.g(new he(2,6,6013)))}.bind(e),function(e){this.c||(this.b.delete(n),this.g(new he(2,6,6005,e.message)))}.bind(e))}function xt(e,t,n){try{var r=e.D?e.h.createSession("persistent-license"):e.h.createSession()}catch(i){return void e.g(new he(2,6,6005,i.message))}e.i.w(r,"message",e.Rd.bind(e)),e.i.w(r,"keystatuseschange",e.Pd.bind(e)),e.b.set(r,{initData:n,loaded:!1,Xc:1/0,xa:null}),r.generateRequest(t,n.buffer).catch((function(t){if(!e.c){if(e.b.delete(r),t.errorCode&&t.errorCode.systemCode){var n=t.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}e.g(new he(2,6,6006,t.message,t,n))}}))}function At(e,t){var n=t.target,r=e.b.get(n),i=e.a.licenseServerUri,a=e.f.advanced[e.a.keySystem];"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(i=Me([i],e.f.retryParameters)).body=t.message,i.method="POST",i.licenseRequestType=t.messageType,"com.microsoft.playready"!=e.a.keySystem&&"com.chromecast.playready"!=e.a.keySystem||function(e){var t=it(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=(t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=dt(t.querySelector("Challenge").textContent).buffer}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(i),e.a.keySystem.startsWith("com.apple.fps")&&function(e){var t=new Uint8Array(e.body);t="spc="+ct(t),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=ot(t)}(i),e.C.rb.request(2,i).promise.then(function(e){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&function(e){try{var t=rt(e.data)}catch(n){return}t=t.trim(),"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(n){}e.data=dt(t).buffer}(e),n.update(e.data).then(function(){var e=this;this.C.onEvent(new Se("drmsessionupdate")),r&&(r.xa&&r.xa.resolve(),new ce((function(){r.loaded=!0,Pt(e)&&e.l.resolve()})).O(Dt))}.bind(this)))}.bind(e),function(e){this.c||(e=new he(2,6,6007,e),this.g(e),r&&r.xa&&r.xa.reject(e))}.bind(e)).catch(function(e){this.c||(e=new he(2,6,6008,e.message),this.g(e),r&&r.xa&&r.xa.reject(e))}.bind(e))}function Ct(){var e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],t=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],n=new Map;return e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(e){return function(e){return h((function r(){var i,a,o;return D(r,(function(r){switch(r.j){case 1:return k(r,2),S(r,navigator.requestMediaKeySystemAccess(e,t),4);case 4:return i=r.s,o=!!(a=i.getConfiguration().sessionTypes)&&a.includes("persistent-license"),et("Tizen 3")&&(o=!1),n.set(e,{persistentState:o}),S(r,i.createMediaKeys(),5);case 5:x(r,0);break;case 2:A(r),n.set(e,null),E(r)}}))}))}(e)})),Promise.all(e).then((function(){return $e(n)}))}function Rt(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!St(e,Xe(n.mimeType,n.codecs))||r&&r.encrypted&&!St(e,Xe(r.mimeType,r.codecs)))return!1;var i=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))}function Lt(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var a=e[r];i=t[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function Pt(e){return Ke(e=e.b.values(),(function(e){return e.loaded}))}function Nt(t,n,r){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=[]),(r=r.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}z("shaka.util.Uint8ArrayUtils.toBase64",ct),z("shaka.util.Uint8ArrayUtils.fromBase64",dt),z("shaka.util.Uint8ArrayUtils.fromHex",ft),z("shaka.util.Uint8ArrayUtils.toHex",ht),z("shaka.util.Uint8ArrayUtils.equal",pt),z("shaka.util.Uint8ArrayUtils.concat",mt),(n=vt.prototype).destroy=function(){var e=this;return h((function t(){return D(t,(function(t){switch(t.j){case 1:return e.c?S(t,e.$,0):(e.c=!0,S(t,function(e){return h((function t(){var n;return D(t,(function(t){switch(t.j){case 1:return e.i.release(),e.i=null,e.l.reject(),e.W.stop(),e.W=null,e.M.stop(),e.M=null,n=Array.from(e.b.keys()),e.b.clear(),S(t,Promise.all(n.map((function(e){return Promise.resolve().then((function(){return h((function t(){return D(t,(function(t){switch(t.j){case 1:return k(t,2),S(t,function(e){return h((function t(){var n;return D(t,(function(t){switch(t.j){case 1:return n=new Promise((function(e){new ce(e).O(It)})),S(t,Promise.race([e.close().then((function(){return!0})),n.then((function(){return!1}))]),2);case 2:E(t)}}))}))}(e),4);case 4:x(t,0);break;case 2:A(t),E(t)}}))}))}))}))),2);case 2:if(!e.m){t.A(3);break}return k(t,4),S(t,e.m.setMediaKeys(null),6);case 6:x(t,5);break;case 4:A(t);case 5:e.m=null;case 3:e.a=null,e.v.clear(),e.h=null,e.o=[],e.f=null,e.g=null,e.C=null,E(t)}}))}))}(e),4));case 4:e.$.resolve(),t.A(0)}}))}))},n.configure=function(e){this.f=e},n.Cb=function(e){var t=this;if(!this.h)return this.i.ha(e,"encrypted",(function(){t.g(new he(2,6,6010))})),Promise.resolve();this.m=e,this.i.ha(this.m,"play",(function(){for(var e=0;e<t.G.length;e++)At(t,t.G[e]);t.ma=!0,t.G=[]})),e=(e=this.m.setMediaKeys(this.h)).catch((function(e){return Promise.reject(new he(2,6,6003,e.message))}));var n=_t(this);return Promise.all([e,n]).then((function(){if(t.c)return Promise.reject();bt(t),t.a.initData.length||t.o.length||t.i.w(t.m,"encrypted",(function(e){return wt(t,e.initDataType,new Uint8Array(e.initData))}))})).catch((function(e){if(!t.c)return Promise.reject(e)}))},n.keySystem=function(){return this.a?this.a.keySystem:""},n.dc=function(){for(var e=1/0,t=this.b.keys(),n=(t=d(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},n.Rd=function(e){this.f.delayLicenseRequestUntilPlayed&&this.m.paused&&!this.ma?this.G.push(e):At(this,e)},n.Pd=function(e){e=e.target;var t=this.b.get(e),n=!1;e.keyStatuses.forEach(function(e,r){if("string"==typeof r){var i=r;r=e,e=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!et("Tizen")){var a=(i=new DataView(r)).getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(t.loaded=!0),"expired"==e&&(n=!0),i=ht(new Uint8Array(r)),this.na.set(i,e)}.bind(this));var r=e.expiration-Date.now();(0>r||n&&1e3>r)&&t&&!t.xa&&(this.b.delete(e),e.close().catch((function(){}))),Pt(this)&&(this.l.resolve(),this.M.O(Mt))};var It=1,Dt=5,Mt=.5;function Ot(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function jt(){}function Bt(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Ut(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function zt(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=e.length-1;0<=r&&e.end(r)>t;--r)n+=e.end(r)-Math.max(e.start(r),t);return n}function Ft(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}Ot.prototype.init=function(e){var t=muxjs.mp4.probe;e=new Uint8Array(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Ot.prototype.b=function(e,t){var n=new Uint8Array(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},Ot.prototype.c=function(){this.a.resetCaptionStream()},jt.prototype.init=function(){},jt.prototype.b=function(){},jt.prototype.c=function(){};var Vt={ye:function(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())},yc:function(e,t){return e.concat(t)},ic:function(){},Ga:function(e){return null!=e}};function Gt(e,t){if(0==t.length)return e;var n=t.map((function(e){return new Y(e)}));return e.map((function(e){return new Y(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(Vt.yc,[]).map((function(e){return e.toString()}))}function Ht(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}var qt={Na:"video",Ab:"audio",qa:"text",kg:"application"},Kt=1/15;function Wt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function $t(t,n){return!(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Xt(n,t)):MediaSource.isTypeSupported(Xt("audio",t))||MediaSource.isTypeSupported(Xt("video",t)))}function Xt(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function Yt(e,t,n){this.startTime=e,this.direction=nn,this.endTime=t,this.payload=n,this.region=new dn,this.position=null,this.positionAlign=Qt,this.size=100,this.textAlign=Jt,this.writingMode=rn,this.lineInterpretation=an,this.line=null,this.lineHeight="",this.lineAlign=on,this.displayAlign=en,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=ln,this.fontStyle=un,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}Wt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Wt.prototype.i=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.g.push(t)},Wt.prototype.h=function(){var e={data:mt.apply(null,this.g),captions:this.c};this.b.resolve(e),this.f=!1},z("shaka.text.Cue",Yt);var Qt="auto";Yt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Qt};var Jt="center",Zt={LEFT:"left",RIGHT:"right",CENTER:Jt,START:"start",END:"end"};Yt.textAlign=Zt;var en="after",tn={BEFORE:"before",CENTER:"center",AFTER:en};Yt.displayAlign=tn;var nn="ltr";Yt.direction={HORIZONTAL_LEFT_TO_RIGHT:nn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var rn="horizontal-tb";Yt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:rn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var an=0;Yt.lineInterpretation={LINE_NUMBER:an,PERCENTAGE:1};var on="start",sn={CENTER:"center",START:on,END:"end"};Yt.lineAlign=sn;var ln=400;Yt.fontWeight={NORMAL:ln,BOLD:700};var un="normal",cn={NORMAL:un,ITALIC:"italic",OBLIQUE:"oblique"};function dn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=fn,this.scroll=hn}Yt.fontStyle=cn,Yt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},z("shaka.text.CueRegion",dn);var fn=1;dn.units={PX:0,PERCENTAGE:fn,LINES:2};var hn="";function pn(e){this.g=null,this.c=e,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}dn.scrollMode={NONE:hn,UP:"up"};var mn={};function vn(t){return!!(mn[t]||e.muxjs&&"application/cea-608"==t)}function gn(e,t){"application/cea-608"!=t&&(e.g=new mn[t])}function yn(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=d(t)).next();!s.done;s=t.next()){var l=s.value;s=l.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),l.startTime+=i,l.endTime+=i,l.startTime>=e.f&&l.startTime<e.h&&(l=new Yt(l.startTime,l.endTime,l.text),o.get(s).get(a).push(l),s==e.l&&e.c.append([l]))}for(a=(i=d(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.i.has(a)||e.i.set(a,new Map),s=(t=d(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,l=o.get(a).get(s),e.i.get(a).set(s,l);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.h))}function _n(e,t,n){this.f=e,this.g=n,this.b={},this.a=null,this.c={},this.i=new Ge,this.v=!1,this.l={},this.m=t,e=this.o=new pe,t=new MediaSource,this.i.ha(t,"sourceopen",e.resolve),this.f.src=bn(t),this.h=t}z("shaka.text.TextEngine.registerParser",(function(e,t){mn[e]=t})),z("shaka.text.TextEngine.unregisterParser",(function(e){delete mn[e]})),pn.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},pn.prototype.Lc=function(e){try{return this.g.parseMedia(new Uint8Array(e),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new he(2,2,2009,t)}},pn.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},pn.prototype.qe=function(e){this.c.append(e)},pn.prototype.appendCues=pn.prototype.qe,pn.prototype.rc=function(e,t){this.l=e;var n=this.i.get(e);if(n)for(var r=d(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter((function(e){return e.endTime<=t})),this.c.append(i))},pn.prototype.setSelectedClosedCaptionId=pn.prototype.rc;var bn=e.URL.createObjectURL;function wn(e){var t=Xe(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return Qe.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")}(e);return vn(t)||MediaSource.isTypeSupported(n)||$t(t,e.type)}function Sn(e,t){e.a||(e.a=new pn(e.g)),gn(e.a,t)}function En(e,t){if("text"==t)var n=e.a.a;else n=!(n=Tn(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function kn(e,t){return"text"==t?e.a.b:Bt(Tn(e,t))}function Tn(e,t){try{return e.b[t].buffered}catch(n){return null}}function xn(t,n,r,i,a,o){return"text"==n?function(e,t,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(t));else{var e={periodStart:this.m,segmentStart:n,segmentEnd:r};e=this.g.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.f&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(e))}(t.a,r,i,a):t.l[n]?function(e,t){e.f=!0,e.b=new pe,e.g=[],e.c=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new he(2,3,3018)),e.b}(t.l[n],r).then(function(e){return this.a||Sn(this,"text/vtt"),e.captions&&yn(this.a,e.captions,i,a,this.b.video.timestampOffset),Cn(this,n,this.ee.bind(this,n,e.data.buffer))}.bind(t)):(o&&e.muxjs&&(t.a||Sn(t,"text/vtt"),null==i&&null==a?t.m.init(r):t.m.b(r,(function(e){e.length&&yn(t.a,e,i,a,t.b.video.timestampOffset)}))),Cn(t,n,t.ee.bind(t,n,r)))}function An(e,t){return"text"==t?e.a?(e.m.c(),e.a.remove(0,1/0)):Promise.resolve():Cn(e,t,e.fe.bind(e,t,0,e.h.duration))}function Cn(e,t,n){if(e.v)return Promise.reject();if(n={start:n,p:new pe},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new he(2,3,3017,t)):n.p.reject(new he(2,3,3015,r)),Ln(e,t)}return n.p}function Rn(e,t){if(e.v)return Promise.reject();var n,r=[];for(n in e.b){var i=new pe,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.c[n].push(a),r.push(i),1==e.c[n].length&&a.start()}return Promise.all(r).then(function(){try{t()}catch(r){var e=Promise.reject(new he(2,3,3015,r))}for(var n in this.b)Ln(this,n);return e}.bind(e),function(e){throw e}.bind(e))}function Ln(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(r){n.p.reject(new he(2,3,3015,r)),Ln(e,t)}}function Pn(e,t){return e=In(e),t=In(t),e.split("-")[0]==t.split("-")[0]}function Nn(e,t){e=In(e),t=In(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function In(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=On.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function Dn(e){return e.language?In(e.language):e.audio&&e.audio.language?In(e.audio.language):e.video&&e.video.language?In(e.video.language):"und"}function Mn(e,t){for(var n=In(e),r=new Set,i=d(t),a=i.next();!a.done;a=i.next())r.add(In(a.value));for(a=(i=d(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=d(r)).next();!a.done;a=i.next())if(Nn(a=a.value,n))return a;for(a=(i=d(r)).next();!a.done;a=i.next()){var o=a=a.value,s=n;if(o=In(o),s=In(s),o=o.split("-"),s=s.split("-"),2==o.length&&2==s.length&&o[0]==s[0])return a}for(a=(r=d(r)).next();!a.done;a=r.next())if(Nn(n,i=a.value))return i;return null}(n=_n.prototype).destroy=function(){var e=this;this.v=!0;var t,n=[];for(t in this.c){var r=this.c[t],i=r[0];for(this.c[t]=r.slice(0,1),i&&n.push(i.p.catch(Vt.ic)),i=1;i<r.length;++i)r[i].p.reject()}for(var a in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.l)n.push(this.l[a].destroy());return Promise.all(n).then((function(){e.i&&(e.i.release(),e.i=null),e.f&&(e.f.removeAttribute("src"),e.f.load(),e.f=null),e.h=null,e.a=null,e.g=null,e.b={},e.l={},e.m=null,e.c={}}))},n.init=function(e,t){var n=this;return h((function r(){var i;return D(r,(function(r){switch(r.j){case 1:return i=qt,S(r,n.o,2);case 2:e.forEach((function(e,r){var a=Xe(e.mimeType,e.codecs);r==i.qa?Sn(n,a):(!t&&MediaSource.isTypeSupported(a)||!$t(a,r)||(n.l[r]=new Wt,a=Xt(r,a)),a=n.h.addSourceBuffer(a),n.i.w(a,"error",n.Tf.bind(n,r)),n.i.w(a,"updateend",n.ub.bind(n,r)),n.b[r]=a,n.c[r]=[])})),E(r)}}))}))},n.Ic=function(e){if(e.total=Ft(this.f.buffered),e.audio=Ft(Tn(this,"audio")),e.video=Ft(Tn(this,"video")),e.text=[],this.a){var t=this.a.a,n=this.a.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}},n.rc=function(e){var t=kn(this,"video")||0;this.a.rc(e,t)},n.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):Cn(this,e,this.fe.bind(this,e,t,n))},n.flush=function(e){return"text"==e?Promise.resolve():Cn(this,e,this.Ce.bind(this,e))},n.endOfStream=function(e){return Rn(this,function(){e?this.h.endOfStream(e):this.h.endOfStream()}.bind(this))},n.wa=function(e){return Rn(this,function(){this.h.duration=e}.bind(this))},n.Y=function(){return this.h.duration},n.ee=function(e,t){this.b[e].appendBuffer(t)},n.fe=function(e,t,n){n<=t?this.ub(e):this.b[e].remove(t,n)},n.oe=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.ub(e)},n.Ce=function(e){this.f.currentTime-=.001,this.ub(e)},n.Sf=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.ub(e)},n.Pf=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.ub(e)},n.Tf=function(e){this.c[e][0].p.reject(new he(2,3,3014,this.f.error?this.f.error.code:0))},n.ub=function(e){var t=this.c[e][0];t&&(t.p.resolve(),Ln(this,e))};var On=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function jn(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Bn(e,t,n){var r=!1;return e.forEach((function(e){var i=e.allowedByApplication;e.allowedByApplication=jn(e,t,n),i!=e.allowedByApplication&&(r=!0)})),r}function Un(e,t,n,r){r.variants=r.variants.filter((function(r){if(e&&e.P&&!Rt(e,r))return!1;var i=r.audio;return r=r.video,!(i&&!wn(i)||r&&!wn(r)||i&&t&&!zn(i,t)||r&&n&&!zn(r,n))})),r.textStreams=r.textStreams.filter((function(e){return vn(Xe(e.mimeType,e.codecs))}))}function zn(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Fn(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var l=new Set;return t&&t.roles.forEach((function(e){return l.add(e)})),n&&n.roles.forEach((function(e){return l.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(l),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Vn(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Gn(e){return e.__shaka_id||(e.__shaka_id=Hn++),e.__shaka_id}var Hn=0;function qn(e){return{id:Gn(e),active:!1,type:"",bandwidth:0,language:In(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Kn(e){return e.allowedByApplication&&e.allowedByKeySystem}function Wn(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=d(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?e:(i=n.filter((function(e){return e<=t})),i.length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n)))}function $n(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==a})),t){var o=Mn(In(t),e.map((function(e){return e.language})));o&&(r=e.filter((function(e){return In(e.language)==o})))}if(n){if((e=Xn(r,n)).length)return e}else if((e=r.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=r.map((function(e){return e.roles})).reduce(Vt.yc,[])).length?Xn(r,e[0]):r}function Xn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function Yn(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function Qn(){this.h=null,this.f=!1,this.b=new q,this.c=[],this.i=!1,this.a=this.g=null}function Jn(e,t){return e&&(t=t.filter((function(t){return jn(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function Zn(e,t){this.a=e,this.b=t}function er(e,t){var n=new Zn(2,6),r=rr,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,e,t)}function tr(e,t,n,r){W([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function nr(e,t,n,r){K([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}z("shaka.abr.SimpleAbrManager",Qn),Qn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Qn.prototype.stop=Qn.prototype.stop,Qn.prototype.init=function(e){this.h=e},Qn.prototype.init=Qn.prototype.init,Qn.prototype.chooseVariant=function(){var e=Jn(this.a.restrictions,this.c),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!e.length&&(e=[(e=Jn(null,this.c))[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],a=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=i.bandwidth/this.a.bandwidthDowngradeTarget&&t<=a&&(n=i)}return this.g=Date.now(),n},Qn.prototype.chooseVariant=Qn.prototype.chooseVariant,Qn.prototype.enable=function(){this.f=!0},Qn.prototype.enable=Qn.prototype.enable,Qn.prototype.disable=function(){this.f=!1},Qn.prototype.disable=Qn.prototype.disable,Qn.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,G(n.b,i,r),G(n.c,i,r)}if(null!=this.g&&this.f)e:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Qn.prototype.segmentDownloaded=Qn.prototype.segmentDownloaded,Qn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Qn.prototype.getBandwidthEstimate=Qn.prototype.getBandwidthEstimate,Qn.prototype.setVariants=function(e){this.c=e},Qn.prototype.setVariants=Qn.prototype.setVariants,Qn.prototype.configure=function(e){this.a=e},Qn.prototype.configure=Qn.prototype.configure,Zn.prototype.toString=function(){return"v"+this.a+"."+this.b};var rr=null,ir="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ar="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),or=["loop","playbackRate"],sr=["pause","play"],lr="abrstatuschanged adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged textchanged".split(" "),ur={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},cr={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},dr=[["getConfiguration","configure"]],fr=[["isTextTrackVisible","setTextTrackVisibility"]],hr="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),pr=["attach","detach","load","unload"];function mr(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof Se){var n,r={};for(n in t){var i=t[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=0;n<t.length;++n)r.start.push(t.start(n)),r.end.push(t.end(n));else r=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}}))}function vr(e){return JSON.parse(e,(function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t):t&&"object"==typeof t&&"Uint8Array"==t.__type__?new Uint8Array(t.entries):t}))}function gr(e,t,n,r,i,a){this.T=e,this.f=new ce(t),this.P=n,this.l=!1,this.G=r,this.M=i,this.C=a,this.b=this.h=!1,this.D="",this.i=null,this.m=this.Nd.bind(this),this.o=this.kf.bind(this),this.a={video:{},player:{}},this.v=0,this.c={},this.g=null}var yr=!1,_r=null;function br(e){var t=_r;t.removeUpdateListener(e.m),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.o)}function wr(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new he(1,7,7e3))}}function Sr(e){e=mr(e),_r.sendMessage("urn:x-cast:com.google.shaka.v2",e,(function(){}),$)}function Er(e,t,n){var r=this;ke.call(this),this.c=e,this.b=t,this.i=this.g=this.f=this.l=this.h=null,(this.m=n)&&(this.a=new gr(n,(function(){return Tr(r)}),(function(){return xr(r)}),(function(e,t){return Cr(r,e,t)}),(function(){return Ar(r)}),(function(){return kr(r)}))),function(e){for(var t in e.a&&e.a.init(),e.i=new Ge,ir.forEach(function(e){this.i.w(this.c,e,this.ig.bind(this))}.bind(e)),lr.forEach(function(e){this.i.w(this.b,e,this.yf.bind(this))}.bind(e)),e.h={},e.c)Object.defineProperty(e.h,t,{configurable:!1,enumerable:!0,get:e.hg.bind(e,t),set:e.jg.bind(e,t)});for(var n in e.l={},e.b)Object.defineProperty(e.l,n,{configurable:!1,enumerable:!0,get:e.Ud.bind(e,n)});e.f=new ke,e.f.Vb=e.h,e.g=new ke,e.g.Vb=e.l}(this)}function kr(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.b.bc(),startTime:null};return e.c.pause(),or.forEach(function(e){t.video[e]=this.c[e]}.bind(e)),e.c.ended||(t.startTime=e.c.currentTime),dr.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.player[n]=e}.bind(e)),fr.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.playerAfterLoad[n]=e}.bind(e)),t}function Tr(e){e.dispatchEvent(new Se("caststatuschanged"))}function xr(e){e.f.dispatchEvent(new Se(e.h.paused?"pause":"play"))}function Ar(e){dr.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e));var t=e.a.get("player","getAssetUri")(),n=e.a.get("video","ended"),r=Promise.resolve(),i=e.c.autoplay,a=null;n||(a=e.a.get("video","currentTime")),t&&(e.c.autoplay=!1,r=e.b.load(t,a));var o={};or.forEach(function(e){o[e]=this.a.get("video",e)}.bind(e)),r.then((function(){e.c&&(or.forEach(function(e){this.c[e]=o[e]}.bind(e)),fr.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e)),e.c.autoplay=i,t&&e.c.play())}),(function(t){e.b.dispatchEvent(new Se("error",{detail:t}))}))}function Cr(e,t,n){e.a.fa()&&("video"==t?e.f.dispatchEvent(n):"player"==t&&e.g.dispatchEvent(n))}function Rr(e,t,n,r){var i=this;ke.call(this),this.a=e,this.b=t,this.c=new Ge,this.D={video:e,player:t},this.o=n||function(){},this.G=r||function(e){return e},this.v=!1,this.h=!0,this.g=0,this.m=!1,this.l=!0,this.i=this.f=null,this.C=new ce((function(){Pr(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=e.Qd.bind(e),t.onSenderDisconnected=e.Qd.bind(e),t.onSystemVolumeChanged=e.Be.bind(e),e.i=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.i.onMessage=e.ef.bind(e),e.f=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.f.onMessage=e.rf.bind(e),t.start(),ir.forEach(function(e){this.c.w(this.a,e,this.Wd.bind(this,"video"))}.bind(e)),lr.forEach(function(e){this.c.w(this.b,e,this.Wd.bind(this,"player"))}.bind(e)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.b.jd(3840,2160):e.b.jd(1920,1080),e.c.w(e.a,"loadeddata",function(){this.m=!0}.bind(e)),e.c.w(e.b,"loading",function(){this.h=!1,Lr(this)}.bind(e)),e.c.w(e.a,"playing",function(){this.h=!1,Lr(this)}.bind(e)),e.c.w(e.a,"pause",function(){Lr(this)}.bind(e)),e.c.w(e.b,"unloading",function(){this.h=!0,Lr(this)}.bind(e)),e.c.w(e.a,"ended",function(){var e=this;new ce((function(){e.a&&e.a.ended&&(e.h=!0,Lr(e))})).O(5)}.bind(e))}(this)}function Lr(e){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new Se("caststatuschanged")),Nr(this)||Mr(this,0))}.bind(e))}function Pr(e){e.C.O(.5);var t={video:{},player:{}};if(ar.forEach(function(e){t.video[e]=this.a[e]}.bind(e)),e.b.V())for(var n in cr)0==e.g%cr[n]&&(t.player[n]=e.b[n]());for(var r in ur)0==e.g%ur[r]&&(t.player[r]=e.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.m&&(e.g+=1),Dr(e,{type:"update",update:t},e.f),Nr(e)}function Nr(e){return!(!e.l||!e.a.duration&&!e.b.V())&&(Ir(e),e.l=!1,!0)}function Ir(e){var t={contentId:e.b.bc(),streamType:e.b.V()?"LIVE":"BUFFERED",duration:e.a.duration,contentType:""};Mr(e,0,t)}function Dr(e,t,n,r){e.v&&(e=mr(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Mr(e,t,n){var r=e.a.playbackRate,i=Or;r={mediaSessionId:0,playbackRate:r,playerState:i=e.h?i.IDLE:e.b.Nc()?i.je:e.a.paused?i.le:i.me,currentTime:e.a.currentTime,supportedMediaCommands:15,volume:{level:e.a.volume,muted:e.a.muted}},n&&(r.media=n),Dr(e,{requestId:t,type:"MEDIA_STATUS",status:[r]},e.i)}(n=gr.prototype).destroy=function(){return wr(this),_r&&br(this),this.f&&(this.f.stop(),this.f=null),this.M=this.G=null,this.b=this.h=!1,this.o=this.m=this.g=this.c=this.a=this.i=null,Promise.resolve()},n.fa=function(){return this.b},n.bd=function(){return this.D},n.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.h=!0,this.f.sc();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,this.Od.bind(this),this.pf.bind(this),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),yr&&this.f.O(.02),(t=_r)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.Od(t):_r=null}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},n.hd=function(e){this.i=e,this.b&&Sr({type:"appData",appData:this.i})},n.cast=function(e){return this.h?yr?this.b?Promise.reject(new he(1,8,8002)):(this.g=new pe,chrome.cast.requestSession(this.Zc.bind(this,e),this.Md.bind(this)),this.g):Promise.reject(new he(1,8,8001)):Promise.reject(new he(1,8,8e3))},n.Eb=function(){this.b&&(wr(this),_r&&(br(this),_r.stop((function(){}),(function(){})),_r=null))},n.get=function(e,t){if("video"==e){if(sr.includes(t))return this.Yd.bind(this,e,t)}else if("player"==e){if(cr[t]&&!this.get("player","isLive")())return function(){};if(hr.includes(t))return this.Yd.bind(this,e,t);if(pr.includes(t))return this.Ef.bind(this,e,t);if(ur[t])return this.Vd.bind(this,e,t)}return this.Vd(e,t)},n.set=function(e,t,n){this.a[e][t]=n,Sr({type:"set",targetName:e,property:t,value:n})},n.Zc=function(e,t){_r=t,t.addUpdateListener(this.m),t.addMessageListener("urn:x-cast:com.google.shaka.v2",this.o),this.Nd(),Sr({type:"init",initState:e,appData:this.i}),this.g.resolve()},n.Md=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.g.reject(new he(2,8,t,e))},n.Vd=function(e,t){return this.a[e][t]},n.Yd=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];Sr({type:"call",targetName:e,methodName:t,args:r})},n.Ef=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new pe;var a=this.v.toString();return this.v++,this.c[a]=i,Sr({type:"asyncCall",targetName:e,methodName:t,args:r,id:a}),i},n.Od=function(e){var t=this.C();this.g=new pe,this.l=!0,this.Zc(t,e)},n.pf=function(e){yr="available"==e,this.f.sc()},n.Nd=function(){var e=!!_r&&"connected"==_r.status;if(this.b&&!e){for(var t in this.M(),this.a)this.a[t]={};wr(this)}this.D=(this.b=e)?_r.receiver.friendlyName:"",this.f.sc()},n.kf=function(e,t){var n=vr(t);switch(n.type){case"event":var r=n.event;this.G(n.targetName,new Se(r.type,r));break;case"update":for(var i in r=n.update)for(var a in n=this.a[i]||{},r[i])n[a]=r[i][a];this.l&&(this.P(),this.l=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){for(r in i=new he(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},F(Er,ke),z("shaka.cast.CastProxy",Er),Er.prototype.destroy=function(e){return e&&this.a&&this.a.Eb(),this.i&&(this.i.release(),this.i=null),e=[],this.b&&(e.push(this.b.destroy()),this.b=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.l=this.h=this.c=null,Promise.all(e)},Er.prototype.destroy=Er.prototype.destroy,Er.prototype.Ye=function(){return this.h},Er.prototype.getVideo=Er.prototype.Ye,Er.prototype.Re=function(){return this.l},Er.prototype.getPlayer=Er.prototype.Re,Er.prototype.se=function(){return!!this.a&&(this.a.h&&yr)},Er.prototype.canCast=Er.prototype.se,Er.prototype.fa=function(){return!!this.a&&this.a.fa()},Er.prototype.isCasting=Er.prototype.fa,Er.prototype.bd=function(){return this.a?this.a.bd():""},Er.prototype.receiverName=Er.prototype.bd,Er.prototype.cast=function(){if(!this.a)throw new he(1,8,8007);var e=kr(this);return this.a.cast(e).then(function(){if(this.b)return this.b.qd()}.bind(this))},Er.prototype.cast=Er.prototype.cast,Er.prototype.hd=function(e){this.a&&this.a.hd(e)},Er.prototype.setAppData=Er.prototype.hd,Er.prototype.$f=function(){if(this.a){var e=this.a;if(e.b){var t=e.C();chrome.cast.requestSession(e.Zc.bind(e,t),e.Md.bind(e))}}},Er.prototype.suggestDisconnect=Er.prototype.$f,Er.prototype.ve=function(e){var t=this;return h((function n(){return D(n,(function(n){switch(n.j){case 1:if(e==t.m)return n.return();if(t.m=e,!t.a){n.A(2);break}return t.a.Eb(),S(n,t.a.destroy(),3);case 3:t.a=null;case 2:t.a=new gr(e,(function(){return Tr(t)}),(function(){return xr(t)}),(function(e,n){return Cr(t,e,n)}),(function(){return Ar(t)}),(function(){return kr(t)})),t.a.init(),E(n)}}))}))},Er.prototype.changeReceiverId=Er.prototype.ve,Er.prototype.Eb=function(){this.a&&this.a.Eb()},Er.prototype.forceDisconnect=Er.prototype.Eb,(n=Er.prototype).hg=function(e){if("addEventListener"==e)return this.f.addEventListener.bind(this.f);if("removeEventListener"==e)return this.f.removeEventListener.bind(this.f);if(this.a&&this.a.fa()&&0==Object.keys(this.a.a.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a&&this.a.fa()?this.a.get("video",e):("function"==typeof(e=this.c[e])&&(e=e.bind(this.c)),e)},n.jg=function(e,t){this.a&&this.a.fa()?this.a.set("video",e,t):this.c[e]=t},n.ig=function(e){this.a&&this.a.fa()||this.f.dispatchEvent(new Se(e.type,e))},n.Ud=function(e){if("addEventListener"==e)return this.g.addEventListener.bind(this.g);if("removeEventListener"==e)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==e)return function(){return this.h}.bind(this);if("getSharedConfiguration"==e)return this.a?this.a.get("player","getConfiguration"):this.b.getConfiguration();if("getNetworkingEngine"==e)return this.b.Fb.bind(this.b);if(this.a&&this.a.fa()){if("getManifest"==e||"drmInfo"==e)return function(){return W(e+"() does not work while casting!"),null};if("getManifestUri"==e)return er("getManifestUri",'Please use "getAssetUri" instead.'),this.Ud("getAssetUri");if("attach"==e||"detach"==e)return function(){return W(e+"() does not work while casting!"),Promise.resolve()}}return this.a&&this.a.fa()&&0==Object.keys(this.a.a.video).length&&ur[e]||!this.a||!this.a.fa()?this.b[e].bind(this.b):this.a.get("player",e)},n.yf=function(e){this.a&&this.a.fa()||this.g.dispatchEvent(e)},F(Rr,ke),z("shaka.cast.CastReceiver",Rr),Rr.prototype.isConnected=function(){return this.v},Rr.prototype.isConnected=Rr.prototype.isConnected,Rr.prototype.bf=function(){return this.h},Rr.prototype.isIdle=Rr.prototype.bf,Rr.prototype.destroy=function(){var e=this;return h((function t(){var n;return D(t,(function(t){switch(t.j){case 1:return e.c&&(e.c.release(),e.c=null),n=[],e.b&&(n.push(e.b.destroy()),e.b=null),e.C&&(e.C.stop(),e.C=null),e.a=null,e.D=null,e.o=null,e.v=!1,e.h=!0,e.f=null,e.i=null,S(t,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),E(t)}}))}))},Rr.prototype.destroy=Rr.prototype.destroy,(n=Rr.prototype).Qd=function(){this.g=0,this.l=!0,this.v=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Lr(this)},n.Wd=function(e,t){this.b&&(Pr(this),Dr(this,{type:"event",targetName:e,event:t},this.f))},n.Be=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Dr(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.f),Dr(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},n.rf=function(e){var t=vr(e.data);switch(t.type){case"init":this.g=0,this.m=!1,this.l=!0,function(e,t,n){for(var r in t.player)e.b[r](t.player[r]);e.o(n),n=Promise.resolve();var i=e.a.autoplay;t.manifest&&(e.a.autoplay=!1,n=e.b.load(t.manifest,t.startTime)),n.then((function(){if(e.b){for(var n in t.video)e.a[n]=t.video[n];for(var r in t.playerAfterLoad)e.b[r](t.playerAfterLoad[r]);e.a.autoplay=i,t.manifest&&(e.a.play(),Mr(e,0))}}),(function(t){e.b.dispatchEvent(new Se("error",{detail:t}))}))}(this,t.initState,t.appData),Pr(this);break;case"appData":this.o(t.appData);break;case"set":var n=t.targetName,r=t.property;if(t=t.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(t);break}if("muted"==r){i.setSystemVolumeMuted(t);break}}this.D[n][r]=t;break;case"call":(n=this.D[t.targetName])[t.methodName].apply(n,t.args);break;case"asyncCall":n=t.targetName,r=t.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=t.id,e=e.senderId;var a=this.D[n];t=a[r].apply(a,t.args),"player"==n&&"load"==r&&(t=t.then(function(){this.l=!0}.bind(this))),t.then(this.be.bind(this,e,i,null),this.be.bind(this,e,i))}},n.ef=function(e){var t=vr(e.data);switch(t.type){case"PLAY":this.a.play(),Mr(this,0);break;case"PAUSE":this.a.pause(),Mr(this,0);break;case"SEEK":e=t.currentTime;var n=t.resumeState;null!=e&&(this.a.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.a.play(),Mr(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Mr(this,0));break;case"STOP":this.b.qd().then(function(){this.b&&Mr(this,0)}.bind(this));break;case"GET_STATUS":Mr(this,Number(t.requestId));break;case"VOLUME":e=(n=t.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=e&&(this.a.volume=Number(e)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Mr(this,0);break;case"LOAD":this.g=0,this.l=this.m=!1,e=t.media,n=t.currentTime,r=this.G(e.contentId),i=t.autoplay||!0,this.o(e.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&Ir(this)}.bind(this)).catch(function(e){var n="LOAD_FAILED";7==e.category&&7e3==e.code&&(n="LOAD_CANCELLED"),Dr(this,{requestId:Number(t.requestId),type:n},this.i)}.bind(this));break;default:Dr(this,{requestId:Number(t.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},n.be=function(e,t,n){this.b&&Dr(this,{type:"asyncComplete",id:t,error:n},this.f,e)};var Or={IDLE:"IDLE",me:"PLAYING",je:"BUFFERING",le:"PAUSED"},jr={ac:function(e,t){var n=jr.R(e,t);return 1!=n.length?null:n[0]},yd:function(e,t,n){return 1!=(e=jr.zd(e,t,n)).length?null:e[0]},R:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},zd:function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},cc:function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},J:function(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i},vf:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},Ba:function(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null},oc:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return 0===(e=Number(e))%1?e:null},nc:function(e){return 0===(e=Number(e))%1&&0<e?e:null},vb:function(e){return 0===(e=Number(e))%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},Ae:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},Td:function(e,t){var n=new DOMParser;try{var r=n.parseFromString(e,"text/xml")}catch(a){}if(r&&r.documentElement.tagName==t)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},Sd:function(e,t){try{var n=rt(e);return jr.Td(n,t)}catch(r){}}},Br=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function Ur(e,t,n){var r=function(e){for(var t=[],n=(e=d(e)).next();!n.done;n=e.next())(n=Fr(n.value))&&t.push(n);return t}(e),i=null;e=[];var a=[],o=new Set(r.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new he(2,4,4010);if(n||(a=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.ae||(i=e.init||i,!1)})),a.length&&(e=function(e,t,n){for(var r=[],i=(n=d(n)).next();!i.done;i=n.next()){i=i.value;var a=Br.get(i.ae);if(a){var o=Ht(a,i.init||e);(a=zr.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}else for(o=(i=d(i=t(i.node)||[])).next();!o.done;o=i.next())r.push(o.value)}return r}(i,t,a),0==e.length&&(e=[Ht("",i)]))),r.length&&(n||!a.length))for(e=[],n=(t=d(Br.values())).next();!n.done;n=t.next())"org.w3.clearkey"!=(n=n.value)&&e.push(Ht(n,i));if(o=Array.from(o)[0]||null)for(n=(t=d(e)).next();!n.done;n=t.next())for(r=(n=d(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{vd:o,pg:i,drmInfos:e,Ad:!0}}var zr=(new Map).set("com.widevine.alpha",(function(e){return(e=jr.yd(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=jr.yd(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,n=new DataView(e).getUint32(t,!0);if(n!==e.byteLength)return[];t+=6,n=[];for(var r=new DataView(e);t<e.byteLength-1;){var i=r.getUint16(t,!0);t+=2;var a=r.getUint16(t,!0);t+=2;var o=new Uint8Array(e,t,a);n.push({type:i,value:o}),t+=a}return n}((e=dt(e.textContent)).buffer).filter((function(e){return 1===e.type}))[0])?(e=it(e.value,!0),(e=jr.Td(e,"WRMHEADER"))?function(e){return(e=e.querySelector("DATA > LA_URL"))?e.textContent:""}(e):""):""}));function Fr(e){var t=e.getAttribute("schemeIdUri"),n=jr.getAttributeNS(e,"urn:mpeg:cenc:2013","default_KID"),r=jr.zd(e,"urn:mpeg:cenc:2013","pssh").map(jr.cc);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new he(2,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:"cenc",initData:dt(e),keyId:null}}))}catch(a){throw new he(2,4,4007)}return{node:e,ae:t,keyId:n,init:0<i.length?i:null}}function Vr(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function Gr(e,t){var n=Hr(e,t,"timescale"),r=1;n&&(r=jr.nc(n)||1),n=Hr(e,t,"duration"),(n=jr.nc(n||""))&&(n/=r);var i=Hr(e,t,"startNumber"),a=Number(Hr(e,t,"presentationTimeOffset"))||0,o=jr.vb(i||"");null!=i&&null!=o||(o=1);var s=qr(e,t,"SegmentTimeline");if(i=null,s){i=r;var l=e.S.duration||1/0;s=jr.R(s,"S");for(var u=[],c=0,d=0;d<s.length;++d){var f=s[d],h=jr.J(f,"t",jr.vb),p=jr.J(f,"d",jr.vb);if(f=jr.J(f,"r",jr.parseInt),null!=h&&(h-=a),!p)break;if(h=null!=h?h:c,0>(f=f||0))if(d+1<s.length){if(null==(f=jr.J(s[d+1],"t",jr.vb)))break;if(h>=f)break;f=Math.ceil((f-h)/p)-1}else{if(1/0==l)break;if(h/i>=l)break;f=Math.ceil((l*i-h)/p)-1}0<u.length&&h!=c&&(u[u.length-1].end=h/i);for(var m=0;m<=f;++m)c=h+p,u.push({start:h/i,end:c/i,eg:h}),h=c}i=u}return{timescale:r,Z:n,Za:o,la:a/r||0,rd:a,N:i}}function Hr(e,t,n){return[t(e.B),t(e.ca),t(e.ja)].filter(Vt.Ga).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function qr(e,t,n){return[t(e.B),t(e.ca),t(e.ja)].filter(Vt.Ga).map((function(e){return jr.ac(e,n)})).reduce((function(e,t){return e||t}))}function Kr(e,t,n,r,i,a){if(a=void 0===a?0:a,jr.getAttributeNS(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=jr.getAttributeNS(e,"http://www.w3.org/1999/xlink","href"),s=jr.getAttributeNS(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=0;l<e.attributes.length;l++){var u=e.attributes[l];"http://www.w3.org/1999/xlink"==u.namespaceURI&&(e.removeAttributeNS(u.namespaceURI,u.localName),--l)}if(5<=a)return ve(new he(2,4,4028));if("onLoad"!=s)return ve(new he(2,4,4027));var c=Gt([r],[o]);return i.request(0,Me(c,t)).U((function(r){if(!(r=jr.Sd(r.data,e.tagName)))return ve(new he(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var l=r.attributes[s].nodeName,u=r.getAttribute(l);e.setAttribute(l,u)}return Kr(e,t,n,c[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.U(void 0,(function(){return Kr(e,t,n,r,i,a)}))),o}o=[];for(var s=0;s<e.childNodes.length;s++){var l=e.childNodes[s];l instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==jr.getAttributeNS(l,"http://www.w3.org/1999/xlink","href")?(e.removeChild(l),--s):"SegmentTimeline"!=l.tagName&&o.push(Kr(l,t,n,r,i,a)))}return be(o).U((function(){return e}))}function Wr(e,t,n){this.c=e,this.b=t,this.a=n}function $r(e,t,n,r,i,a){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=a}function Xr(e,t){this.K=e,this.b=t==Qr,this.a=0}z("shaka.media.InitSegmentReference",Wr),Wr.prototype.Ac=function(){return this.c()},Wr.prototype.createUris=Wr.prototype.Ac,Wr.prototype.Kc=function(){return this.b},Wr.prototype.getStartByte=Wr.prototype.Kc,Wr.prototype.Jc=function(){return this.a},Wr.prototype.getEndByte=Wr.prototype.Jc,z("shaka.media.SegmentReference",$r),$r.prototype.ba=function(){return this.position},$r.prototype.getPosition=$r.prototype.ba,$r.prototype.Lc=function(){return this.startTime},$r.prototype.getStartTime=$r.prototype.Lc,$r.prototype.Ge=function(){return this.endTime},$r.prototype.getEndTime=$r.prototype.Ge,$r.prototype.Ac=function(){return this.c()},$r.prototype.createUris=$r.prototype.Ac,$r.prototype.Kc=function(){return this.b},$r.prototype.getStartByte=$r.prototype.Kc,$r.prototype.Jc=function(){return this.a},$r.prototype.getEndByte=$r.prototype.Jc,z("shaka.util.DataViewReader",Xr);var Yr,Qr=1;function Jr(){throw new he(2,3,3e3)}function Zr(){this.c=[],this.b=[],this.a=!1}function ei(e){for(;e.reader.sa()&&!e.parser.a;)e.parser.mc(e.start,e.reader,e.partialOkay)}function ti(e){for(var t=e.reader.F();0<t&&!e.parser.a;--t)e.parser.mc(e.start,e.reader,e.partialOkay)}function ni(e){return function(t){e(t.reader.Xa(t.reader.K.byteLength-t.reader.ba()))}}function ri(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function ii(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function ai(e,t,n,r){var i,a=(new Zr).ea("sidx",(function(e){i=function(e,t,n,r){var i=[];r.reader.L(4);var a=r.reader.F();if(0==a)throw new he(2,3,3005);if(0==r.version)var o=r.reader.F(),s=r.reader.F();else o=r.reader.yb(),s=r.reader.yb();r.reader.L(2);var l=r.reader.Mb();for(e=e+r.size+s,s=0;s<l;s++){var u=r.reader.F(),c=(2147483648&u)>>>31;u&=2147483647;var d=r.reader.F();if(r.reader.L(4),1==c)throw new he(2,3,3006);i.push(new $r(i.length,o/a-t,(o+d)/a-t,(function(){return n}),e,e+u-1)),o+=d,e+=u}return r.parser.stop(),i}(t,r,n,e)}));if(e&&a.parse(e),i)return i;throw new he(2,3,3004)}function oi(e){this.a=e}function si(e,t){for(;e.a.length&&e.a[e.a.length-1].startTime>=t;)e.a.pop();for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[e.a.length-1];e.a[e.a.length-1]=new $r(n.position,n.startTime,t,n.c,n.b,n.a)}}function li(e){this.b=e,this.a=new Xr(e,0),Yr||(Yr=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function ui(e){var t=ci(e);if(7<t.length)throw new he(2,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=ci(e);e:{for(r=0;r<Yr.length;r++)if(pt(n,Yr[r])){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.ba();else{if(8==n.length&&224&n[1])throw new he(2,3,3001);r=n[0]&(1<<8-n.length)-1;for(var i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.ba()+n<=e.b.byteLength?n:e.b.byteLength-e.a.ba(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.ba(),n),e.a.L(n),new di(t,r)}function ci(e){var t,n=e.a.ka();for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new he(2,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=e.a.ka();return r}function di(e,t){this.id=e,this.a=t}function fi(e){if(8<e.a.byteLength)throw new he(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new he(2,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t}function hi(){}function pi(e){var t=new li(e.a);if(179!=(e=ui(t)).id)throw new he(2,3,3013);if(e=fi(e),183!=(t=ui(t)).id)throw new he(2,3,3012);t=new li(t.a);for(var n=0;t.sa();){var r=ui(t);if(241==r.id){n=fi(r);break}}return{fg:e,Df:n}}function mi(e,t){var n=qr(e,t,"Initialization");if(!n)return null;var r=e.B.oa,i=n.getAttribute("sourceURL");i&&(r=Gt(e.B.oa,[i])),i=0;var a=null;return(n=jr.J(n,"range",jr.oc))&&(i=n.start,a=n.end),new Wr((function(){return r}),i,a)}function vi(e,t,n,r,i,a,o,s){var l=e.presentationTimeline,u=!e.kb||!e.S.Pc,c=e.S.start,d=e.S.duration,f=t,h=null;return{createSegmentIndex:function(){var e=[f(r,i,a),"webm"==o?f(n.c(),n.b,n.a):null];return f=null,Promise.all(e).then((function(e){var t=e[0];e=e[1]||null,t="mp4"==o?ai(t,i,r,s):(new hi).parse(t,e,r,s),l.sb(t,c),h=new oi(t),u&&si(h,d)}))},findSegmentPosition:function(e){return h.find(e)},getSegmentReference:function(e){return h.get(e)}}}function gi(e){return e.Ob}function yi(e,t){var n=mi(e,_i),r=function(e){return[e.B.Ja,e.ca.Ja,e.ja.Ja].filter(Vt.Ga).map((function(e){return jr.R(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Fd&&(e.Fd=!0),{cf:t.getAttribute("media"),start:(t=jr.J(t,"mediaRange",jr.oc,{start:0,end:null})).start,end:t.end}}))}(e),i=Gr(e,_i),a=i.Za;0==a&&(a=1);var o=0;if(i.Z?o=i.Z*(a-1):i.N&&0<i.N.length&&(o=i.N[0].start),!(r={Z:i.Z,startTime:o,Za:a,la:i.la,N:i.N,qb:r}).Z&&!r.N&&1<r.qb.length)throw new he(2,4,4002);if(!r.Z&&!e.S.duration&&!r.N&&1==r.qb.length)throw new he(2,4,4002);if(r.N&&0==r.N.length)throw new he(2,4,4002);return a=i=null,e.ja.id&&e.B.id&&(i=t[a=e.ja.id+","+e.B.id]),o=function(e,t,n,r){var i=r.qb.length;r.N&&r.N.length!=r.qb.length&&(i=Math.min(r.N.length,r.qb.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var l=r.qb[s],u=Gt(n,[l.cf]),c=void 0;c=null!=r.Z?o+r.Z:r.N?r.N[s].end:o+e,a.push(new $r(s+t,o,c,function(e){return e}.bind(null,u),l.start,l.end)),o=c}return a}(e.S.duration,r.Za,e.B.oa,r),i?(i.Sc(o),a=e.presentationTimeline.Hb(),i.Dc(a-e.S.start)):(e.presentationTimeline.sb(o,e.S.start),i=new oi(o),a&&e.kb&&(t[a]=i)),e.kb&&e.S.Pc||si(i,e.S.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,la:r.la}}function _i(e){return e.Ja}function bi(e,t,n,r){var i=function(e){var t=Hr(e,wi,"initialization");if(!t)return null;var n=e.B.id,r=e.bandwidth||null,i=e.B.oa;return new Wr((function(){var e=Vr(t,n,null,r,null);return Gt(i,[e])}),0,null)}(e),a=Gr(e,wi),o=Hr(e,wi,"media"),s=Hr(e,wi,"index");if(o=(a={Z:a.Z,timescale:a.timescale,Za:a.Za,la:a.la,rd:a.rd,N:a.N,Rc:o,Jb:s}).Jb?1:0,o+=a.N?1:0,0==(o+=a.Z?1:0))throw new he(2,4,4002);if(1!=o&&(a.Jb&&(a.N=null),a.Z=null),!a.Jb&&!a.Rc)throw new he(2,4,4002);if(a.Jb){if("mp4"!=(n=e.B.mimeType.split("/")[1])&&"webm"!=n)throw new he(2,4,4006);if("webm"==n&&!i)throw new he(2,4,4005);r=Vr(a.Jb,e.B.id,null,e.bandwidth||null,null),e=vi(e,t,i,r=Gt(e.B.oa,[r]),0,null,n,a.la)}else a.Z?(r||(e.presentationTimeline.Uc(a.Z),e.presentationTimeline.Vc(e.S.start)),e=function(e,t){var n=e.S.duration,r=t.Z,i=t.Za,a=t.timescale,o=t.Rc,s=e.bandwidth||null,l=e.B.id,u=e.B.oa;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,c=t+r;return n&&(c=Math.min(c,n)),0>c||n&&t>=n?null:new $r(e,t,c,(function(){var n=Vr(o,l,e+i,s,t*a);return Gt(u,[n])}),0,null)}}}(e,a)):(o=t=null,e.ja.id&&e.B.id&&(t=n[o=e.ja.id+","+e.B.id]),s=function(e,t){for(var n=[],r=0;r<t.N.length;r++){var i=r+t.Za;n.push(new $r(i,t.N[r].start,t.N[r].end,function(e,t,n,r,i,a){return Gt(r,[e=Vr(e,t,i,n,a)]).map((function(e){return e.toString()}))}.bind(null,t.Rc,e.B.id,e.bandwidth||null,e.B.oa,i,t.N[r].eg+t.rd),0,null))}return n}(e,a),r=!e.kb||!e.S.Pc,t?(r&&si(new oi(s),e.S.duration),t.Sc(s),n=e.presentationTimeline.Hb(),t.Dc(n-e.S.start)):(e.presentationTimeline.sb(s,e.S.start),t=new oi(s),o&&e.kb&&(n[o]=t)),r&&si(t,e.S.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:i,la:a.la}}function wi(e){return e.Qb}Xr.Endianness={lg:0,mg:Qr},Xr.prototype.sa=function(){return this.a<this.K.byteLength},Xr.prototype.hasMoreData=Xr.prototype.sa,Xr.prototype.ba=function(){return this.a},Xr.prototype.getPosition=Xr.prototype.ba,Xr.prototype.Ie=function(){return this.K.byteLength},Xr.prototype.getLength=Xr.prototype.Ie,Xr.prototype.ka=function(){try{var e=this.K.getUint8(this.a);return this.a+=1,e}catch(t){Jr()}},Xr.prototype.readUint8=Xr.prototype.ka,Xr.prototype.Mb=function(){try{var e=this.K.getUint16(this.a,this.b);return this.a+=2,e}catch(t){Jr()}},Xr.prototype.readUint16=Xr.prototype.Mb,Xr.prototype.F=function(){try{var e=this.K.getUint32(this.a,this.b);return this.a+=4,e}catch(t){Jr()}},Xr.prototype.readUint32=Xr.prototype.F,Xr.prototype.Xd=function(){try{var e=this.K.getInt32(this.a,this.b);return this.a+=4,e}catch(t){Jr()}},Xr.prototype.readInt32=Xr.prototype.Xd,Xr.prototype.yb=function(){try{if(this.b)var e=this.K.getUint32(this.a,!0),t=this.K.getUint32(this.a+4,!0);else t=this.K.getUint32(this.a,!1),e=this.K.getUint32(this.a+4,!1)}catch(n){Jr()}if(2097151<t)throw new he(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},Xr.prototype.readUint64=Xr.prototype.yb,Xr.prototype.Xa=function(e){this.a+e>this.K.byteLength&&Jr();var t=new Uint8Array(this.K.buffer,this.K.byteOffset+this.a,e);return this.a+=e,new Uint8Array(t)},Xr.prototype.readBytes=Xr.prototype.Xa,Xr.prototype.L=function(e){this.a+e>this.K.byteLength&&Jr(),this.a+=e},Xr.prototype.skip=Xr.prototype.L,Xr.prototype.$d=function(e){this.a<e&&Jr(),this.a-=e},Xr.prototype.rewind=Xr.prototype.$d,Xr.prototype.seek=function(e){(0>e||e>this.K.byteLength)&&Jr(),this.a=e},Xr.prototype.seek=Xr.prototype.seek,Xr.prototype.ad=function(){for(var e=this.a;this.sa()&&0!=this.K.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.K.buffer,this.K.byteOffset+e,this.a-e),this.a+=1,rt(e)},Xr.prototype.readTerminatedString=Xr.prototype.ad,z("shaka.util.Mp4Parser",Zr),Zr.prototype.H=function(e,t){var n=ri(e);return this.c[n]=0,this.b[n]=t,this},Zr.prototype.box=Zr.prototype.H,Zr.prototype.ea=function(e,t){var n=ri(e);return this.c[n]=1,this.b[n]=t,this},Zr.prototype.fullBox=Zr.prototype.ea,Zr.prototype.stop=function(){this.a=!0},Zr.prototype.stop=Zr.prototype.stop,Zr.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new Xr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.sa()&&!this.a;)this.mc(0,n,t)},Zr.prototype.parse=Zr.prototype.parse,Zr.prototype.mc=function(e,t,n){var r=t.ba(),i=t.F(),a=t.F();switch(i){case 0:i=t.K.byteLength-r;break;case 1:i=t.yb()}var o=this.b[a];if(o){var s=null,l=null;1==this.c[a]&&(s=(l=t.F())>>>24,l&=16777215),a=r+i,n&&a>t.K.byteLength&&(a=t.K.byteLength),a-=t.ba(),t=0<a?t.Xa(a):new Uint8Array(0),o({parser:this,partialOkay:n||!1,version:s,flags:l,reader:t=new Xr(new DataView(t.buffer,t.byteOffset,t.byteLength),0),size:i,start:r+e})}else t.L(Math.min(r+i-t.ba(),t.K.byteLength-t.ba()))},Zr.prototype.parseNext=Zr.prototype.mc,Zr.children=ei,Zr.sampleDescription=ti,Zr.allData=ni,Zr.typeToString=ii,z("shaka.media.SegmentIndex",oi),oi.prototype.destroy=function(){return this.a=null,Promise.resolve()},oi.prototype.destroy=oi.prototype.destroy,oi.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},oi.prototype.find=oi.prototype.find,oi.prototype.get=function(e){return 0==this.a.length||0>(e-=this.a[0].position)||e>=this.a.length?null:this.a[e]},oi.prototype.get=oi.prototype.get,oi.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},oi.prototype.offset=oi.prototype.offset,oi.prototype.Sc=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],a=e[r];i.startTime<a.startTime?(t.push(i),n++):(i.startTime>a.startTime?0==n&&t.push(a):(.1<Math.abs(i.endTime-a.endTime)?t.push(new $r(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=new $r(n++,(i=e[r++]).startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},oi.prototype.merge=oi.prototype.Sc,oi.prototype.Dc=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},oi.prototype.evict=oi.prototype.Dc,li.prototype.sa=function(){return this.a.sa()},hi.prototype.parse=function(e,t,n,r){var i;if(440786851!=ui(t=new li(new DataView(t))).id)throw new he(2,3,3008);var a=ui(t);if(408125543!=a.id)throw new he(2,3,3009);for(t=a.a.byteOffset,a=new li(a.a),i=null;a.sa();){var o=ui(a);if(357149030==o.id){i=o;break}}if(!i)throw new he(2,3,3010);for(a=new li(i.a),i=1e6,o=null;a.sa();){var s=ui(a);if(2807729==s.id)i=fi(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new he(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new he(2,3,3011);if(i=o*(a=i/1e9),475249515!=(e=ui(new li(new DataView(e)))).id)throw new he(2,3,3007);return function(e,t,n,r,i,a){function o(){return i}var s=[];e=new li(e.a);for(var l=null,u=null;e.sa();){var c=ui(e);if(187==c.id){var d=pi(c);d&&(c=n*d.fg,d=t+d.Df,null!=l&&s.push(new $r(s.length,l-a,c-a,o,u,d-1)),l=c,u=d)}}return null!=l&&s.push(new $r(s.length,l-a,r-a,o,u,null)),s}(e,t,a,i,n,r)};var Si={wb:{},Lb:{},dd:function(e,t){Si.Lb[e]=t}};function Ei(e,t,n){this.f=e,this.pc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.o=void 0===n||n}function ki(e,t,n,r){return e=Me(e,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Ti(){var e=this;this.a=this.b=null,this.f=[],this.c=null,this.l=[],this.h=1,this.m={},this.o=0,this.v=new V(5),this.i=new ce((function(){!function(e){h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return n=0,k(t,2),S(t,xi(e),4);case 4:n=t.s,x(t,3);break;case 2:r=A(t),e.a&&(r.severity=1,e.a.onError(r));case 3:if(!e.a)return t.return();Li(e,n),E(t)}}))}))}(e)})),this.g=new Re}function xi(e){var t=Date.now(),n=e.a.networkingEngine.request(0,Me(e.f,e.b.retryParameters));return Le(e.g,n),n.promise.then((function(t){if(e.a)return t.uri&&!e.f.includes(t.uri)&&e.f.unshift(t.uri),function(e,t,n){if(t=jr.Sd(t,"MPD"),!t)throw new he(2,4,4001,n);return t=Kr(t,e.b.retryParameters,e.b.dash.xlinkFailGracefully,n,e.a.networkingEngine),Le(e.g,t),t.promise.then((function(t){return function(e,t,n){return h((function r(){var i,a,o,s,l,u,c,d,f,h,p,m,v,g,y,_,b,w,k,T,x,A,C;return D(r,(function(r){switch(r.j){case 1:s=Vt,u=[n],0<(c=(l=jr).R(t,"Location").map(l.cc).filter(s.Ga)).length&&(d=Gt(u,c),u=e.f=d),f=l.R(t,"BaseURL").map(l.cc),h=Gt(u,f),p=e.b.dash.ignoreMinBufferTime,m=0,p||(m=l.J(t,"minBufferTime",l.Ba)),e.o=l.J(t,"minimumUpdatePeriod",l.Ba,-1),v=l.J(t,"availabilityStartTime",l.vf),g=l.J(t,"timeShiftBufferDepth",l.Ba),y=l.J(t,"suggestedPresentationDelay",l.Ba),_=l.J(t,"maxSegmentDuration",l.Ba),b=t.getAttribute("type")||"static",e.c?w=e.c.presentationTimeline:(k=Math.max(e.b.dash.defaultPresentationDelay,1.5*m),w=new Ei(v,null!=y?y:k,e.b.dash.autoCorrectDrift));for(var R={kb:"static"!=b,presentationTimeline:w,ja:null,S:null,ca:null,B:null,bandwidth:0,Fd:!1},L=h,P=jr.J(t,"mediaPresentationDuration",jr.Ba),N=[],I=0,D=jr.R(t,"Period"),M=0;M<D.length;M++){var O=D[M];I=jr.J(O,"start",jr.Ba,I);var j=jr.J(O,"duration",jr.Ba),B=null;if(M!=D.length-1){var U=jr.J(D[M+1],"start",jr.Ba);null!=U&&(B=U-I)}else null!=P&&(B=P-I);if(null==B&&(B=j),O=Ai(e,R,L,{start:I,duration:B,node:O,Pc:null==B||M==D.length-1}),N.push(O),j=R.ja.id,e.l.includes(j)||(e.l.push(j),e.c&&(e.a.filterNewPeriod(O),e.c.periods.push(O))),null==B){I=null;break}I+=B}if(null==e.c&&e.a.filterAllPeriods(N),null!=P?(i=N,a=P,o=!1):(i=N,a=I,o=!0),T=a,x=i,w.Rb("static"==b),"static"!=b&&o||w.wa(T||1/0),w.V()&&!isNaN(e.b.availabilityWindowOverride)&&(g=e.b.availabilityWindowOverride),null==g&&(g=1/0),w.ld(g),w.Uc(_||1),e.c){r.A(0);break}if(e.c={presentationTimeline:w,periods:x,offlineSessionIds:[],minBufferTime:m||0},!w.he()){r.A(0);break}return A=l.R(t,"UTCTiming"),S(r,function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}}));var r=e.b.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),Vt.ye(n,function(e){var n=e.scheme;switch(e=e.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Ni(this,t,e,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Ni(this,t,e,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(e),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return W("NTP UTCTiming scheme is not supported"),Promise.reject();default:return W("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(e)).catch((function(){return W("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))}(e,h,A),4);case 4:if(C=r.s,!e.a)return r.return();w.ce(C),E(r)}}))}))}(e,t,n)}))}(e,t.data,t.uri)})).then((function(){var n=(Date.now()-t)/1e3;return G(e.v,1,n),n}))}function Ai(e,t,n,r){if(t.ja=Pi(r.node,null,n),t.S=r,t.ja.id||(t.ja.id="__shaka_period_"+r.start),jr.R(r.node,"EventStream").forEach(e.wf.bind(e,r.start,r.duration)),n=jr.R(r.node,"AdaptationSet").map(e.uf.bind(e,t)).filter(Vt.Ga),t.kb){t=[];for(var i=d(n),a=i.next();!a.done;a=i.next())for(var o=(a=d(a.value.Gf)).next();!o.done;o=a.next())t.push(o.value);if(t.length!=new Set(t).size)throw new he(2,4,4018)}var s=n.filter((function(e){return!e.pd}));if(n.filter((function(e){return e.pd})).forEach((function(e){var t=e.streams[0],n=e.pd;s.forEach((function(e){e.id==n&&e.streams.forEach((function(e){e.trickModeVideo=t}))}))})),t=Ci(s,"video"),i=Ci(s,"audio"),!t.length&&!i.length)throw new he(2,4,4004);for(i.length||(i=[null]),t.length||(t=[null]),n=[],a=0;a<i.length;a++)for(o=0;o<t.length;o++)Ri(e,i[a],t[o],n);for(e=Ci(s,"text"),t=[],i=0;i<e.length;i++)t.push.apply(t,e[i].streams);return{startTime:r.start,textStreams:t,variants:n}}function Ci(e,t){return e.filter((function(e){return e.contentType==t}))}function Ri(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<Lt(i,a).length){a=Lt(t.drmInfos,n.drmInfos);for(var o=0;o<t.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(t.streams[o].bandwidth||0),i={id:e.h++,language:t.language,primary:t.Qc||n.Qc,audio:t.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=t||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:e.h++,language:a.language||"und",primary:a.Qc,audio:t?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Li(e,t){0>e.o||e.i.O(Math.max(3,e.o-t,H(e.v)))}function Pi(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,Wc:null},n=n||t.oa;var r=jr.vb,i=jr.Ae,a=jr.R(e,"BaseURL").map(jr.cc),o=e.getAttribute("contentType")||t.contentType,s=e.getAttribute("mimeType")||t.mimeType,l=e.getAttribute("codecs")||t.codecs;i=jr.J(e,"frameRate",i)||t.frameRate;for(var u=jr.R(e,"InbandEventStream"),c=t.emsgSchemeIdUris.slice(),f=(u=d(u)).next();!f.done;f=u.next())f=f.value.getAttribute("schemeIdUri"),c.includes(f)||c.push(f);return u=function(e){for(var t=0;t<e.length;++t){var n=e[t],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(e=0;r;)1&r&&++e,r>>=1;return e}}}return null}(u=jr.R(e,"AudioChannelConfiguration"))||t.Wc,o||(o=Ii(s,l)),{oa:Gt(n,a),Ob:jr.ac(e,"SegmentBase")||t.Ob,Ja:jr.ac(e,"SegmentList")||t.Ja,Qb:jr.ac(e,"SegmentTemplate")||t.Qb,width:jr.J(e,"width",r)||t.width,height:jr.J(e,"height",r)||t.height,contentType:o,mimeType:s,codecs:l,frameRate:i,emsgSchemeIdUris:c,id:e.getAttribute("id"),Wc:u}}function Ni(e,t,n,r){return(t=Me(t=Gt(t,[n]),e.b.retryParameters)).method=r,t=e.a.networkingEngine.request(4,t),Le(e.g,t),t.promise.then((function(e){if("HEAD"==r){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=rt(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()}))}function Ii(e,t){return vn(Xe(e,t))?"text":e.split("/")[0]}function Di(e,t,n,r){this.b=e,this.type=t,this.a=n,this.segments=r||null}function Mi(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r}function Oi(e,t){this.name=e,this.value=t}function ji(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function Bi(e,t){this.b=t,this.a=e}z("shaka.media.ManifestParser.registerParserByExtension",Si.dd),Si.Nb=function(e,t){Si.wb[e]=t},z("shaka.media.ManifestParser.registerParserByMime",Si.Nb),Si.Af=function(){var e={};if(Je()){for(var t in Si.wb)e[t]=!0;for(var n in Si.Lb)e[n]=!0}t={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=d(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())e[r=r.value]=Je()?!!Si.wb[r]:Ze(r);for(var i in t)e[i]=Je()?!!Si.Lb[i]:Ze(t[i]);return e},Si.create=function(e,t,n,r){return h((function i(){var a,o;return D(i,(function(i){switch(i.j){case 1:return k(i,2),S(i,Si.He(e,t,n,r),4);case 4:return a=i.s,i.return(new a);case 2:throw(o=A(i)).severity=2,o}}))}))},Si.He=function(e,t,n,r){return h((function i(){var a,o,s,l,u;return D(i,(function(i){switch(i.j){case 1:if(a=Si,r&&(o=a.wb[r.toLowerCase()]))return i.return(o);if((s=a.getExtension(e))&&(l=a.Lb[s]))return i.return(l);if(r){i.A(2);break}return S(i,a.Oe(e,t,n),3);case 3:if((r=i.s)&&(u=Si.wb[r]))return i.return(u);case 2:throw new he(2,4,4e3,e)}}))}))},Si.Oe=function(e,t,n){return h((function r(){var i,a,o;return D(r,(function(r){switch(r.j){case 1:return(i=Me([e],n)).method="HEAD",S(r,t.request(0,i).promise,2);case 2:return a=r.s,o=a.headers["content-type"],r.return(o?o.toLowerCase():"")}}))}))},Si.getExtension=function(e){return 1==(e=new Y(e).ia.split("/").pop().split(".")).length?"":e.pop().toLowerCase()},Si.isSupported=function(e,t){return!!Je()&&(t in Si.wb||Si.getExtension(e)in Si.Lb)},z("shaka.media.PresentationTimeline",Ei),Ei.prototype.Y=function(){return this.g},Ei.prototype.getDuration=Ei.prototype.Y,Ei.prototype.wa=function(e){this.g=e},Ei.prototype.setDuration=Ei.prototype.wa,Ei.prototype.Te=function(){return this.f},Ei.prototype.getPresentationStartTime=Ei.prototype.Te,Ei.prototype.ce=function(e){this.l=e},Ei.prototype.setClockOffset=Ei.prototype.ce,Ei.prototype.Rb=function(e){this.m=e},Ei.prototype.setStatic=Ei.prototype.Rb,Ei.prototype.ld=function(e){this.h=e},Ei.prototype.setSegmentAvailabilityDuration=Ei.prototype.ld,Ei.prototype.Qf=function(e){this.pc=e},Ei.prototype.setDelay=Ei.prototype.Qf,Ei.prototype.Fe=function(){return this.pc},Ei.prototype.getDelay=Ei.prototype.Fe,Ei.prototype.sb=function(e,t){if(0!=e.length){var n=e[e.length-1].endTime+t;this.Vc(e[0].startTime+t),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.o&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},Ei.prototype.notifySegments=Ei.prototype.sb,Ei.prototype.Vc=function(e){this.c=null==this.c?e:Math.min(this.c,e)},Ei.prototype.notifyMinSegmentStartTime=Ei.prototype.Vc,Ei.prototype.Uc=function(e){this.a=Math.max(this.a,e)},Ei.prototype.notifyMaxSegmentDuration=Ei.prototype.Uc,Ei.prototype.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},Ei.prototype.offset=Ei.prototype.offset,Ei.prototype.V=function(){return 1/0==this.g&&!this.m},Ei.prototype.isLive=Ei.prototype.V,Ei.prototype.Va=function(){return 1/0!=this.g&&!this.m},Ei.prototype.isInProgress=Ei.prototype.Va,Ei.prototype.Hb=function(){if(1/0==this.h)return this.i;var e=this.nb()-this.h;return Math.max(this.i,e)},Ei.prototype.getSegmentAvailabilityStart=Ei.prototype.Hb,Ei.prototype.de=function(e){this.i=e},Ei.prototype.setUserSeekStart=Ei.prototype.de,Ei.prototype.nb=function(){return this.V()||this.Va()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},Ei.prototype.getSegmentAvailabilityEnd=Ei.prototype.nb,Ei.prototype.Gb=function(e){var t=Math.max(this.c,this.i);if(1/0==this.h)return t;var n=this.nb()-this.h;return e=Math.min(n+e,this.za()),Math.max(t,e)},Ei.prototype.getSafeSeekRangeStart=Ei.prototype.Gb,Ei.prototype.mb=function(){return this.Gb(0)},Ei.prototype.getSeekRangeStart=Ei.prototype.mb,Ei.prototype.za=function(){var e=this.V()||this.Va()?this.pc:0;return Math.max(0,this.nb()-e)},Ei.prototype.getSeekRangeEnd=Ei.prototype.za,Ei.prototype.he=function(){return null!=this.f&&null==this.b},Ei.prototype.usingPresentationStartTime=Ei.prototype.he,z("shaka.dash.DashParser",Ti),(n=Ti.prototype).configure=function(e){this.b=e},n.start=function(e,t){var n=this;return h((function r(){var i;return D(r,(function(r){switch(r.j){case 1:return n.f=[e],n.a=t,S(r,xi(n),2);case 2:if(i=r.s,n.a&&Li(n,i),!n.a)throw new he(2,7,7001);return r.return(n.c)}}))}))},n.stop=function(){return this.b=this.a=null,this.f=[],this.c=null,this.l=[],this.m={},null!=this.i&&(this.i.stop(),this.i=null),this.g.destroy()},n.update=function(){xi(this).catch(function(e){this.a&&this.a.onError(e)}.bind(this))},n.onExpirationUpdated=function(){},n.uf=function(e,t){e.ca=Pi(t,e.ja,null);var n=!1,r=jr.R(t,"Role"),i=r.map((function(e){return e.getAttribute("value")})).filter(Vt.Ga),a=void 0,o="text"==e.ca.contentType;o&&(a="subtitle");for(var s=0;s<r.length;s++){var l=r[s].getAttribute("schemeIdUri");if(null==l||"urn:mpeg:dash:role:2011"==l)switch(l=r[s].getAttribute("value"),l){case"main":n=!0;break;case"caption":case"subtitle":a=l}}var u=null,c=!1;jr.R(t,"EssentialProperty").forEach((function(e){"http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?u=e.getAttribute("value"):c=!0})),s=jr.R(t,"Accessibility");var f=new Map;for(r={},l=(s=d(s)).next();!l.done;r={Db:r.Db},l=s.next()){var h=(l=l.value).getAttribute("schemeIdUri");"urn:scte:dash:cc:cea-608:2015"!=h&&"urn:scte:dash:cc:cea-708:2015"!=h||(r.Db=1,null!=(l=l.getAttribute("value"))?l.split(";").forEach(function(e){return function(t){if(t.includes("=")){var n=(t=t.split("="))[0].startsWith("CC")?t[0]:"CC"+t[0];t=t[1].split(",")[0].split(":").pop()}else n="CC"+e.Db,e.Db+=2;f.set(n,In(t))}}(r)):f.set("CC1","und"))}if(c)return null;var p=Ur(r=jr.R(t,"ContentProtection"),this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(r=In(t.getAttribute("lang")||"und"),l=t.getAttribute("label"),0==(i=(s=jr.R(t,"Representation")).map(this.xf.bind(this,e,p,a,r,l,n,i,f)).filter((function(e){return!!e}))).length){if(o)return null;throw new he(2,4,4003)}return e.ca.contentType&&"application"!=e.ca.contentType||(e.ca.contentType=Ii(i[0].mimeType,i[0].codecs),i.forEach((function(t){t.type=e.ca.contentType}))),i.forEach((function(e){p.drmInfos.forEach((function(t){e.keyId&&t.keyIds.push(e.keyId)}))})),o=s.map((function(e){return e.getAttribute("id")})).filter(Vt.Ga),{id:e.ca.id||"__fake__"+this.h++,contentType:e.ca.contentType,language:r,Qc:n,streams:i,drmInfos:p.drmInfos,pd:u,Gf:o}},n.xf=function(e,t,n,r,i,a,o,s,l){if(e.B=Pi(l,e.ca,null),!function(e){var t=e.Ob?1:0;return t+=e.Ja?1:0,t+=e.Qb?1:0,0==t?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Ob&&(e.Ja=null),e.Qb=null),!0)}(e.B))return null;e.bandwidth=jr.J(l,"bandwidth",jr.nc)||0;var u=e.B.contentType;u="text"==u||"application"==u;try{var c=this.Hf.bind(this);if(e.B.Ob)var d=function(e,t){var n=Number(Hr(e,gi,"presentationTimeOffset"))||0,r=Hr(e,gi,"timescale"),i=1;r&&(i=jr.nc(r)||1),n=n/i||0,r=mi(e,gi);var a=e.B.contentType;if(i=e.B.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new he(2,4,4006);if("webm"==i&&!r)throw new he(2,4,4005);a=qr(e,gi,"RepresentationIndex");var o=Hr(e,gi,"indexRange"),s=e.B.oa;if(o=jr.oc(o||""),a){var l=a.getAttribute("sourceURL");l&&(s=Gt(e.B.oa,[l])),o=jr.J(a,"range",jr.oc,o)}if(!o)throw new he(2,4,4002);return{createSegmentIndex:(i=vi(e,t,r,s,o.start,o.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,la:n}}(e,c);else if(e.B.Ja)d=yi(e,this.m);else if(e.B.Qb)d=bi(e,c,this.m,!!this.c);else{var f=e.B.oa,h=e.S.duration||0;d={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<h?1:null},getSegmentReference:function(e){return 1!=e?null:new $r(1,0,h,(function(){return f}),0,null)},initSegmentReference:null,la:0}}}catch(p){if(u&&4002==p.code)return null;throw p}return l=function(e,t,n,r){var i=Ur(e,t,r);if(n.Ad)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==i.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=i.drmInfos),n.Ad=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==n.drmInfos.length))throw new he(2,4,4008);return i.vd||n.vd}(l=jr.R(l,"ContentProtection"),this.b.dash.customScheme,t,this.b.dash.ignoreDrmInfo),{id:this.h++,originalId:e.B.id,createSegmentIndex:d.createSegmentIndex,findSegmentPosition:d.findSegmentPosition,getSegmentReference:d.getSegmentReference,initSegmentReference:d.initSegmentReference,presentationTimeOffset:d.la,mimeType:e.B.mimeType,codecs:e.B.codecs,frameRate:e.B.frameRate,bandwidth:e.bandwidth,width:e.B.width,height:e.B.height,kind:n,encrypted:0<t.drmInfos.length,keyId:l,language:r,label:i,type:e.ca.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.B.emsgSchemeIdUris,roles:o,channelsCount:e.B.Wc,closedCaptions:s}},n.wf=function(e,t,n){var r=jr.vb,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=jr.J(n,"timescale",r)||1;jr.R(n,"Event").forEach(function(n){var s=jr.J(n,"presentationTime",r)||0,l=jr.J(n,"duration",r)||0;l=(s=s/o+e)+l/o,null!=t&&(s=Math.min(s,e+t),l=Math.min(l,e+t)),n={schemeIdUri:i,value:a,startTime:s,endTime:l,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},n.Hf=function(e,t,n){return e=ki(e,t,n,this.b.retryParameters),e=this.a.networkingEngine.request(1,e),Le(this.g,e),e.promise.then((function(e){return e.data}))},Si.dd("mpd",Ti),Si.Nb("application/dash+xml",Ti),Mi.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},Mi.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var Ui={lb:function(e,t){return e.filter((function(e){return e.name==t}))},Ra:function(e,t){var n=Ui.lb(e,t);return n.length?n[0]:null},Gc:function(e,t,n){return e.filter((function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute("GROUP-ID"),r.value==t&&e.value==n}))},zc:function(e,t){return Gt([e],[t])[0]},Oc:function(e){return/^#(?!EXT)/m.test(e)}};function zi(e){this.b=e,this.a=0}function Fi(e){Vi(e,/[ \t]+/gm)}function Vi(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,Jf:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.Jf)}function Gi(e){return e.a==e.b.length?null:(e=Vi(e,/[^ \t\n]*/gm))?e[0]:null}function Hi(){this.a=0}function qi(e,t,n){var r=(t=(t=rt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new he(2,4,4015);t=0;for(var i=1;i<r.length;i++)if(!Ui.Oc(r[i])){var a=Wi(e,r[i]);if(--e.a,$i.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(Ui.Oc(r[a]))a+=1;else{var o=Wi(e,r[a]);if(Xi.includes(o.name)){if(1!=t)throw new he(2,4,4017);return new Di(n,t,i,e=Ki(e,n,r=r.splice(a,r.length-a),i))}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Oi("URI",r[a])),a+=1)}return new Di(n,t,i)}function Ki(e,t,n,r){var i=[],a=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=Wi(e,n),$i.includes(n.name)?r.push(n):a.push(n);else{if(Ui.Oc(n))return[];n=Ui.zc(t,n.trim()),i.push(new Bi(n,a)),a=[]}})),i}function Wi(e,t){var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new he(2,4,4016,t);var i,a=r[1],o=r[2];if(r=[],o){var s;(s=Vi(o=new zi(o),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var l=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=Vi(o,l);)r.push(new Oi(s[1],s[2]||s[3]))}return new Mi(n,a,r,i)}var $i="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Xi="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function Yi(e){try{var t=Yi.parse(e);return ye({uri:e,$c:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return ve(n)}}function Qi(){var e=this;this.c=this.g=null,this.$=1,this.D=new Map,this.T=new Set,this.a=new Map,this.b=null,this.v="",this.o=new Hi,this.P=0,this.h=new ce((function(){!function(e){h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return e.g?(k(t,2),S(t,e.update(),4)):t.return();case 4:n=e.P,e.h.O(n),x(t,0);break;case 2:(r=A(t)).severity=1,e.g.onError(r),e.h.O(.1),E(t)}}))}))}(e)})),this.f=ga,this.m=null,this.C=0,this.G=1/0,this.i=new Re,this.M=[],this.l=new Map,this.W=!1}function Ji(e,t){return h((function n(){var r,i,a,o,s,l,u,c,d,f;return D(n,(function(n){switch(n.j){case 1:return r=Ui,i=ya,a=t.pe,S(n,da(e,a),2);case 2:if(o=n.s,1!=(s=qi(e.o,o.data,o.uri)).type)throw new he(2,4,4017);return u=(l=r.Ra(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(l.value):0,c=t.stream,S(n,oa(e,t.tc,s,u,c.mimeType,c.codecs),3);case 3:d=n.s,t.Pb.a=d,f=d[d.length-1],r.Ra(s.a,"EXT-X-ENDLIST")&&(pa(e,i.Oa),e.b.wa(f.endTime)),E(n)}}))}))}function Zi(e){e.forEach((function(e){var t=e.stream.codecs.split(",");t=t.filter((function(e){return"mp4a.40.34"!=e})),e.stream.codecs=t.join(",")}))}function ea(e,t,n,r,i){return{id:e.$++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function ta(e,t,n){return h((function r(){var i,a,o,s,l,u,c,d,f;return D(r,(function(r){switch(r.j){case 1:if(i=ua(t,"URI"),e.a.has(i))return r.return(e.a.get(i));if(a=ua(t,"TYPE").toLowerCase(),o=qt,"subtitles"==a&&(a=o.qa),s=In(ji(t,"LANGUAGE","und")),l=ji(t,"NAME"),u=t.getAttribute("DEFAULT"),c=t.getAttribute("AUTOSELECT"),d=ji(t,"CHANNELS"),"audio"==a)if(d){var h=d.split("/")[0];h=parseInt(h,10)}else h=null;else h=null;return S(r,na(e,i,n,a,s,!!u||!!c,l,h,null),2);case 2:return null==(f=r.s)?r.return(null):e.a.has(i)?r.return(e.a.get(i)):(e.D.set(t.id,f),e.a.set(i,f),r.return(f))}}))}))}function na(e,t,n,r,i,a,o,s,l){return h((function u(){var c,f,p,m,v,g,y,_,b,w,E,k,T,x,A,C,R,L,P,N,I,M,O,j,B;return D(u,(function(u){switch(u.j){case 1:return f=(c=Ui).zc(e.v,t),m="",S(u,da(e,f),2);case 2:if(g=u.s,f=g.uri,1!=(p=qi(e.o,g.data,f)).type)throw new he(2,4,4017);y=[],p.segments.forEach((function(e){e=c.lb(e.b,"EXT-X-KEY"),y.push.apply(y,e)})),_=!1,b=[],w=null;for(var U=d(y),z=U.next();!z.done;z=U.next())if(E=z.value,"NONE"!=(k=ua(E,"METHOD"))){if(_=!0,"AES-128"==k)return e.W=!0,u.return(null);T=ua(E,"KEYFORMAT"),(A=(x=va[T])?x(E):null)&&(A.keyIds.length&&(w=A.keyIds[0]),b.push(A))}if(_&&!b.length)throw new he(2,4,4026);return function(e,t){var n=ya,r=Ui.Ra(t.a,"EXT-X-PLAYLIST-TYPE"),i=Ui.Ra(t.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?pa(e,n.Oa):(pa(e,r?n.sd:n.ke),n=ca(t.a,"EXT-X-TARGETDURATION"),n=Number(n.value),e.C=Math.max(n,e.C),e.G=Math.min(n,e.G))}(e,p),m=function(e,t){if(1==t.length)return t[0];var n=la(e,t);if(null!=n)return n;throw new he(2,4,4025,t)}(r,n),S(u,function(e,t,n,r){return h((function i(){var a,o,s,l,u,c,d,f,h,p;return D(i,(function(i){switch(i.j){case 1:return a=qt,o=Ne,s=r.segments[0].a,l=new Y(s),u=l.ia.split(".").pop(),c=ha[t],(d=c[u])?i.return(d):t==a.qa?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=Me([s],e.c.retryParameters)).method="HEAD",S(i,ma(e,f,o.td),2));case 2:if(h=i.s,!(p=h.headers["content-type"]))throw new he(2,4,4021,u);return i.return(p.split(";")[0])}}))}))}(e,r,m,p),3);case 3:return v=u.s,R=(C=c.Ra(p.a,"EXT-X-MEDIA-SEQUENCE"))?Number(C.value):0,S(u,oa(e,t,p,R,v,m),4);case 4:return L=u.s,P=L[0].startTime,N=L[L.length-1].endTime,I=N-P,M=new oi(L),O=ra(p),j=void 0,"text"==r&&(j="subtitle"),B={id:e.$++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:M.find.bind(M),getSegmentReference:M.get.bind(M),initSegmentReference:O,presentationTimeOffset:0,mimeType:v,codecs:m,kind:j,encrypted:_,keyId:w,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:l},u.return({stream:B,Pb:M,drmInfos:b,tc:t,pe:f,Tc:P,qg:N,duration:I})}}))}))}function ra(e){var t=Ui.lb(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new he(2,4,4020);var n=ua(t=t[0],"URI"),r=Ui.zc(e.b,n);return e=0,n=null,(t=ji(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),n=(e=Number(e[1]))+t-1),new Wr((function(){return[r]}),e,n)}function ia(e,t,n,r){var i=t.b,a=t.a;t=ca(i,"EXTINF").value.split(","),t=r+Number(t[0]);var o=0,s=null;return(i=Ui.Ra(i,"EXT-X-BYTERANGE"))&&(o=i.value.split("@"),i=Number(o[0]),s=(o=o[1]?Number(o[1]):e.a+1)+i-1),new $r(n,r,t,(function(){return[a]}),o,s)}function aa(e){e.b&&(e.M.forEach((function(t){e.b.sb(t,0)})),e.M=[])}function oa(e,t,n,r,i,a){return h((function o(){var s,l,u,c,d,f,p,m,v,g;return D(o,(function(o){switch(o.j){case 1:return s=n.segments,l=[],u=s[0].a,c=ia(null,s[0],r,0),d=ra(n),S(o,function(e,t,n,r,i,a){return h((function o(){var s,l,u,c,d,f,h,p,m;return D(o,(function(o){switch(o.j){case 1:if(e.m&&(s=e.a.get(t),l=s.Pb,u=l.get(r.position)))return o.return(u.startTime);if("audio/mpeg"==i)return o.return(0);if("video/mp4"!=i&&"audio/mp4"!=i){o.A(2);break}return c=[sa(e,r)],n&&c.push(sa(e,n)),S(o,Promise.all(c),3);case 3:return d=o.s,f=d[0],h=d[1]||d[0],o.return(function(e,t){var n=0;if((new Zr).H("moov",ei).H("trak",ei).H("mdia",ei).ea("mdhd",(function(e){e.reader.L(0==e.version?8:16),n=e.reader.F(),e.parser.stop()})).parse(t,!0),!n)throw new he(2,4,4030);var r=0,i=!1;if((new Zr).H("moof",ei).H("traf",ei).ea("tfdt",(function(e){r=(0==e.version?e.reader.F():e.reader.yb())/n,i=!0,e.parser.stop()})).parse(e,!0),!i)throw new he(2,4,4030);return r}(f.data,h.data));case 2:if("video/mp2t"!=i){o.A(4);break}return S(o,sa(e,r),5);case 5:return p=o.s,o.return(function(e){function t(){throw new he(2,4,4030)}e=new Xr(new DataView(e),0);for(var n=0,r=0;;){if(n=e.ba(),71!=(r=e.ka())&&t(),16384&e.Mb()||t(),0!=(r=(48&e.ka())>>4)&&2!=r||t(),3==r&&(r=e.ka(),e.L(r)),1==e.F()>>8)return e.L(3),0!=(n=e.ka()>>6)&&1!=n||t(),0==e.ka()&&t(),(1073741824*((14&(n=e.ka()))>>1)+((65534&(r=e.Mb()))<<14|(65534&(e=e.Mb()))>>1))/9e4;e.seek(n+188),71!=(r=e.ka())&&(e.seek(n+192),r=e.ka()),71!=r&&(e.seek(n+204),r=e.ka()),71!=r&&t(),e.$d(1)}}(p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){o.A(6);break}return S(o,sa(e,r),7);case 7:return m=o.s,o.return(function(e,t,n){return e=Xe(e,t),vn(e)?(t=new pn(null),gn(t,e),t.Lc(n)):0}(i,a,m.data));case 6:throw new he(2,4,4030)}}))}))}(e,t,d,c,i,a),2);case 2:f=o.s,u.split("/").pop();for(var y=0;y<s.length;++y)p=s[y],m=l[l.length-1],v=0==y?f:m.endTime,g=ia(m,p,r+y,v),l.push(g);return e.M.push(l),aa(e),o.return(l)}}))}))}function sa(e,t){return h((function n(){var r,i,a,o,s,l;return D(n,(function(n){switch(n.j){case 1:return r=Ne,i=ki(t.c(),t.b,t.b+2048-1,e.c.retryParameters),a=ki(t.c(),t.b,t.a,e.c.retryParameters),k(n,2),S(n,ma(e,i,r.td),4);case 4:return o=n.s,n.return(o);case 2:if(7001==(s=A(n)).code)throw s;return W("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),S(n,ma(e,a,r.td),5);case 5:return l=n.s,n.return(l)}}))}))}function la(e,t){for(var n=fa[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return"text"==e?"":null}function ua(e,t){var n=e.getAttribute(t);if(!n)throw new he(2,4,4023,t);return n.value}function ca(e,t){var n=Ui.Ra(e,t);if(!n)throw new he(2,4,4024,t);return n}function da(e,t){return ma(e,Me([t],e.c.retryParameters),Ne.ng)}z("shaka.net.DataUriPlugin",Yi),Yi.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new he(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new he(2,1,1004,t);var r=n[0];n=e.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)t=dt(n).buffer;else{if(i)throw new he(2,1,1005,t);t=ot(n)}return{data:t,contentType:r[0]}},De("data",Yi),z("shaka.hls.HlsParser",Qi),(n=Qi.prototype).configure=function(e){this.c=e},n.start=function(e,t){var n=this;return h((function r(){var i,a;return D(r,(function(r){switch(r.j){case 1:return n.g=t,S(r,da(n,e),2);case 2:return i=r.s,n.v=i.uri,S(r,function(e,t){return h((function n(){var r,i,a,o,s,l,u,c,f,p,m;return D(n,(function(n){switch(n.j){case 1:if(0!=(r=qi(e.o,t,e.v)).type)throw new he(2,4,4022);return S(n,function(e,t){return h((function n(){var r,i,a,o,s,l,u,c,f,p,m,v;return D(n,(function(n){switch(n.j){case 1:return r=Ui,i=Vt,a=t.a,o=r.lb(t.a,"EXT-X-MEDIA"),s=o.filter(function(e){return"SUBTITLES"==ua(e,"TYPE")}.bind(e)),l=s.map(function(e){return function(e,t){return h((function n(){var r;return D(n,(function(n){switch(n.j){case 1:return ua(t,"TYPE"),S(n,ta(e,t,[]),2);case 2:return r=n.s,n.return(r.stream)}}))}))}(this,e)}.bind(e)),u=o.filter((function(e){return"CLOSED-CAPTIONS"==ua(e,"TYPE")})),function(e,t){for(var n=d(t),r=n.next();!r.done;r=n.next()){ua(r=r.value,"TYPE");var i=ji(r,"LANGUAGE")||"und";i=In(i);var a=ua(r,"GROUP-ID");r=ua(r,"INSTREAM-ID"),e.l.get(a)||e.l.set(a,new Map),e.l.get(a).set(r,i)}}(e,u),S(n,Promise.all(l),2);case 2:return c=n.s,f=r.lb(a,"EXT-X-STREAM-INF"),p=f.map(function(e){return function(e,t,n){return h((function r(){var i,a,o,s,l,u,c,f,p,m,v,g,y,_,b,w,E,k,T,x,A,C,R,L,P,N;return D(r,(function(r){switch(r.j){case 1:return i=qt,a=Ui,o=ji(t,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(e){for(var t=new Set,n=[],r=(e=d(e)).next();!r.done;r=e.next()){var i=Ye(r=r.value)[0];t.has(i)||(n.push(r),t.add(i))}return n}(o.split(/\s*,\s*/)),l=t.getAttribute("RESOLUTION"),c=u=null,f=ji(t,"FRAME-RATE"),p=Number(ua(t,"BANDWIDTH")),l&&(m=l.value.split("x"),u=m[0],c=m[1]),v=(v=a.lb(n.a,"EXT-X-MEDIA")).filter((function(e){return"CLOSED-CAPTIONS"!=ua(e,"TYPE")})),v=v.filter((function(e){var t=ji(e,"URI")||"";return"SUBTITLES"==(ji(e,"TYPE")||"")||""!=t})),g=ji(t,"AUDIO"),y=ji(t,"VIDEO"),g?v=a.Gc(v,"AUDIO",g):y&&(v=a.Gc(v,"VIDEO",y)),(_=la(i.qa,s))&&((b=ji(t,"SUBTITLES"))&&((w=a.Gc(v,"SUBTITLES",b)).length&&(e.D.get(w[0].id).stream.codecs=_)),Ae(s,_)),E=v.map(function(e){return ta(this,e,s)}.bind(e)),k=[],T=[],S(r,Promise.all(E),2);case 2:if(A=(A=r.s).filter((function(e){return null!=e})),g?k=A:y&&(T=A),R=!1,k.length||T.length?k.length?(P=ua(t,"URI"),N=k[0].tc,P==N?(C=i.Ab,R=!0):C=i.Na):C=i.Ab:1==s.length?(L=la(i.Na,s),C=l||f||L?i.Na:i.Ab):(C=i.Na,s=[s.join(",")]),R){r.A(3);break}return S(r,function(e,t,n,r){return h((function i(){var a,o,s,l,u;return D(i,(function(i){switch(i.j){case 1:return a=qt,o=ua(t,"URI"),e.a.has(o)?i.return(e.a.get(o)):(s=ji(t,"CLOSED-CAPTIONS"),l=null,r==a.Na&&s&&"NONE"!=s&&(l=e.l.get(s)),S(i,na(e,o,n,r,"und",!1,null,null,l),2));case 2:return null==(u=i.s)?i.return(null):e.a.has(o)?i.return(e.a.get(o)):(e.a.set(o,u),i.return(u))}}))}))}(e,t,s,C),4);case 4:x=r.s;case 3:if(x)x.stream.type==i.Ab?k=[x]:T=[x];else if(null===x)return r.return([]);return T&&Zi(T),k&&Zi(k),r.return(function(e,t,n,r,i,a,o){n.forEach(function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(o)||void 0)}.bind(e)),t.length||(t=[null]),n.length||(n=[null]);for(var s=[],l=(t=d(t)).next();!l.done;l=t.next()){l=l.value;for(var u=d(n),c=u.next();!c.done;c=u.next()){var f=c.value;c=l?l.stream:null;var h=f?f.stream:null,p=l?l.drmInfos:null,m=f?f.drmInfos:null;f=(f?f.tc:"")+" - "+(l?l.tc:"");var v=void 0;if(c&&h){if(p.length&&m.length&&!(0<Lt(p,m).length))continue;v=Lt(p,m)}else c?v=p:h&&(v=m);e.T.has(f)||(c=ea(e,c,h,r,v),s.push(c),e.T.add(f))}}return s}(e,k,T,p,u,c,f))}}))}))}(this,e,t)}.bind(e)),S(n,Promise.all(p),3);case 3:return m=n.s,v=(v=m.reduce(i.yc,[])).filter((function(e){return null!=e})),n.return({startTime:0,variants:v,textStreams:c})}}))}))}(e,r),2);case 2:if(i=n.s,!e.g)throw new he(2,7,7001);if(e.W&&0==i.variants.length)throw new he(2,4,4034);e.g.filterAllPeriods([i]),a=1/0,o=0,s=1/0;for(var v=d(e.a.values()),g=v.next();!g.done;g=v.next())l=g.value,a=Math.min(a,l.Tc),o=Math.max(o,l.Tc),"text"!=l.stream.type&&(s=Math.min(s,l.duration));if(e.f!=ya.Oa?(e.b=new Ei(0,3*e.C),e.b.Rb(!1)):(e.b=new Ei(null,0),e.b.Rb(!0)),aa(e),e.f!=ya.Oa){for(e.P=e.G,u=ya,e.f==u.sd&&(c=e.b.pc,isNaN(e.c.availabilityWindowOverride)||(c=e.c.availabilityWindowOverride),e.b.ld(c)),f=0;95443.7176888889<=o;)f+=95443.7176888889,o-=95443.7176888889;if(f)for(g=(v=d(e.a.values())).next();!g.done;g=v.next())95443.7176888889>(p=g.value).Tc&&(p.stream.presentationTimeOffset=-f,p.Pb.offset(f))}else for(e.b.wa(s),e.b.offset(-a),g=(v=d(e.a.values())).next();!g.done;g=v.next())(m=g.value).stream.presentationTimeOffset=a,m.Pb.offset(-a),si(m.Pb,s);e.m={presentationTimeline:e.b,periods:[i],offlineSessionIds:[],minBufferTime:0},E(n)}}))}))}(n,i.data),3);case 3:return 0<(a=n.P)&&n.h.O(a),r.return(n.m)}}))}))},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.i&&(e.push(this.i.destroy()),this.i=null),this.c=this.g=null,this.D.clear(),this.T.clear(),this.a.clear(),this.m=null,Promise.all(e)},n.update=function(){if(this.f!=ya.Oa){for(var e=[],t=d(this.a.values()),n=t.next();!n.done;n=t.next())e.push(Ji(this,n.value));return Promise.all(e)}},n.onExpirationUpdated=function(){};var fa={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},ha={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function pa(e,t){e.f=t,e.b&&e.b.Rb(e.f==ya.Oa),e.f!=ya.Oa||e.h.stop()}function ma(e,t,n){if(!e.i)throw new he(2,7,7001);return t=e.g.networkingEngine.request(n,t),Le(e.i,t),t.promise}var va={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=ua(e,"METHOD");return er("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(t)?(t=ua(e,"URI"),t=Yi.parse(t),t=Ht("com.widevine.alpha",[{initDataType:"cenc",initData:t=new Uint8Array(t.data)}]),(e=ji(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):null}},ga="VOD",ya={Oa:ga,ke:"EVENT",sd:"LIVE"};function _a(){this.a=new Map}function ba(e,t,n){wa(e,t).text=n}function wa(e,t){return e.a.has(t)||e.a.set(t,new Sa),e.a.get(t)}function Sa(){this.text=this.variant=null}function Ea(e,t){this.a=e,this.b=new Set([e]);for(var n=d(t=t||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function ka(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Ta(n,r)&&xa(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Ta(n=e.video,r=t.video)&&xa(n.roles,r.roles))),!n}function Ta(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return Ye(e)[0]})),r=t.codecs.split(",").map((function(e){return Ye(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function xa(e,t){var n=new Set(e),r=new Set(t);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=d(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Aa(e){this.a=e,this.b=new Ca(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)}function Ca(e,t,n){this.c=e,this.b=t,this.a=n}function Ra(e,t){this.a=Pa,this.b=(new Map).set(Pa,t).set(La,e)}Si.dd("m3u8",Qi),Si.Nb("application/x-mpegurl",Qi),Si.Nb("application/vnd.apple.mpegurl",Qi),Ea.prototype.add=function(e){return!!ka(this.a,e)&&(this.b.add(e),!0)},Ea.prototype.values=function(){return this.b.values()},Aa.prototype.create=function(e){var t=this,n=e.filter((function(e){return ka(t.a,e)}));return n.length?new Ea(n[0],n):this.b.create(e)},Ca.prototype.create=function(e){var t=[];t=function(e,t){var n=In(t),r=Mn(n,e.map((function(e){return Dn(e)})));return r?e.filter((function(e){return r==Dn(e)})):[]}(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&(e=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))}(t,this.b),e.length&&(t=e)),this.a&&((e=Wn(t,this.a)).length&&(t=e)),e=new Ea(t[0]),n=(t=d(t)).next();!n.done;n=t.next())n=n.value,ka(e.a,n)&&e.add(n);return e};var La=0,Pa=1;function Na(e,t){this.f=e,this.g=Da(e),this.b=e.a.currentTime,this.c=Date.now()/1e3,this.h=t,this.a=function(){}}function Ia(e){this.a=e}function Da(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r||e>i-.5)){t=!0;break e}}t=!1}return t}function Ma(e,t,n,r,i){var a=this;this.a=e,this.v=t,this.o=n,this.l=i,this.f=new Ge,this.i=!1,this.m=e.readyState,this.c=!1,this.b=r,this.h=!1,this.f.w(e,"waiting",(function(){return Oa(a)})),this.g=new ce((function(){Oa(a)})).La(.25)}function Oa(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.i)return}else e.i=!1;if(!e.a.paused){e.a.readyState!=e.m&&(e.c=!1,e.m=e.a.readyState);var t=e.o.smallGapLimit,n=e.a.currentTime,r=e.a.buffered;e:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=et("Edge/")||et("Trident/")||et("Tizen")||et("CrKey")?.5:.1,a=0;a<r.length;a++)if(r.start(a)>n&&(0==a||r.end(a-1)-n<=i)){i=a;break e}i=null}if(null==i)e.b&&(r=Da(n=(e=e.b).f),n=n.a.currentTime,i=Date.now()/1e3,e.b==n&&e.g==r||(e.c=i,e.b=n,e.g=r),(n=i-e.c)>=e.h&&r&&e.a(e.b,n));else if(0!=i||e.h){a=r.start(i);var o=e.v.za();if(!(a>=o)){t=(o=a-n)<=t;var s=!1;.001>o||(t||e.c||(e.c=!0,(n=new Se("largegap",{currentTime:n,gapSize:o})).cancelable=!0,e.l(n),e.o.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!t&&!s)||(0!=i&&r.end(i-1),e.a.currentTime=a)}}}}}function ja(e){var t=this;this.c=e,this.a=new Set,this.b=new ce((function(){Ba(t,!1)})).La(.25)}function Ba(e,t){for(var n=d(e.a),r=n.next();!r.done;r=n.next())r.value.g(e.c.currentTime,t)}function Ua(e){for(var t=[],n=(e=d(e)).next();!n.done;n=e.next())for(var r=(n=d(n.value.variants)).next();!r.done;r=n.next())t.push(r.value);return t}function za(e,t){for(var n=null,r=d(e),i=r.next();!i.done;i=r.next())t>=(i=i.value).startTime&&(n=i);return n}function Fa(e){this.c=e,this.a=null,this.b=function(){}}function Va(e){var t=this;this.a=e,this.f=!1,this.c=this.a.ec(),this.b=new ce((function(){t.a.Id(.25*t.c)}))}function Ga(e){e.b.stop();var t=e.f?0:e.c;if(0<=t)try{return void(e.a.ec()!=t&&e.a.kd(t))}catch(n){}e.b.La(.25),0!=e.a.ec()&&e.a.kd(0)}function Ha(e,t,n){this.a=e,this.f=t,this.g=n,this.b=new Ge,this.c=new Xa(e),0<e.readyState?Wa(this,n):Ka(this,n)}function qa(e){return 0<e.a.readyState?e.a.currentTime:e.g}function Ka(e,t){e.g=t,e.b.da(e.a,"loadedmetadata"),e.b.ha(e.a,"loadedmetadata",(function(){Wa(e,t)}))}function Wa(e,t){.001>Math.abs(e.a.currentTime-t)?$a(e):(e.b.ha(e.a,"seeking",(function(){$a(e)})),Ya(e.c,0==e.a.currentTime?t:e.a.currentTime))}function $a(e){e.b.w(e.a,"seeking",(function(){return e.f()}))}function Xa(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new ce((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function Ya(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.La(.1)}function Qa(e){function t(){n.f=!0,null!=n.b&&(n.a.currentTime=n.b)}var n=this;this.a=e,this.f=!1,this.b=null,this.c=new Ge,0==this.a.readyState?this.c.ha(this.a,"loadedmetadata",t):t()}function Ja(e,t,n,r,i,a){var o=this;this.b=e,this.a=t.presentationTimeline,this.C=t.minBufferTime||0,this.g=n,this.v=i,this.l=null,this.f=new Ma(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,r=new Na(new Ia(e),t.stallThreshold);return function(e,t){e.a=t}(r,(function(){e.currentTime+=n})),r}(e,n),a),this.c=new Ha(e,(function(){var e=o.f;e.i=!0,e.h=!1,e.c=!1;var t=qa(o.c);return e=eo(o,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!o.l||o.l<t-1)?(o.l=t,0<(t=o.c).a.readyState?Ya(t.c,e):Ka(t,e),e=void 0):(o.v(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.Y()?e.a.mb():e.a.za():0>t&&(t=e.a.za()+t),Za(e,to(e,t))}(this,r)),this.i=new ce((function(){if(0!=o.b.readyState&&!o.b.paused){var e=o.b.currentTime,t=o.a.mb(),n=o.a.za();3>n-t&&(t=n-3),e<t&&(e=eo(o,e),o.b.currentTime=e)}})).La(.25)}function Za(e,t){var n=e.a.Y();return t>=n?n-e.g.durationBackoff:t}function eo(e,t){var n=Ut.bind(null,e.b.buffered),r=Math.max(e.C,e.g.rebufferingGoal),i=e.g.safeSeekOffset,a=e.a.mb(),o=e.a.za(),s=e.a.Y();3>o-a&&(a=o-3);var l=e.a.Gb(r),u=e.a.Gb(i);return r=e.a.Gb(r+i),t>=s?Za(e,t):t>o?o:t<a?n(u)?u:r:t>=l||n(t)?t:r}function to(e,t){var n=e.a.mb();return t<n||t>(n=e.a.za())?n:t}function no(){this.b=function(){},this.a=new Set}function ro(e){var t=this;this.h=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{bb:null,ab:ao,Ua:function(e,n){return t.a(e,n)}},{bb:io,ab:ao,Ua:function(e,n){return t.a(e,n)}},{bb:oo,ab:ao,Ua:function(e,n){return t.a(e,n)}},{bb:ao,ab:io,Ua:function(e,n){return t.b(e,n)}},{bb:ao,ab:oo,Ua:function(e,n){return t.b(e,n)}},{bb:io,ab:oo,Ua:function(e,n){return t.c(e,n)}},{bb:oo,ab:io,Ua:function(e,n){return t.c(e,n)}}]}Na.prototype.release=function(){this.f=null,this.a=function(){}},Ma.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.v=this.l=null},Ma.prototype.Yc=function(){this.h=!0,Oa(this)},ja.prototype.release=function(){this.b.stop();for(var e=d(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},Fa.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Fa.prototype.g=function(e){var t=this.a,n=this.c.periods;t!=(e=za(n,e)||n[0])&&this.b(e),this.a=e},Va.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},Va.prototype.set=function(e){this.c=e,Ga(this)},Ha.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},Xa.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Qa.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.a=null},Qa.prototype.m=function(e){this.b=this.f?this.b:e},Qa.prototype.h=function(){return(this.f?this.a.currentTime:this.b)||0},Qa.prototype.o=function(){},Ja.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.i&&(this.i.stop(),this.i=null),this.b=this.c=this.a=this.g=null,this.v=function(){}},Ja.prototype.m=function(e){var t=this.c;0<t.a.readyState?Ya(t.c,e):Ka(t,e)},Ja.prototype.h=function(){var e=qa(this.c);return 0<this.b.readyState&&!this.b.paused?to(this,e):e},Ja.prototype.o=function(){this.f.Yc()},no.prototype.release=function(){this.b=function(){},this.a.clear()},ro.prototype.release=function(){this.h=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},ro.prototype.g=function(e,t){for(var n=d(this.h.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),a=e<r.startTime?io:e>r.endTime?oo:ao;this.f.set(r,a);for(var o=d(this.i),s=o.next();!s.done;s=o.next())(s=s.value).bb==i&&s.ab==a&&s.Ua(r,t)}};var io=1,ao=2,oo=3;function so(e,t){this.a=t,this.c=e,this.g=null,this.l=1,this.v=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.o=!1,this.G=null,this.D=this.f=this.m=!1,this.C=0}function lo(e){return co(e,"audio")}function uo(e){return co(e,"video")}function co(e,t){var n=e.b.get(t);return n?n.Ia||n.stream:null}function fo(e,t){return h((function n(){var r,i,a,o,s,l,u,c,d;return D(n,(function(n){switch(n.j){case 1:return r=qt,S(n,An(e.a.I,r.qa),2);case 2:return e.C++,e.D=!1,i=e.C,a=e.a.I,o=new Map,s=new Set,o.set(r.qa,t),s.add(t),S(n,a.init(o,!1),3);case 3:return e.f?n.return():S(n,bo(e,s),4);case 4:if(e.f)return n.return();l=e.a.I.g.isTextVisible()||e.g.alwaysStreamText,e.C!=i||e.b.has(r.qa)||e.D||!l||(u=e.a.Sa(),c=xo(e,u),d=yo(t,c,0),e.b.set(r.qa,d),Lo(e,d,0)),E(n)}}))}))}function ho(e,t){var n=e.b.get("video");if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.Ia&&(mo(e,i,!1,0,!1),n.Ia=r)}else(r=n.Ia)&&(n.Ia=null,mo(e,r,!0,0,!1))}}function po(e,t,n,r){t.video&&mo(e,t.video,n,r,!1),t.audio&&mo(e,t.audio,n,r,!1)}function mo(e,t,n,r,i){var a=e.b.get(t.type);if(!a&&"text"==t.type&&e.g.ignoreTextStreamFailures)fo(e,t);else if(a){var o=Ao(e,t),s=Array.from(e.b.values()).every((function(e){return e.pa==a.pa}));n&&o!=a.pa&&s?e.b.forEach((function(t){vo(e,t)})):(a.Ia&&(t.trickModeVideo?(a.Ia=t,t=t.trickModeVideo):a.Ia=null),(s=e.h[o])&&s.zb&&(s=e.i.get(t.id))&&s.zb&&(a.stream!=t||i)&&("text"==t.type&&Sn(e.a.I,Xe(t.mimeType,t.codecs)),a.stream=t,a.hc=!0,function(e,t,n){if(!t.Kb)return!1;var r=e.a.Sa(),i=kn(e.a.I,t.type);if(n=(n=Eo(e,t,r,i,n))&&n.a?n.a-n.b:null,null==n)return!1;var a=t.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=e.a.getBandwidthEstimate(),8*n/a<i-r-Math.max(e.c.minBufferTime||0,e.g.rebufferingGoal)||t.Kb.b.a>n}(e,a,o)&&a.Kb.abort(),n&&(a.Pa?a.uc=!0:a.Ha?(a.Ma=!0,a.Zb=r,a.uc=!0):(Po(a),Ro(e,a,!0,r).catch((function(t){e.a&&e.a.onError(t)}))))))}}function vo(e,t){t.Pa||t.Ma||(t.Ha?(t.Ma=!0,t.Zb=0):null==En(e.a.I,t.type)?null==t.Da&&Lo(e,t,0):(Po(t),Ro(e,t,!1,0).catch((function(t){e.a&&e.a.onError(t)}))))}function go(e,t,n,r,i){return h((function a(){var o,s,l,u,c,d,f;return D(a,(function(a){switch(a.j){case 1:return o=e.a.Sa(),s=xo(e,o),l=qt,u=new Map,c=new Set,t&&(u.set(l.Ab,t),c.add(t)),n&&(u.set(l.Na,n),c.add(n)),r&&(u.set(l.qa,r),c.add(r)),d=e.a.I,f=e.g.forceTransmuxTS,S(a,d.init(u,f),2);case 2:return e.f?a.return():(function(e){var t=e.c.presentationTimeline.Y();1/0>t?e.a.I.wa(t):e.a.I.wa(Math.pow(2,32))}(e),S(a,bo(e,c),3));case 3:if(e.f)return a.return();u.forEach((function(t,n){if(!e.b.has(n)){var r=yo(t,s,i);e.b.set(n,r),Lo(e,r,0)}})),E(a)}}))}))}function yo(e,t,n){return{stream:e,type:e.type,pb:null,Aa:null,Ia:null,hc:!0,pa:t,endOfStream:!1,Ha:!1,Da:null,Ma:!1,Zb:0,uc:!1,Pa:!1,cd:!1,Ib:!1,Zd:n||0,Kb:null}}function _o(e,t){var n=e.h[t];if(n)return n.promise;n={promise:new pe,zb:!1},e.h[t]=n;for(var r=new Set,i=d(e.c.periods[t].variants),a=i.next();!a.done;a=i.next())(a=a.value).video&&r.add(a.video),a.video&&a.video.trickModeVideo&&r.add(a.video.trickModeVideo),a.audio&&r.add(a.audio);for(a=(i=d(e.c.periods[t].textStreams)).next();!a.done;a=i.next())r.add(a.value);return e.v=e.v.then(function(){if(!this.f)return bo(this,r)}.bind(e)).then(function(){this.f||(this.h[t].promise.resolve(),this.h[t].zb=!0)}.bind(e)).catch(function(e){this.f||(this.h[t].promise.catch((function(){})),this.h[t].promise.reject(),delete this.h[t],this.a.onError(e))}.bind(e)),n.promise}function bo(e,t){return h((function n(){var r,i,a,o,s,l,u;return D(n,(function(n){switch(n.j){case 1:r=[];for(var c=d(t),f=c.next();!f.done;f=c.next())i=f.value,(a=e.i.get(i.id))?r.push(a.promise):(e.i.set(i.id,{promise:new pe,zb:!1}),r.push(i.createSegmentIndex()));return k(n,2),S(n,Promise.all(r),4);case 4:if(e.f)return n.return();x(n,3);break;case 2:if(o=A(n),e.f)return n.return();for(f=(n=d(t)).next();!f.done;f=n.next())s=f.value,e.i.get(s.id).promise.catch((function(){})),e.i.get(s.id).promise.reject(),e.i.delete(s.id);throw o;case 3:for(f=(c=d(t)).next();!f.done;f=c.next())l=f.value,(u=e.i.get(l.id)).zb||(u.promise.resolve(),u.zb=!0);E(n)}}))}))}function wo(e,t){if(!e.f&&!t.Ha&&null!=t.Da&&!t.Pa)if(t.Da=null,t.Ma)Ro(e,t,t.uc,t.Zb);else{try{var n=function(e,t){function n(e){return"text"==e.type&&"application/cea-608"==e.stream.mimeType}if(n(t))return e.a.I.rc(t.stream.originalId||""),null;var r=e.a.Sa(),i=So(e,t,r),a=Ao(e,t.stream),o=xo(e,i),s=function(e,t,n){return"text"==t?null==(e=e.a).b||e.b<n?0:e.b-Math.max(n,e.a):zt(e=Tn(e,t),n)}(e.a.I,t.type,r),l=Math.max(e.c.minBufferTime||0,e.g.rebufferingGoal,e.g.bufferingGoal)*e.l;if(i>=e.c.presentationTimeline.Y())return t.endOfStream=!0,"video"==t.type&&(i=e.b.get("text"))&&"application/cea-608"==i.stream.mimeType&&(i.endOfStream=!0),null;if(t.endOfStream=!1,t.pa=o,o!=a)return null;if(s>=l)return.5;if(o=kn(e.a.I,t.type),o=Eo(e,t,r,o,a),!o)return 1;var u=1/0;return Array.from(e.b.values()).forEach((function(t){n(t)||(t=So(e,t,r),u=Math.min(u,t))})),i>=u+e.c.presentationTimeline.a?1:(t.Zd=0,function(e,t,n,r,i){var a=e.c.periods[r],o=t.stream,s=e.c.presentationTimeline.Y(),l=e.c.periods[r+1];r=function(e,t,n,r,i){return t.hc?(n=function(e,t,n,r,i){return"text"==t?(e.a.m=n,(e=e.a).f=r,e.h=i,Promise.resolve()):Promise.all([Cn(e,t,e.oe.bind(e,t)),Cn(e,t,e.Sf.bind(e,t,n)),Cn(e,t,e.Pf.bind(e,t,r,i))])}(e.a.I,t.type,e.c.periods[n].startTime-t.stream.presentationTimeOffset,r,i),t.stream.initSegmentReference?(e=Co(e,t,t.stream.initSegmentReference).then(function(e){if(!this.f)return xn(this.a.I,t.type,e,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size)}.bind(e)).catch((function(e){return t.hc=!0,Promise.reject(e)})),Promise.all([n,e])):n):Promise.resolve()}(e,t,r,Math.max(0,a.startTime-.1),l?l.startTime+.01:s),t.Ha=!0,t.hc=!1,s=Co(e,t,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.m)return function(e,t,n,r,i,a,o){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Zr).ea("emsg",e.M.bind(e,r,a,i.emsgSchemeIdUris)).parse(o),function(e,t,n){var r=Math.max(e.g.bufferBehind,e.c.presentationTimeline.a),i=En(e.a.I,t.type);return null==i?Promise.resolve():(n=n-i-r,0>=n?Promise.resolve():e.a.I.remove(t.type,i,i+n).then(function(){}.bind(e)))}(e,t,n).then(function(){if(!this.f)return xn(this.a.I,t.type,o,a.startTime+r.startTime,a.endTime+r.startTime,s)}.bind(e)).then(function(){if(!this.f)return t.pb=i,t.Aa=a,Promise.resolve()}.bind(e))}(this,t,n,a,o,i,e[1])}.bind(e)).then(function(){this.f||this.m||(t.Ha=!1,t.cd=!1,t.Ma||this.a.Yc(),Lo(this,t,0),function(e,t){if(!e.o){var n=Array.from(e.b.values());if(1==n.length&&"text"==n[0].type||(e.o=n.every((function(e){return"text"==e.type||!e.Ma&&!e.Pa&&e.Aa}))),e.o){for(n=Ao(e,t),e.h[n]||_o(e,n).then(function(){this.f||this.a.Kd()}.bind(e)).catch(Vt.ic),n=0;n<e.c.periods.length;++n)_o(e,n).catch(Vt.ic);e.a.sf&&e.a.sf()}}}(this,o))}.bind(e)).catch(function(e){this.f||this.m||(t.Ha=!1,"text"==t.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==e.code?(t.Ha=!1,t.Da=null,Lo(this,t,0)):3017==e.code?function(e,t,n){if(!Array.from(e.b.values()).some((function(e){return e!=t&&e.cd}))){var r=Math.round(100*e.l);if(20<r)e.l-=.2;else{if(!(4<r))return t.Ib=!0,e.m=!0,void e.a.onError(n);e.l-=.04}t.cd=!0}Lo(e,t,4)}(this,t,e):(t.Ib=!0,e.severity=2,No(this,e)))}.bind(e))}(e,t,r,a,o),null)}(e,t);null!=n&&(Lo(e,t,n),t.Ib=!1)}catch(r){return void No(e,r)}n=Array.from(e.b.values()),function(e,t){var n=Ao(e,t.stream);if(t.pa!=n){var r=t.pa,i=Array.from(e.b.values());i.every((function(e){return e.pa==r}))&&i.every(To)&&_o(e,r).then(function(){if(!this.f&&i.every(function(e){var t=To(e),n=Ao(this,e.stream);return t&&e.pa==r&&n!=r}.bind(this))){var e=this.c.periods[r],t=this.a.Ld(e),n=new Map;t.variant&&t.variant.video&&n.set("video",t.variant.video),t.variant&&t.variant.audio&&n.set("audio",t.variant.audio),t.text&&n.set("text",t.text);var a=d(this.b.keys());for(t=a.next();!t.done;t=a.next())if(t=t.value,!n.has(t)&&"text"!=t)return void this.a.onError(new he(2,5,5005));for(t=(a=d(Array.from(n.keys()))).next();!t.done;t=a.next())if(t=t.value,!this.b.has(t)){if("text"!=t)return void this.a.onError(new he(2,5,5005));go(this,null,null,n.get("text"),e.startTime),n.delete(t)}for(t=(e=d(Array.from(this.b.keys()))).next();!t.done;t=e.next())t=t.value,(a=n.get(t))?(mo(this,a,!1,0,!1),Lo(this,this.b.get(t),0)):this.b.delete(t);this.a.Kd()}}.bind(e)).catch(Vt.ic)}}(e,t),e.o&&n.every((function(e){return e.endOfStream}))&&e.a.I.endOfStream().then(function(){if(!this.f){var e=this.a.I.Y();0!=e&&e<this.c.presentationTimeline.Y()&&this.c.presentationTimeline.wa(e)}}.bind(e))}}function So(e,t,n){return t.pb&&t.Aa?(n=Ao(e,t.pb),e.c.periods[n].startTime+t.Aa.endTime):Math.max(n,t.Zd)}function Eo(e,t,n,r,i){if(t.Aa&&t.stream==t.pb)return ko(e,t,i,t.Aa.position+1);if(t.Aa?(n=Ao(e,t.pb),n=t.stream.findSegmentPosition(Math.max(0,e.c.periods[n].startTime+t.Aa.endTime-e.c.periods[i].startTime))):n=t.stream.findSegmentPosition(Math.max(0,(r||n)-e.c.periods[i].startTime)),null==n)return null;var a=null;return null==r&&(a=ko(e,t,i,Math.max(0,n-1))),a||ko(e,t,i,n)}function ko(e,t,n,r){return n=e.c.periods[n],(t=t.stream.getSegmentReference(r))?(e=(r=e.c.presentationTimeline).Hb(),r=r.nb(),n.startTime+t.endTime<e||n.startTime+t.startTime>r?null:t):null}function To(e){return!e.Ha&&null==e.Da&&!e.Ma&&!e.Pa}function xo(e,t){var n=za(e.c.periods,t+Kt);return n?e.c.periods.indexOf(n):0}function Ao(e,t){for(var n=e.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=d(i.variants),s=o.next();!s.done;s=o.next())(s=s.value).audio&&a.add(s.audio),s.video&&a.add(s.video),s.video&&s.video.trickModeVideo&&a.add(s.video.trickModeVideo);for(o=(i=d(i.textStreams)).next();!o.done;o=i.next())a.add(o.value);if(a.has(t))return r}return-1}function Co(e,t,n){return n=ki(n.c(),n.b,n.a,e.g.retryParameters),e=e.a.rb.request(1,n),t.Kb=e,e.promise.then((function(e){return t.Kb=null,e.data}))}function Ro(e,t,n,r){return h((function i(){var a,o,s;return D(i,(function(i){switch(i.j){case 1:return t.Ma=!1,t.uc=!1,t.Zb=0,t.Pa=!0,r?(o=e.a.Sa(),s=e.a.I.Y(),a=e.a.I.remove(t.type,o+r,s)):a=An(e.a.I,t.type).then(function(){if(!this.f&&n)return this.a.I.flush(t.type)}.bind(e)),S(i,a,2);case 2:if(e.f)return i.return();t.pb=null,t.Aa=null,t.Pa=!1,t.endOfStream=!1,Lo(e,t,0),E(i)}}))}))}function Lo(e,t,n){t.Da=new ue((function(){return h((function n(){var r;return D(n,(function(n){switch(n.j){case 1:return k(n,2),S(n,wo(e,t),4);case 4:x(n,0);break;case 2:r=A(n),e.a&&e.a.onError(r),E(n)}}))}))})).O(n)}function Po(e){null!=e.Da&&(e.Da.stop(),e.Da=null)}function No(e,t){fe(e.G).then(function(){this.f||(this.a.onError(t),t.handled||this.g.failureCallback(t))}.bind(e))}function Io(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,$c:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=at(t)}catch(o){}throw new he(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function Do(e,t,n,r){var i=new Do.b;We(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new Do.a,o={ud:!1,ge:!1};if(e=new me(e=Do.l(e,n,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,r),(function(){return o.ud=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new ce((function(){o.ge=!0,a.abort()}));s.O(t/1e3),e.finally((function(){s.stop()}))}return e}function Mo(e,t,n,r){var i=new Mo.f,a=Date.now(),o=0,s=new Promise((function(s,l){for(var u in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){l(new he(1,1,7001,e,n))},i.onload=function(t){for(var r=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=d(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Io(i,t.response,t.status,e,t.responseURL,n);s(o)}catch(u){l(u)}},i.onerror=function(t){l(new he(1,1,1002,e,t,n))},i.ontimeout=function(){l(new he(1,1,1003,e,n))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(r(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)i.setRequestHeader(u.toLowerCase(),t.headers[u]);i.send(t.body)}));return new me(s,(function(){return i.abort(),Promise.resolve()}))}function Oo(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function jo(e,t){this.g=e,this.b=new Map,this.c=!1,this.f=t,this.a=new Oo}function Bo(e,t,n,r,i){var a=function(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}(e.a,r);r=e.b.get(t)||Promise.resolve(),e.b.set(t,r.then((function(){return h((function t(){var r;return D(t,(function(t){switch(t.j){case 1:return S(t,function(e,t){return h((function n(){var r;return D(n,(function(n){switch(n.j){case 1:return S(n,e.g.request(1,t).promise,2);case 2:return r=n.s,n.return(r.data)}}))}))}(e,n),2);case 2:if(r=t.s,e.c)throw new he(2,9,7001);e.a.close(a,r.byteLength);var o=e.a;return e.f(0==o.b?0:o.f/o.b,e.a.a),t.return(i(r))}}))}))})))}function Uo(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new pe,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function zo(e,t){return new Promise((function(n,r){var i=e.b.openCursor();i.onerror=r,i.onsuccess=function(e){if(!(e=e.target.result))return n();t(e.key,e.value,e),e.continue()}}))}function Fo(e){this.b=e,this.a=[]}function Vo(e,t){return Ho(e,t,"readonly")}function Go(e,t){return Ho(e,t,"readwrite")}function Ho(e,t,n){var r=new Uo(n=e.b.transaction([t],n),t);return e.a.push(r),r.promise().then((function(){Ae(e.a,r)}),(function(){Ae(e.a,r)})),r}function qo(e){this.a=new Fo(e)}function Ko(){this.a=new Map}function Wo(e,t,n){if(!(e=e.a.get(t)))throw new he(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new he(2,9,9013,"Could not find cell with name "+n);return t}function $o(e,t){Xo.set(e,t)}so.prototype.destroy=function(){for(var e=d(this.b.values()),t=e.next();!t.done;t=e.next())Po(t.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.v=this.c=this.a=null,this.f=!0,Promise.resolve()},so.prototype.configure=function(e){this.g=e,this.G=new de({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},so.prototype.start=function(){var e=this;return h((function t(){var n,r,i;return D(t,(function(t){switch(t.j){case 1:return n=e.a.Sa(),r=xo(e,n),(i=e.a.Ld(e.c.periods[r])).variant||i.text?S(t,go(e,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):t.return(new he(2,5,5005));case 2:if(e.f)return t.return();e.a&&e.a.gf&&e.a.gf(),E(t)}}))}))},so.prototype.M=function(e,t,n,r){var i=r.reader.ad(),a=r.reader.ad(),o=r.reader.F(),s=r.reader.F(),l=r.reader.F(),u=r.reader.F();r=r.reader.Xa(r.reader.K.byteLength-r.reader.ba()),e=e.startTime+t.startTime+s/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.hf():this.a.onEvent(new Se("emsg",{detail:{startTime:e,endTime:e+l/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:l,id:u,messageData:r}})))},z("shaka.net.HttpFetchPlugin",Do),Do.l=function(e,t,n,r,i){return h((function a(){var o,s,l,u,c,d,f,p,m,v,g,y,_;return D(a,(function(a){switch(a.j){case 1:return o=Do.g,s=Do.c,d=c=0,f=Date.now(),k(a,2),S(a,o(e,n),4);case 4:return l=a.s,p=l.clone().body.getReader(),v=(m=l.headers.get("Content-Length"))?parseInt(m,10):0,g=function(e){!function t(){return h((function n(){var r,a;return D(n,(function(n){switch(n.j){case 1:return k(n,2),S(n,p.read(),4);case 4:r=n.s,x(n,3);break;case 2:return A(n),n.return();case 3:r.done||(c+=r.value.byteLength),(100<(a=Date.now())-f||r.done)&&(i(a-f,c-d,v-c),d=c,f=a),r.done?e.close():(e.enqueue(r.value),t()),E(n)}}))}))}()},new s({start:g}),S(a,l.arrayBuffer(),5);case 5:u=a.s,x(a,3);break;case 2:if(y=A(a),r.ud)throw new he(1,1,7001,e,t);if(r.ge)throw new he(1,1,1003,e,t);throw new he(1,1,1002,e,y,t);case 3:return _={},l.headers.forEach((function(e,t){_[t.trim()]=e})),a.return(Io(_,u,l.status,e,l.url,t))}}))}))},Do.isSupported=function(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(vc){return!1}return!(!e.fetch||!e.AbortController)},Do.isSupported=Do.isSupported,Do.g=e.fetch,Do.a=e.AbortController,Do.c=e.ReadableStream,Do.b=e.Headers,Do.isSupported()&&(De("http",Do,2),De("https",Do,2)),z("shaka.net.HttpXHRPlugin",Mo),Mo.f=e.XMLHttpRequest,De("http",Mo,1),De("https",Mo,1),Oo.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c.delete(e),this.f+=n,this.a+=t}},jo.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then((function(){}),(function(){}))},Uo.prototype.abort=function(){try{this.c.abort()}catch(vc){}return this.a.catch((function(){}))},Uo.prototype.store=function(){return this.b},Uo.prototype.promise=function(){return this.a},Fo.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},qo.prototype.destroy=function(){return this.a.destroy()},qo.prototype.getAll=function(){var e=this;return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return n=Vo(e.a,"session-ids"),r=[],S(t,zo(n,(function(e,t){r.push(t)})),2);case 2:return S(t,n.promise(),3);case 3:return t.return(r)}}))}))},qo.prototype.add=function(e){for(var t=Go(this.a,"session-ids"),n=t.store(),r=(e=d(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},qo.prototype.remove=function(e){var t=this;return h((function n(){var r;return D(n,(function(n){switch(n.j){case 1:return S(n,zo(r=Go(t.a,"session-ids"),(function(t,n,r){0<=e.indexOf(n.sessionId)&&r.delete()})),2);case 2:return S(n,r.promise(),0)}}))}))},Ko.prototype.destroy=function(){for(var e=[],t=d(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},Ko.prototype.init=function(){var e=this;Xo.forEach((function(t,n){var r=t();r&&e.a.set(n,r)}));for(var t=[],n=d(this.a.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},Ko.prototype.erase=function(){var e=this;return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return n=Array.from(e.a.values()),(r=0<n.length)||Xo.forEach((function(e){(e=e())&&n.push(e)})),S(t,Promise.all(n.map((function(e){return e.erase()}))),2);case 2:if(!r)return S(t,Promise.all(n.map((function(e){return e.destroy()}))),0);t.A(0)}}))}))},z("shaka.offline.StorageMuxer.register",$o),z("shaka.offline.StorageMuxer.unregister",(function(e){Xo.delete(e)}));var Xo=new Map;function Yo(e){this.a=new Fo(e)}function Qo(e){return Promise.reject(new he(2,9,9011,"Cannot add new value to "+e))}function Jo(e,t,n,r){var i=(e=Go(e.a,t)).store();return n.forEach((function(e){i.delete(e).onsuccess=function(){return r(e)}})),e.promise()}function Zo(e,t,n){var r=(e=Vo(e.a,t)).store(),i={},a=[];return n.forEach((function(e){r.get(e).onsuccess=function(t){void 0==(t=t.target.result)&&a.push(e),i[e]=t}})),e.promise().then((function(){return a.length?Promise.reject(new he(2,9,9012,"Could not find values for "+a)):n.map((function(e){return i[e]}))}))}function es(e){return{originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,periods:e.periods.map(ts),sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata}}function ts(e){return function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType})),n=e.streams.filter((function(e){return"video"==e.contentType}));if(!t.every((function(e){return e.variantIds}))||!n.every((function(e){return e.variantIds}))){t.forEach((function(e){e.variantIds=[]})),n.forEach((function(e){e.variantIds=[]}));var r=0;if(n.length&&!t.length){var i=r++;n.forEach((function(e){e.variantIds.push(i)}))}if(!n.length&&t.length){var a=r++;t.forEach((function(e){e.variantIds.push(a)}))}n.length&&t.length&&t.forEach((function(e){n.forEach((function(t){var n=r++;e.variantIds.push(n),t.variantIds.push(n)}))}))}}(e),e.streams.forEach((function(){})),{startTime:e.startTime,streams:e.streams.map(ns)}}function ns(e){var t=e.$e?as(e.$e):null;return{id:e.id,originalId:null,primary:e.primary,presentationTimeOffset:e.presentationTimeOffset,contentType:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:t,encrypted:e.encrypted,keyId:e.keyId,segments:e.segments.map(rs),variantIds:e.variantIds}}function rs(e){var t=as(e.uri);return{startTime:e.startTime,endTime:e.endTime,dataKey:t}}function is(e){return{data:e.data}}function as(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new he(2,9,9004,"Could not parse uri "+e)}function os(e,t,n,r){this.a=new Fo(e),this.c=t,this.b=n,this.f=r}function ss(e,t,n){if(e.f)return Promise.reject(new he(1,9,9011,"Cannot add new value to "+t));var r=(e=Go(e.a,t)).store(),i=[];return n.forEach((function(e){r.add(e).onsuccess=function(e){i.push(e.target.result)}})),e.promise().then((function(){return i}))}function ls(e,t,n,r){var i=(e=Go(e.a,t)).store();return n.forEach((function(e){i.delete(e).onsuccess=function(){return r(e)}})),e.promise()}function us(e,t,n){var r=(e=Vo(e.a,t)).store(),i={},a=[];return n.forEach((function(e){var t=r.get(e);t.onsuccess=function(){void 0==t.result&&a.push(e),i[e]=t.result}})),e.promise().then((function(){return a.length?Promise.reject(new he(1,9,9012,"Could not find values for "+a)):n.map((function(e){return i[e]}))}))}function cs(){this.g=this.c=this.b=this.a=this.f=null}function ds(e,t,n,r){this.a=e,this.g=t,this.f=n,this.c=r,this.b=["offline:",e,"/",t,"/",n,"/",r].join("")}function fs(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new ds(t,n,r,Number(e[4])):null}function hs(e,t){this.b=e,this.a=t}function ps(e,t,n){var r=t.streams.filter((function(e){return"audio"==e.contentType})),i=t.streams.filter((function(e){return"video"==e.contentType}));return r=function(e,t,n){for(var r=new Set,i=d(t),a=i.next();!a.done;a=i.next()){var o=d(a.value.variantIds);for(a=o.next();!a.done;a=o.next())r.add(a.value)}for(i=d(n),a=i.next();!a.done;a=i.next())for(o=d(a.value.variantIds),a=o.next();!a.done;a=o.next())r.add(a.value);for(i=new Map,r=d(r),a=r.next();!a.done;a=r.next())a=a.value,i.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(t=d(t),r=t.next();!r.done;r=t.next())for(r=r.value,a=ms(e,r),o=d(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=d(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=ms(e,r),a=d(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).primary=r.primary||t.primary,r.video=t;return i}(e,r,i),i=t.streams.filter((function(e){return"text"==e.contentType})).map((function(t){return ms(e,t)})),t.streams.forEach((function(r){r=r.segments.map((function(t,n){return vs(e,n,t)})),n.sb(r,t.startTime)})),{startTime:t.startTime,variants:Array.from(r.values()),textStreams:i}}function ms(e,t){var n=t.segments.map((function(t,n){return vs(e,n,t)})),r=new oi(n);return n={id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return r.find(e)},getSegmentReference:function(e){return r.get(e)},initSegmentReference:null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},null!=t.initSegmentKey&&(n.initSegmentReference=function(e,t){var n=new ds("segment",e.b,e.a,t);return new Wr((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey)),n}function vs(e,t,n){var r=new ds("segment",e.b,e.a,n.dataKey);return new $r(t,n.startTime,n.endTime,(function(){return[r.toString()]}),0,null)}function gs(){this.a=null}function ys(e){var t=fs(e);return t&&"manifest"==t.a?ys.h(e):t&&"segment"==t.a?ys.i(t.key(),t):ve(new he(2,1,9004,e))}function _s(e,t,n){return h((function r(){var i,a,o,s,l,u;return D(r,(function(r){switch(r.j){case 1:i=[];for(var c=[],f=d(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var m=!1,v=d(c),g=v.next();!g.done;g=v.next())if(bs((g=g.value).info,p)){g.sessionIds.push(p.sessionId),m=!0;break}m||c.push({info:p,sessionIds:[p.sessionId]})}a=d(c),o=a.next();case 2:if(o.done){r.A(4);break}return s=o.value,l=function(e,t,n){return h((function r(){var i,a;return D(r,(function(r){switch(r.j){case 1:return i=new vt({rb:t,onError:function(){},kc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),k(r,2),i.configure(e),S(r,function(e,t,n,r,i,a){var o=new Map;return o.set(t,{audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t,drmInfos:[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),kt(e,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:x(r,3);break;case 2:return A(r),S(r,i.destroy(),5);case 5:case 9:return r.return([]);case 3:return k(r,6),S(r,_t(i),8);case 8:x(r,7);break;case 6:return A(r),S(r,i.destroy(),9);case 7:return a=[],S(r,Promise.all(n.sessionIds.map((function(e){return h((function t(){return D(t,(function(t){switch(t.j){case 1:return k(t,2),S(t,function(e,t){return h((function n(){var r,i,a;return D(n,(function(n){switch(n.j){case 1:return S(n,Tt(e,t),2);case 2:return(r=n.s)?(i=[],(a=e.b.get(r))&&(a.xa=new pe,i.push(a.xa)),i.push(r.remove()),S(n,Promise.all(i),0)):n.return()}}))}))}(i,e),4);case 4:a.push(e),x(t,0);break;case 2:A(t),E(t)}}))}))}))),10);case 10:return S(r,i.destroy(),11);case 11:return r.return(a)}}))}))}(e,t,s),S(r,l,5);case 5:u=r.s,i=i.concat(u),o=a.next(),r.A(2);break;case 4:return r.return(i)}}))}))}function bs(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Ce(e.audioCapabilities,t.audioCapabilities,n)&&Ce(e.videoCapabilities,t.videoCapabilities,n)}function ws(e,t){var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},r=this;this.g=t,this.c=e,this.i=n,this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then((function(){return function(e){return h((function t(){return D(t,(function(t){if(1===t.j){if(e.l){if(0==e.f.length||e.a&&!e.a.Ta)var n=!1;else{e.a&&(e.a.ta.Wa(),e.a=null);var r=(n=e.f.shift()).create(e.i);r?(n.ta.tb(),e.a={node:r.node,payload:r.payload,Ta:r.Ta,ta:n.ta}):n.ta.lc(),n=!0}return n?n=Promise.resolve():e.a?n=function(e){return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return e.c=e.g.Pe(e.c,e.i,e.a.node,e.a.payload),k(t,2),e.b=e.g.ze(e.c,e.i,e.a.payload),S(t,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.ta.jc(),e.a=null),x(t,0);break;case 2:return 7001==(n=A(t)).code?e.a.ta.Wa():e.a.ta.onError(n),e.a=null,e.b=null,r=e,S(t,e.g.handleError(e.i,n),5);case 5:r.c=t.s,E(t)}}))}))}(e):(e.g.ff(e.c),e.h=new pe,n=e.h),S(t,n,1)}t.A(0)}}))}))}(r)}))}function Ss(e,t){var n={tb:function(){},jc:function(){},Wa:function(){},onError:function(){},lc:function(){},sg:function(){}};return e.f.push({create:t,ta:n}),e.b&&e.b.abort(),Es(e),n}function Es(e){e.h&&(e.h.resolve(),e.h=null)}function ks(e){this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Ts(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function xs(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n}function As(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var l=i+"."+a,u=o?r[i]:n[a];o||a in n?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=Te(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=Te(u)),l=As(e[a],t[a],u,r,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||t[a].constructor!=u.constructor?s=!1:e[a]=t[a]:s=!1}return s}function Cs(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function Rs(){}function Ls(){var e=5e5,t=1/0;navigator.connection&&(e=1e6*navigator.connection.downlink,navigator.connection.saveData&&(t=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1};et("Web0S")&&(i.stallEnabled=!1);var a={trackSelectionCallback:function(e){return e},progressCallback:function(){},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:Qn,abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=Mn(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return In(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var a=r.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),r=a.filter((function(e){return e.height==a[0].height}))),n=[],r.length){var o=Math.floor(r.length/2);r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[o])}for(r=d(e),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(e,o.preferredAudioLanguage)},o}function Ps(e,t,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return As(e,t,n||Ls(),r,"")}function Ns(){this.a=null,this.b=[]}function Is(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function Ds(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=d(e.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==t?i.duration:0;return n}function Ms(){this.b=this.c=null,this.a=[]}function Os(){this.f=this.l=this.b=this.h=this.i=this.g=this.m=NaN,this.a=new Ns,this.c=new Ms}function js(t,n){var r=this;ke.call(this),this.h=bl,this.a=null,this.eb=!1,this.i=new Ge,this.vc=this.l=this.Bb=this.c=this.m=this.f=this.Sb=this.P=this.Tb=this.W=this.gb=this.o=this.D=this.g=this.G=null,this.Hd=1e9,this.Wb=new Set,this.ib=!0,this.Ea=null,this.Dd=!1,this.Bd=0,this.na=null,this.$=new _a,this.b=Ks(this),this.Xb={width:1/0,height:1/0},this.v=null,this.Ub=new Ca(this.b.preferredAudioLanguage,this.b.preferredVariantRole,this.b.preferredAudioChannelCount),this.ma=this.b.preferredTextLanguage,this.cb=this.b.preferredTextRole,n&&n(this),this.G=function(e){return new Pe((function(t,n){e.l&&e.l.segmentDownloaded(t,n)}))}(this),this.i.w(e,"online",(function(){r.fd()})),this.C={name:"detach"},this.M={name:"attach"},this.Fa={name:"unload"},this.Ec={name:"manifest-parser"},this.Cc={name:"manifest"},this.fb={name:"media-source"},this.wc={name:"drm-engine"},this.T={name:"load"},this.Hc={name:"src-equals-drm-engine"},this.hb={name:"src-equals"};var i=new Map;i.set(this.M,(function(e,t){return _e(function(e,t,n){return null==t.u&&(t.u=n.u,e.i.w(t.u,"error",(function(){var t=sl(e);t&&e.Ka(t)}))),e.a=t.u,Promise.resolve()}(r,e,t))})),i.set(this.C,(function(e){return e.u&&(r.i.da(e.u,"error"),e.u=null),r.a=null,_e(e=Promise.resolve())})),i.set(this.Fa,(function(e){return _e(Fs(r,e))})),i.set(this.fb,(function(t){return t=function(t,n){return h((function r(){var i,a,o,s;return D(r,(function(r){switch(r.j){case 1:return i=e.muxjs?new Ot:new jt,a=t.b.textDisplayFactory,o=new a,t.xc=a,S(r,(s=new _n(n.u,i,o)).o,2);case 2:t.D=s,E(r)}}))}))}(r,t),_e(t)})),i.set(this.Ec,(function(e,t){var n=function(e,t,n){return h((function r(){var i,a,o;return D(r,(function(r){switch(r.j){case 1:if(t.ya=n.ya,t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,a=e.G,e.Bb=i,t.ya){e.m=t.ya(),r.A(2);break}return o=e,S(r,Si.create(i,a,e.b.manifest.retryParameters,t.mimeType),3);case 3:o.m=r.s;case 2:e.m.configure(e.b.manifest),E(r)}}))}))}(r,e,t);return _e(n)})),i.set(this.Cc,(function(e){return function(e,t){var n=t.uri,r=e.G;e.Sb=new no,function(e,t){e.b=t}(e.Sb,(function(t){ol(e,"timelineregionadded",t)}));var i={networkingEngine:r,filterNewPeriod:function(t){return e.Fc(t)},filterAllPeriods:function(t){return Ws(e,t)},onTimelineRegionAdded:function(t){var n=e.Sb;e:{for(var r=d(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return e.Ka(t)}};return new me(Promise.resolve().then((function(){return h((function t(){var r;return D(t,(function(t){switch(t.j){case 1:return r=e,S(t,e.m.start(n,i),2);case 2:if(r.c=t.s,e.dispatchEvent(new Se("manifestparsed")),0==e.c.periods.length)throw new he(2,4,4014);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&e.forEach((function(e){e.variants=e.variants.filter(t)}))}(e.c.periods),E(t)}}))}))})),(function(){return e.m.stop()}))}(r,e)})),i.set(this.wc,(function(){var e=function(e){return h((function t(){return D(t,(function(t){switch(t.j){case 1:return e.g=new vt({rb:e.G,onError:function(t){e.Ka(t)},kc:function(t){ll(e,t)},onExpirationUpdated:function(t,n){ul(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.g.configure(e.b.drm),S(t,gt(e.g,Ua(e.c.periods),e.c.offlineSessionIds),2);case 2:Ws(e,e.c.periods),E(t)}}))}))}(r);return _e(e)})),i.set(this.T,(function(e,t){return _e(function(e,t,n){return h((function r(){var i,a,o,s,l,u,c,f,h;return D(r,(function(r){switch(r.j){case 1:return t.startTime=n.startTime,i=t.u,a=t.uri,e.Bb=a,e.v=new Os,o=function(){return Qs(e)},s=function(){var t=e.a.playbackRate;0!=t&&e.W.set(t)},e.i.w(i,"playing",o),e.i.w(i,"pause",o),e.i.w(i,"ended",o),e.i.w(i,"ratechange",s),l=e.b.abrFactory,e.l&&e.vc==l||(e.vc=l,e.l=new l,e.l.configure(e.b.abr)),function(e,t){for(var n=0;n<t.length;n++){for(var r=t[n],i=new Map,a=d(r.variants),o=a.next();!o.done;o=a.next())if((o=o.value).video&&o.video.closedCaptions)for(var s=d((o=o.video).closedCaptions.keys()),l=s.next();!l.done;l=s.next())if(l=l.value,!i.has(l)){var u={id:e.Hd++,originalId:l,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(l),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};i.set(l,u)}for(a=(i=d(i.values())).next();!a.done;a=i.next())r.textStreams.push(a.value)}}(e,e.c.periods),e.Ub=new Ca(e.b.preferredAudioLanguage,e.b.preferredVariantRole,e.b.preferredAudioChannelCount),e.ma=e.b.preferredTextLanguage,function(e,t,n){0<t&&(e.V()||e.de(t)),n<e.Y()&&(e.V()||e.wa(n))}(e.c.presentationTimeline,e.b.playRangeStart,e.b.playRangeEnd),S(r,e.g.Cb(i),2);case 2:return e.l.init((function(t,n,r){n=void 0!==n&&n,r=void 0===r?0:r;e:{for(var i=d(e.c.periods),a=i.next();!a.done;a=i.next())if((a=a.value).variants.includes(t)){i=a;break e}i=null}Hs(e,i,t,!0),e.f&&(po(e.f,t,n,r),el(e))})),e.o=function(e,t){return new Ja(e.a,e.c,e.b.streaming,t,(function(){e.gb&&Ba(e.gb,!0),e.f&&function(e){function t(t){var i=e.a.I;return t="text"==t?null!=(t=i.a).a&&null!=t.b&&n>=t.a&&n<t.b:Ut(t=Tn(i,t),n,r)}var n=e.a.Sa(),r=e.g.smallGapLimit,i=xo(e,n);if(Ke(e.b.values(),(function(e){return e.pa==i})))for(var a=d(e.b.keys()),o=a.next();!o.done;o=a.next())t(o=o.value)||vo(e,e.b.get(o));else Ke(e.b.keys(),t)||e.b.forEach((function(t){vo(e,t)}))}(e.f)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.gb=function(e){var t=new Fa(e.c);!function(e,t){e.b=t}(t,(function(){tl(e)}));var n=new ro(e.Sb);!function(e,t,n,r){e.a=t,e.b=n,e.c=r}(n,(function(t){ol(e,"timelineregionenter",t)}),(function(t){ol(e,"timelineregionexit",t)}),(function(t,n){n||(ol(e,"timelineregionenter",t),ol(e,"timelineregionexit",t))}));var r=new ja(e.a);return r.a.add(t),r.a.add(n),r}(e),e.W=new Va({ec:function(){return t.u.playbackRate},kd:function(e){t.u.playbackRate=e},Id:function(e){t.u.currentTime+=e}}),u=Math.max(e.c.minBufferTime,e.b.streaming.rebufferingGoal),Vs(e,u),e.f=function(e){return new so(e.c,{Sa:function(){return e.o.h()},getBandwidthEstimate:function(){return e.l.getBandwidthEstimate()},I:e.D,rb:e.G,Ld:e.df.bind(e),Kd:e.te.bind(e),onError:e.Ka.bind(e),onEvent:function(t){return e.dispatchEvent(t)},hf:e.jf.bind(e),Yc:e.qf.bind(e)})}(e),e.f.configure(e.b.streaming),function(e){function t(e){var t="";e.video&&(t=Ye(e.video.codecs)[0]);var n="";return e.audio&&(n=Ye(e.audio.codecs)[0]),t+"-"+n}var n=e.c.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);n=Wn(n,e.b.preferredAudioChannelCount);var r=new Ee;n.forEach((function(e){var n=t(e);r.push(n,e)}));var i=null,a=1/0;r.forEach((function(e,t){var n=0,r=0;t.forEach((function(e){n+=e.bandwidth||0,++r}));var o=n/r;o<a&&(i=e,a=o)})),e.c.periods.forEach((function(e){e.variants=e.variants.filter((function(e){return t(e)==i}))}))}(e),e.h=wl,e.dispatchEvent(new Se("streaming")),S(r,e.f.start(),3);case 3:e.b.streaming.startAtSegmentBoundary&&(c=e.o.h(),f=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var r=lo(e.f),i=uo(e.f),a=pl(e);return r=n(r,t),i=n(i,t),null!=i&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t}(e,c),e.o.m(f)),e.c.periods.forEach(e.Fc.bind(e)),tl(e),el(e),(h=pl(e)).variants.some((function(e){return e.primary})),Js(e,h.variants),e.i.ha(i,"loadeddata",(function(){e.v.b=Date.now()/1e3-n.nd})),E(r)}}))}))}(r,e,t))})),i.set(this.Hc,(function(e){return e=function(e,t){return h((function n(){var r,i;return D(n,(function(n){switch(n.j){case 1:return r=qt,e.g=new vt({rb:e.G,onError:function(t){e.Ka(t)},kc:function(t){ll(e,t)},onExpirationUpdated:function(t,n){ul(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.g.configure(e.b.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},S(n,gt(e.g,[i],[]),2);case 2:return S(n,e.g.Cb(t.u),0)}}))}))}(r,e),_e(e)})),i.set(this.hb,(function(e,t){return function(e,t,n){function r(){return Qs(e)}if(t.uri=n.uri,t.startTime=n.startTime,e.Bb=t.uri,e.v=new Os,e.o=new Qa(t.u),null!=t.startTime&&e.o.m(t.startTime),e.W=new Va({ec:function(){return t.u.playbackRate},kd:function(e){t.u.playbackRate=e},Id:function(e){t.u.currentTime+=e}}),Vs(e,e.b.streaming.rebufferingGoal),e.i.w(t.u,"playing",r),e.i.w(t.u,"pause",r),e.i.w(t.u,"ended",r),e.i.ha(t.u,"loadeddata",(function(){e.v.b=Date.now()/1e3-n.nd})),e.a.audioTracks&&(e.i.w(e.a.audioTracks,"addtrack",(function(){return tl(e)})),e.i.w(e.a.audioTracks,"removetrack",(function(){return tl(e)}))),e.a.textTracks){var i=e.a.textTracks;e.i.w(i,"addtrack",(function(){return tl(e)})),e.i.w(i,"removetrack",(function(){return tl(e)}))}t.u.src=t.uri,e.h=Sl,e.dispatchEvent(new Se("streaming"));var a=new pe;return e.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?a.resolve():e.a.error?a.reject(sl(e)):(e.i.ha(e.a,"loadeddata",(function(){a.resolve()})),e.i.ha(e.a,"error",(function(){a.reject(sl(e))}))),new me(a,(function(){return a.reject(new he(2,7,7001)),Promise.resolve()}))}(r,e,t)})),this.jb=new ws(this.C,{Pe:function(e,t,n,i){var a=null;return e==r.C&&(a=n==r.C?r.C:r.M),e==r.M&&(a=n==r.C||t.u!=i.u?r.C:n==r.M?r.M:n==r.fb||n==r.T?r.fb:n==r.hb?r.Hc:null),e==r.fb&&(a=n==r.T&&t.u==i.u?r.Ec:r.Fa),e==r.Ec&&(a=gl(r.T,r.Cc,r.Fa,n,t,i)),e==r.Cc&&(a=gl(r.T,r.wc,r.Fa,n,t,i)),e==r.wc&&(a=gl(r.T,r.T,r.Fa,n,t,i)),e==r.Hc&&(a=n==r.hb&&t.u==i.u?r.hb:r.Fa),e!=r.T&&e!=r.hb||(a=r.Fa),e==r.Fa&&(a=i.u&&t.u==i.u?r.M:r.C),a},ze:function(e,t,n){return r.dispatchEvent(new Se("onstatechange",{state:e.name})),i.get(e)(t,n)},handleError:function(e){return h((function t(){return D(t,(function(t){switch(t.j){case 1:return S(t,Fs(r,e),2);case 2:return t.return(e.u?r.M:r.C)}}))}))},ff:function(e){r.dispatchEvent(new Se("onstateidle",{state:e.name}))}}),t&&this.Cb(t,!0)}(n=Yo.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Qo("segment")},n.removeSegments=function(e,t){return Jo(this,"segment",e,t)},n.getSegments=function(e){return Zo(this,"segment",e).then((function(e){return e.map(is)}))},n.addManifests=function(){return Qo("manifest")},n.updateManifestExpiration=function(e,t){var n=Go(this.a,"manifest"),r=n.store(),i=new pe;return r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new he(2,9,9012,"Could not find values for "+e))},n.promise().then((function(){return i}))},n.removeManifests=function(e,t){return Jo(this,"manifest",e,t)},n.getManifests=function(e){return Zo(this,"manifest",e).then((function(e){return e.map(es)}))},n.getAllManifests=function(){var e=this;return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return n=Vo(e.a,"manifest"),r=new Map,S(t,zo(n,(function(e,t){r.set(e,es(t))})),2);case 2:return S(t,n.promise(),3);case 3:return t.return(r)}}))}))},(n=os.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return this.f},n.addSegments=function(e){return ss(this,this.c,e)},n.removeSegments=function(e,t){return ls(this,this.c,e,t)},n.getSegments=function(e){return us(this,this.c,e)},n.addManifests=function(e){return ss(this,this.b,e)},n.updateManifestExpiration=function(e,t){var n=Go(this.a,this.b),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},n.removeManifests=function(e,t){return ls(this,this.b,e,t)},n.getManifests=function(e){return us(this,this.b,e)},n.getAllManifests=function(){var e=this;return h((function t(){var n,r;return D(t,(function(t){switch(t.j){case 1:return n=Vo(e.a,e.b),r=new Map,S(t,zo(n,(function(e,t){r.set(e,t)})),2);case 2:return S(t,n.promise(),3);case 3:return t.return(r)}}))}))},(n=cs.prototype).init=function(){var t=this,n=new pe,r=e.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(e){e=e.target.result,t.f=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new Yo(e):null,t.a=r,r=(r=e.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new os(e,"segment-v2","manifest-v2",!0):null,t.b=r,r=(r=e.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new os(e,"segment-v3","manifest-v3",!1):null,t.c=r,e=e.objectStoreNames.contains("session-ids")?new qo(e):null,t.g=e,n.resolve()},r.onupgradeneeded=function(e){e=e.target.result;for(var t=d(["segment-v3","manifest-v3","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(e){n.reject(new he(2,9,9001,r.error)),e.preventDefault()},n},n.destroy=function(){var e=this;return h((function t(){return D(t,(function(t){switch(t.j){case 1:if(!e.a){t.A(2);break}return S(t,e.a.destroy(),2);case 2:if(!e.b){t.A(4);break}return S(t,e.b.destroy(),4);case 4:if(!e.c){t.A(6);break}return S(t,e.c.destroy(),6);case 6:if(!e.g){t.A(8);break}return S(t,e.g.destroy(),8);case 8:e.f&&e.f.close(),E(t)}}))}))},n.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),e},n.getEmeSessionCell=function(){return this.g},n.erase=function(){var t=this;return h((function n(){return D(n,(function(n){switch(n.j){case 1:if(!t.a){n.A(2);break}return S(n,t.a.destroy(),2);case 2:if(!t.b){n.A(4);break}return S(n,t.b.destroy(),4);case 4:if(!t.c){n.A(6);break}return S(n,t.c.destroy(),6);case 6:return t.f&&t.f.close(),S(n,function(){var t=new pe,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new he(2,9,9001,n.error)),e.preventDefault()},t}(),8);case 8:return t.f=null,t.a=null,t.b=null,t.c=null,S(n,t.init(),0)}}))}))},$o("idb",(function(){return e.indexedDB?new cs:null})),ds.prototype.ua=function(){return this.g},ds.prototype.aa=function(){return this.f},ds.prototype.key=function(){return this.c},ds.prototype.toString=function(){return this.b},(n=gs.prototype).configure=function(){},n.start=function(e){var t=this;return h((function n(){var r,i,a,o,s;return D(n,(function(n){switch(n.j){case 1:return r=fs(e),t.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new he(2,1,9004,r))):(i=new Ko,T(n,2),S(n,i.init(),4));case 4:return S(n,Wo(i,r.ua(),r.aa()),5);case 5:return S(n,n.s.getManifests([r.key()]),6);case 6:return a=n.s,o=a[0],s=new hs(r.ua(),r.aa()),n.return(function(e,t){var n=new Ei(null,0);n.wa(t.duration);var r=t.periods.map((function(t){return ps(e,t,n)})),i=t.drmInfo?[t.drmInfo]:[];return t.drmInfo&&r.forEach((function(e){e.variants.forEach((function(e){e.drmInfos=i}))})),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,periods:r}}(s,o));case 2:return C(n),S(n,i.destroy(),7);case 7:R(n,0)}}))}))},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(e,t){var n=this;return h((function r(){var i,a,o,s,l,u,c;return D(r,(function(r){switch(r.j){case 1:return i=n.a,a=new Ko,k(r,2,3),S(r,a.init(),5);case 5:return S(r,Wo(a,i.ua(),i.aa()),6);case 6:return S(r,(o=r.s).getManifests([i.key()]),7);case 7:if(s=r.s,l=s[0],u=l.sessionIds.includes(e),c=void 0==l.expiration||l.expiration>t,!u||!c){r.A(3);break}return S(r,o.updateManifestExpiration(i.key(),t),3);case 3:return C(r),S(r,a.destroy(),10);case 10:R(r,0);break;case 2:A(r),r.A(3)}}))}))},Si.Nb("application/x-offline-manifest",gs),z("shaka.offline.OfflineScheme",ys),ys.h=function(e){return ye(e={uri:e,$c:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},ys.i=function(e,t){var n=new Ko;return ye(void 0).U((function(){return n.init()})).U((function(){return Wo(n,t.ua(),t.aa())})).U((function(e){return e.getSegments([t.key()])})).U((function(e){return{uri:t,$c:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))},De("offline",ys),ws.prototype.destroy=function(){var e=this;return h((function t(){return D(t,(function(t){switch(t.j){case 1:return e.l=!1,e.b&&e.b.abort(),Es(e),S(t,e.m,2);case 2:e.a&&e.a.ta.Wa();for(var n=d(e.f),r=n.next();!r.done;r=n.next())r.value.ta.Wa();e.a=null,e.f=[],e.g=null,E(t)}}))}))},z("shaka.text.SimpleTextDisplayer",ks),ks.prototype.remove=function(e,t){return!!this.a&&(xs(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},ks.prototype.remove=ks.prototype.remove,ks.prototype.append=function(e){for(var t=Ts,n=[],r=0;r<e.length;r++){var i=t(e[r]);i&&n.push(i)}n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach(function(e){this.a.addCue(e)}.bind(this))},ks.prototype.append=ks.prototype.append,ks.prototype.destroy=function(){return this.a&&xs(this.a,(function(){return!0})),this.a=null,Promise.resolve()},ks.prototype.destroy=ks.prototype.destroy,ks.prototype.isTextVisible=function(){return"showing"==this.a.mode},ks.prototype.isTextVisible=ks.prototype.isTextVisible,ks.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},ks.prototype.setTextVisibility=ks.prototype.setTextVisibility,z("shaka.util.ConfigUtils.mergeConfigObjects",As),z("shaka.util.ConfigUtils.convertToConfigObject",Cs),z("shaka.util.PlayerConfiguration",Rs),Rs.mergeConfigObjects=Ps,F(js,ke),z("shaka.Player",js),js.prototype.destroy=function(){var e=this;return h((function t(){var n;return D(t,(function(t){switch(t.j){case 1:return e.h==_l?t.return():(e.h=_l,n=Ss(e.jb,(function(){return{node:e.C,payload:{ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},Ta:!1}})),S(t,new Promise((function(e){n.tb=function(){},n.jc=function(){e()},n.Wa=function(){e()},n.onError=function(){e()},n.lc=function(){e()}})),2));case 2:return S(t,e.jb.destroy(),3);case 3:if(e.i&&(e.i.release(),e.i=null),e.vc=null,e.l=null,e.b=null,!e.G){t.A(0);break}return S(t,e.G.destroy(),5);case 5:e.G=null,E(t)}}))}))},js.prototype.destroy=js.prototype.destroy,js.version="v2.5.4";var Bs=["2","5"];rr=new function(e){this.a=e,this.c=tr,this.b=nr}(new Zn(Number(Bs[0]),Number(Bs[1])));var Us=["output-restricted","internal-error"],zs={};function Fs(e,t){return h((function n(){return D(n,(function(n){switch(n.j){case 1:if(e.h!=_l&&(e.h=bl),e.dispatchEvent(new Se("unloading")),t.ya=null,t.mimeType=null,t.startTime=null,t.uri=null,t.u&&(e.i.da(t.u,"loadeddata"),e.i.da(t.u,"playing"),e.i.da(t.u,"pause"),e.i.da(t.u,"ended"),e.i.da(t.u,"ratechange")),e.gb&&(e.gb.release(),e.gb=null),e.Tb&&(e.Tb.stop(),e.Tb=null),!e.m){n.A(2);break}return S(n,e.m.stop(),3);case 3:e.m=null;case 2:if(!e.l){n.A(4);break}return S(n,e.l.stop(),4);case 4:if(!e.f){n.A(6);break}return S(n,e.f.destroy(),7);case 7:e.f=null;case 6:if(e.o&&(e.o.release(),e.o=null),!e.D){n.A(8);break}return S(n,e.D.destroy(),9);case 9:e.D=null;case 8:if(t.u&&t.u.src&&(t.u.removeAttribute("src"),t.u.load()),!e.g){n.A(10);break}return S(n,e.g.destroy(),11);case 11:e.g=null;case 10:e.$.a.clear(),e.Bb=null,e.P=null,e.Wb.clear(),e.c=null,e.v=null,e.xc=null,e.ib=!0,Ys(e),E(n)}}))}))}function Vs(e,t){e.P=new Ra(t,Math.min(.5,t/2)),e.P.a=La,Ys(e),e.Tb=new ce((function(){switch(e.h){case Sl:var t=!!e.a.ended||Bt(e.a.buffered)>=e.a.duration-.1;break;case wl:e:{var n;if((n=e.a.ended)||(n=!(n=e.D).h||"ended"==n.h.readyState),n)t=!0;else{if(e.c.presentationTimeline.V()&&(n=e.c.presentationTimeline.nb(),Bt(e.a.buffered)>=n)){t=!0;break e}t=!1}}break;default:t=!1}var r=zt(e.a.buffered,e.a.currentTime),i=t,a=(n=e.P).b.get(n.a);t=n.a,r=i||r>=a?Pa:La,n.a=r,t!=r&&Ys(e)})).La(.25)}function Gs(e){if(e.m&&e.m.configure(e.b.manifest),e.g&&e.g.configure(e.b.drm),e.f){e.f.configure(e.b.streaming);try{e.c.periods.forEach(e.Fc.bind(e))}catch(a){e.Ka(a)}var t=lo(e.f),n=uo(e.f),r=pl(e);t=Yn(t,n,r.variants),e.l&&t&&t.allowedByApplication&&t.allowedByKeySystem?Js(e,r.variants):Zs(e,r)}if(e.D&&(r=e.b.textDisplayFactory,e.xc!=r)){t=new r;var i=(n=e.D).g;n.g=t,i&&(t.setTextVisibility(i.isTextVisible()),i.destroy()),n.a&&(n.a.c=t),e.xc=r,e.f&&((t=(r=e.f).b.get("text"))&&mo(r,t.stream,!0,0,!0))}e.l&&(e.l.configure(e.b.abr),e.b.abr.enabled&&!e.ib?e.l.enable():e.l.disable(),al(e))}function Hs(e,t,n,r){wa(e.$,t).variant=n,(e=e.v.c).c!=n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function qs(e,t,n,r){ba(e.$,t,n),(e=e.v.c).b!=n&&(e.b=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function Ks(e){var t=Ls();return t.streaming.failureCallback=function(t){e.V()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.fd())},t.textDisplayFactory=function(){return new ks(e.a)},t}function Ws(e,t){var n=e.f?lo(e.f):null,r=e.f?uo(e.f):null;if(t.forEach(Un.bind(null,e.g,n,r)),n=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n}(t,(function(e){return e.variants.some(Kn)})),0==n)throw new he(2,4,4032);if(n<t.length)throw new he(2,4,4011);t.forEach(function(e){Bn(e.variants,this.b.restrictions,this.Xb)&&this.f&&pl(this)==e&&tl(this),cl(this,e.variants)}.bind(e))}function $s(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.ib?(e.Ea=t,e.Dd=n,e.Bd=r):(po(e.f,t,n,r),nl(e))}function Xs(e,t){e.ib?e.na=t:(mo(e.f,t,!0,0,!1),rl(e))}function Ys(e){var t=e.Nc();if(e.v&&e.P&&e.o){var n=e.W;n.f=t,Ga(n),Qs(e)}e.dispatchEvent(new Se("buffering",{buffering:t}))}function Qs(e){if(e.v&&e.P){var t=e.v.a;e.P.a==La?Is(t,"buffering"):e.a.paused?Is(t,"paused"):e.a.ended?Is(t,"ended"):Is(t,"playing")}}function Js(e,t){try{cl(e,t)}catch(r){return e.Ka(r),null}var n=t.filter((function(e){return Kn(e)}));return n=e.Ub.create(n),e.l.setVariants(Array.from(n.values())),e.l.chooseVariant()}function Zs(e,t){var n=Js(e,t.variants);n&&(Hs(e,t,n,!0),$s(e,n,!0)),(n=$n(t.textStreams,e.ma,e.cb)[0]||null)&&(e.b.streaming.alwaysStreamText||e.gc())&&(qs(e,t,n,!0),Xs(e,n)),el(e)}function el(e){dl(e,new Se("adaptation"))}function tl(e){dl(e,new Se("trackschanged"))}function nl(e){dl(e,new Se("variantchanged"))}function rl(e){dl(e,new Se("textchanged"))}function il(e){dl(e,new Se("texttrackvisibility"))}function al(e){dl(e,new Se("abrstatuschanged",{rg:e.b.abr.enabled}))}function ol(e,t,n){e.dispatchEvent(new Se(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function sl(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new he(2,3,3016,t,n,e.a.error.message)}function ll(e,t){if(e.f){var n=pl(e),r=!1,i=Object.keys(t),a=1==i.length&&"00"==i[0];i.length&&n.variants.forEach((function(e){(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t})(e).forEach((function(n){var i=e.allowedByKeySystem;n.keyId&&(n=t[a?"00":n.keyId],e.allowedByKeySystem=!!n&&!Us.includes(n)),i!=e.allowedByKeySystem&&(r=!0)}))})),(i=Yn(i=lo(e.f),uo(e.f),n.variants))&&!i.allowedByKeySystem&&Zs(e,n),r&&(tl(e),Js(e,n.variants))}}function ul(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),e.dispatchEvent(new Se("expirationupdated"))}function cl(e,t){var n=e.g?$e(e.g.T):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],s=[],l=d(t),u=l.next();!u.done;u=l.next()){var c=[];(u=u.value).audio&&c.push(u.audio),u.video&&c.push(u.video);for(var f=(c=d(c)).next();!f.done;f=c.next())if((f=f.value).keyId){var h=n[r?"00":f.keyId];h?Us.includes(h)&&(s.includes(h)||s.push(h)):o.includes(f.keyId)||o.push(f.keyId)}u.allowedByApplication?u.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new he(2,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:s})}function dl(e,t){h((function n(){return D(n,(function(n){switch(n.j){case 1:return S(n,Promise.resolve(),2);case 2:e.h!=_l&&e.dispatchEvent(t),E(n)}}))}))}function fl(e){for(var t=new Set,n=(e=d(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(In(n.language)):t.add("und");return t}function hl(e){for(var t=new Map,n=(e=d(e)).next();!n.done;n=e.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=In(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),t.has(n)||t.set(n,new Set),i=(r=d(i)).next();!i.done;i=r.next())i=i.value,t.get(n).add(i)}var a=[];return t.forEach((function(e,t){for(var n=d(e),r=n.next();!r.done;r=n.next())a.push({language:t,role:r.value})})),a}function pl(e){for(var t=e.o.h(),n=null,r=(e=d(e.c.periods)).next();!r.done;r=e.next())(r=r.value).startTime<=t&&(n=r);return n}function ml(e){var t=pl(e);return wa(e.$,t).variant}function vl(){return new he(2,7,7e3)}function gl(e,t,n,r,i,a){return r==e&&i.u==a.u&&i.uri==a.uri&&i.mimeType==a.mimeType&&i.ya==a.ya?t:n}function yl(e){return new Promise((function(t,n){e.Wa=function(){return n(vl())},e.jc=function(){return t()},e.onError=function(e){return n(e)},e.lc=function(){return n(vl())}}))}js.registerSupportPlugin=function(e,t){zs[e]=t},js.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)&&(!!Je()||Ze("application/x-mpegurl"))},js.probeSupport=function(){return Ct().then((function(e){for(var t=Si.Af(),n={},r=d('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Je()?!!vn(i)||(MediaSource.isTypeSupported(i)||$t(i)):Ze(i);var a=i.split(";")[0];n[a]=n[a]||n[i]}for(var o in e={manifest:t,media:n,drm:e},zs)e[o]=zs[o]();return e}))},js.prototype.Cb=function(e,t){if(t=void 0===t||t,this.h==_l)return Promise.reject(vl());var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null};n.u=e,Je()||(t=!1);var r=t?this.fb:this.M,i=Ss(this.jb,(function(){return{node:r,payload:n,Ta:!1}}));return i.tb=function(){},yl(i)},js.prototype.attach=js.prototype.Cb,js.prototype.detach=function(){var e=this;if(this.h==_l)return Promise.reject(vl());var t=Ss(this.jb,(function(){return{node:e.C,payload:{ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},Ta:!1}}));return t.tb=function(){},yl(t)},js.prototype.detach=js.prototype.detach,js.prototype.qd=function(e){var t=this;if(e=void 0===e||e,this.h==_l)return Promise.reject(vl());Je()||(e=!1);var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},r=Ss(this.jb,(function(r){var i=r.u&&e?t.fb:r.u?t.M:t.C;return n.u=r.u,{node:i,payload:n,Ta:!1}}));return r.tb=function(){},yl(r)},js.prototype.unload=js.prototype.qd,js.prototype.load=function(e,t,n){if(this.h==_l)return Promise.reject(vl());this.dispatchEvent(new Se("loading"));var r={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null};r.uri=e,r.nd=Date.now()/1e3,n&&"string"!=typeof n&&(er("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.ya=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==t&&(r.startTime=t);var i=function(e){if(e.ya)return!1;if(!Je())return!0;var t=e.mimeType;return e=e.uri||"",t||(t={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",ts:"video/mp2t",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac"}[Si.getExtension(e)]),!!t&&(!!Ze(t)&&(!Si.isSupported(e,t)||!!navigator.vendor&&navigator.vendor.includes("Apple")))}(r)?this.hb:this.T,a=Ss(this.jb,(function(e){return null==e.u?null:(r.u=e.u,{node:i,payload:r,Ta:!0})}));return a.tb=function(){},new Promise((function(e,t){a.lc=function(){return t(new he(2,7,7002))},a.jc=function(){return e()},a.Wa=function(){return t(vl())},a.onError=function(e){return t(e)}}))},js.prototype.load=js.prototype.load,js.prototype.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Cs(e,t));var n=Ps(this.b,e,Ks(this));return Gs(this),n},js.prototype.configure=js.prototype.configure,js.prototype.getConfiguration=function(){var e=Ks(this);return Ps(e,this.b,Ks(this)),e},js.prototype.getConfiguration=js.prototype.getConfiguration,js.prototype.If=function(){for(var e in this.b)delete this.b[e];Ps(this.b,Ks(this),Ks(this)),Gs(this)},js.prototype.resetConfiguration=js.prototype.If,js.prototype.Je=function(){return this.h},js.prototype.getLoadMode=js.prototype.Je,js.prototype.Ne=function(){return this.a},js.prototype.getMediaElement=js.prototype.Ne,js.prototype.Fb=function(){return this.G},js.prototype.getNetworkingEngine=js.prototype.Fb,js.prototype.bc=function(){return this.Bb},js.prototype.getAssetUri=js.prototype.bc,js.prototype.Me=function(){return er("getManifestUri",'Please use "getAssetUri" instead.'),this.bc()},js.prototype.getManifestUri=js.prototype.Me,js.prototype.V=function(){return this.c?this.c.presentationTimeline.V():!(!this.a||!this.a.src)&&1/0==this.a.duration},js.prototype.isLive=js.prototype.V,js.prototype.Va=function(){return!!this.c&&this.c.presentationTimeline.Va()},js.prototype.isInProgress=js.prototype.Va,js.prototype.af=function(){if(this.c){if(!this.c.periods.length)return!1;var e=this.c.periods[0].variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},js.prototype.isAudioOnly=js.prototype.af,js.prototype.Kf=function(){if(this.c){var e=this.c.presentationTimeline;return{start:e.mb(),end:e.za()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},js.prototype.seekRange=js.prototype.Kf,js.prototype.keySystem=function(){return this.g?this.g.keySystem():""},js.prototype.keySystem=js.prototype.keySystem,js.prototype.drmInfo=function(){return this.g?this.g.a:null},js.prototype.drmInfo=js.prototype.drmInfo,js.prototype.dc=function(){return this.g?this.g.dc():1/0},js.prototype.getExpiration=js.prototype.dc,js.prototype.Nc=function(){return!!this.P&&this.P.a==La},js.prototype.isBuffering=js.prototype.Nc,js.prototype.Qe=function(){if(this.W){var e=this.W;e=e.f?0:e.c}else e=0;return e},js.prototype.getPlaybackRate=js.prototype.Qe,js.prototype.bg=function(e){0==e?W("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.W.set(e),this.h==wl&&ho(this.f,1<Math.abs(e)))},js.prototype.trickPlay=js.prototype.bg,js.prototype.ue=function(){this.h==Sl&&this.W.set(1),this.h==wl&&(this.W.set(1),ho(this.f,!1))},js.prototype.cancelTrickPlay=js.prototype.ue,js.prototype.Mc=function(){if(this.c&&this.o){for(var e=ml(this),t=[],n=d(function(e){return e=pl(e),null==e?[]:e.variants.filter((function(e){return Kn(e)}))}(this)),r=n.next();!r.done;r=n.next()){var i=Fn(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){var t=qn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind?(t.primary=!0,t.roles=["main"],t.audioRoles=["main"]):t.audioRoles=[],t})):[]},js.prototype.getVariantTracks=js.prototype.Mc,js.prototype.ob=function(){if(this.c&&this.o){for(var e=function(e){var t=pl(e);if(null==t)return null;if(!wa(e.$,t).text){var n=$n(t.textStreams,e.ma,e.cb);n.length&&ba(e.$,t,n[0])}return wa(e.$,t).text}(this),t=[],n=d(function(e){var t=pl(e);return null==t?[]:t.textStreams.filter((function(t){return!e.Wb.has(t)}))}(this)),r=n.next();!r.done;r=n.next()){var i=Vn(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map((function(e){var t=qn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),t})):[]},js.prototype.getTextTracks=js.prototype.ob,js.prototype.gd=function(e){if(this.c&&this.f){var t=pl(this),n=t.textStreams.find((function(t){return t.id==e.id}));n&&(qs(this,t,n,!1),Xs(this,n),this.ma=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(t=d(t=Array.from(this.a.textTracks))).next();!n.done;n=t.next())Gn(n=n.value)==e.id?n.mode=this.eb?"showing":"hidden":n.mode="disabled";rl(this)}},js.prototype.selectTextTrack=js.prototype.gd,js.prototype.Mf=function(){er("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var e=this.ob().filter((function(e){return"application/cea-608"==e.mimeType}));0<e.length&&this.gd(e[0])},js.prototype.selectEmbeddedTextTrack=js.prototype.Mf,js.prototype.gg=function(){er("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var e=this.ob().filter((function(e){return e.active}))[0];return!!e&&"application/cea-608"==e.mimeType},js.prototype.usingEmbeddedTextTrack=js.prototype.gg,js.prototype.Of=function(e,t,n){if(n=void 0===n?0:n,this.c&&this.f){var r=pl(this);this.b.abr.enabled&&W("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(t){return t.id==e.id}));i&&Kn(i)&&(Hs(this,r,i,!1),$s(this,i,t,n),this.Ub=new Aa(i),Js(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(t=d(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())Gn(n=n.value)==e.id&&(n.enabled=!0);nl(this)}},js.prototype.selectVariantTrack=js.prototype.Of,js.prototype.Ee=function(){return hl(this.Mc())},js.prototype.getAudioLanguagesAndRoles=js.prototype.Ee,js.prototype.Xe=function(){return hl(this.ob())},js.prototype.getTextLanguagesAndRoles=js.prototype.Xe,js.prototype.De=function(){return Array.from(fl(this.Mc()))},js.prototype.getAudioLanguages=js.prototype.De,js.prototype.We=function(){return Array.from(fl(this.ob()))},js.prototype.getTextLanguages=js.prototype.We,js.prototype.Lf=function(e,t){if(this.c&&this.o){var n=pl(this);this.Ub=new Ca(e,t||"",0),Zs(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=d(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==e&&(r.enabled=!0);nl(this)}},js.prototype.selectAudioLanguage=js.prototype.Lf,js.prototype.Nf=function(e,t){if(this.c&&this.o){var n=pl(this);this.ma=e,this.cb=t||"";var r=$n(n.textStreams,this.ma,this.cb)[0]||null;r&&(qs(this,n,r,!1),(this.b.streaming.alwaysStreamText||this.gc())&&Xs(this,r))}else(n=this.ob().filter((function(t){return t.language==e}))[0])&&this.gd(n)},js.prototype.selectTextLanguage=js.prototype.Nf,js.prototype.gc=function(){var e=this.eb;return this.c?this.D.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some((function(e){return"showing"==e.mode})):e},js.prototype.isTextTrackVisible=js.prototype.gc,js.prototype.Rf=function(e){var t=this;return h((function n(){var r,i,a,o;return D(n,(function(n){switch(n.j){case 1:if(t.eb==(r=e))return n.return();if(t.eb=r,t.h!=wl){if(t.a&&t.a.src&&t.a.textTracks)for(var s=d(Array.from(t.a.textTracks)),l=s.next();!l.done;l=s.next())"disabled"!=(i=l.value).mode&&(i.mode=e?"showing":"hidden");n.A(2);break}if(t.D.g.setTextVisibility(e),t.b.streaming.alwaysStreamText){n.A(2);break}if(!e){(s=t.f).D=!0,(l=s.b.get("text"))&&(Po(l),s.b.delete("text")),n.A(2);break}if(a=pl(t),!(0<(o=$n(a.textStreams,t.ma,t.cb)).length)){n.A(2);break}return S(n,fo(t.f,o[0]),2);case 2:il(t),E(n)}}))}))},js.prototype.setTextTrackVisibility=js.prototype.Rf,js.prototype.Se=function(){if(!this.V())return null;if(this.c)return new Date(1e3*(this.c.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:new Date(e.getTime()+1e3*this.a.currentTime)}return null},js.prototype.getPlayheadTimeAsDate=js.prototype.Se,js.prototype.Ue=function(){if(!this.V())return null;if(this.c)return new Date(1e3*this.c.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},js.prototype.getPresentationStartTimeAsDate=js.prototype.Ue,js.prototype.Ic=function(){var e={total:[],audio:[],video:[],text:[]};return this.h==Sl&&(e.total=Ft(this.a.buffered)),this.h==wl&&this.D.Ic(e),e},js.prototype.getBufferedInfo=js.prototype.Ic,js.prototype.getStats=function(){if(this.h!=wl&&this.h!=Sl)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]};Qs(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.v,n=Number(e.totalVideoFrames);t.i=Number(e.droppedVideoFrames),t.h=n}this.h==wl&&((e=ml(this))&&(this.v.l=e.bandwidth),e&&e.video&&(t=this.v,n=e.video.height||NaN,t.m=e.video.width||NaN,t.g=n),e=this.l.getBandwidthEstimate(),this.v.f=e);var r=this.v;e=r.m,t=r.g,n=r.l;for(var i=r.h,a=r.i,o=r.f,s=r.b,l=Ds(r.a,"playing"),u=Ds(r.a,"paused"),c=Ds(r.a,"buffering"),f=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=d(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n}(r.a),h=[],p=(r=d(r.c.a)).next();!p.done;p=r.next())p=p.value,h.push({timestamp:p.timestamp,id:p.id,type:p.type,fromAdaptation:p.fromAdaptation,bandwidth:p.bandwidth});return{width:e,height:t,streamBandwidth:n,decodedFrames:i,droppedFrames:a,estimatedBandwidth:o,loadLatency:s,playTime:l,pauseTime:u,bufferingTime:c,stateHistory:f,switchHistory:h}},js.prototype.getStats=js.prototype.getStats,js.prototype.addTextTrack=function(e,t,n,r,i,a){var o=this;return h((function s(){var l,u,c,d,f,h,p,m,v;return D(s,(function(s){switch(s.j){case 1:if(o.h==Sl)throw Error("State error!");if(o.h!=wl)throw Error("State error!");if(l=pl(o),u=qt,c=o.c.periods.indexOf(l),f=(d=c+1)>=o.c.periods.length?o.c.presentationTimeline.Y():o.c.periods[d].startTime,1/0==(h=f-l.startTime))throw new he(1,4,4033);return p=new $r(1,0,h,(function(){return[e]}),0,null),m={id:o.Hd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:u.qa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},o.Wb.add(m),l.textStreams.push(m),S(s,fo(o.f,m),2);case 2:return(v=co(o.f,"text"))&&ba(o.$,l,v),o.Wb.delete(m),Zs(o,l),tl(o),s.return(Vn(m))}}))}))},js.prototype.addTextTrack=js.prototype.addTextTrack,js.prototype.jd=function(e,t){this.Xb.width=e,this.Xb.height=t},js.prototype.setMaxHardwareResolution=js.prototype.jd,js.prototype.fd=function(){if(this.h==wl){var e=this.f;if(e.f)e=!1;else if(e.m)e=!1;else{for(var t=d(e.b.values()),n=t.next();!n.done;n=t.next())(n=n.value).Ib&&(n.Ib=!1,Lo(e,n,.1));e=!0}}else e=!1;return e},js.prototype.retryStreaming=js.prototype.fd,js.prototype.Ke=function(){return this.c},js.prototype.getManifest=js.prototype.Ke,js.prototype.Le=function(){return this.m?this.m.constructor:null},js.prototype.getManifestParserFactory=js.prototype.Le,(n=js.prototype).Fc=function(e){var t=this.f?lo(this.f):null,n=this.f?uo(this.f):null;if(Un(this.g,t,n,e),!(t=e.variants).some(Kn))throw new he(2,4,4011);if(cl(this,e.variants),Bn(t,this.b.restrictions,this.Xb)&&this.f&&pl(this)==e&&tl(this),e=this.g?this.g.a:null)for(n=(t=d(t)).next();!n.done;n=t.next())for(var r=(n=d(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==e.keySystem)for(var i=(r=d(r.initData||[])).next();!i.done;i=r.next())i=i.value,wt(this.g,i.initDataType,i.initData)},n.df=function(e){try{this.ib=!0,this.l.disable(),al(this);var t=Js(this,e.variants),n=$n(e.textStreams,this.ma,this.cb)[0]||null;this.Ea&&(e.variants.includes(this.Ea)&&(t=this.Ea),this.Ea=null),this.na&&(e.textStreams.includes(this.na)&&(n=this.na),this.na=null),t&&Hs(this,e,t,!0),n&&qs(this,e,n,!0);var r=this.f,i=r.b.get("video");if(i)var a=r.c.periods[i.pa];else{var o=r.b.get("audio");a=o?r.c.periods[o.pa]:null}var s=t?t.audio:null;if(!a&&n){var l;if(l=s){e=n;var u=In(this.b.preferredTextLanguage),c=In(s.language),d=In(e.language);l=Pn(d,u)&&!Pn(c,d)}l&&(this.eb=!0),this.eb&&this.D.g.setTextVisibility(!0),il(this)}return this.b.streaming.alwaysStreamText||this.gc()?{variant:t,text:n}:{variant:t,text:null}}catch(f){return this.Ka(f),{variant:null,text:null}}},n.te=function(){this.ib=!1,this.b.abr.enabled&&(this.l.enable(),al(this)),this.Ea&&(po(this.f,this.Ea,this.Dd,this.Bd),nl(this),this.Ea=null),this.na&&(mo(this.f,this.na,!0,0,!1),rl(this),this.na=null)},n.jf=function(){this.m&&this.m.update&&this.m.update()},n.qf=function(){this.o&&this.o.o()},n.Ka=function(e){if(this.h!=_l){var t=new Se("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}};var _l=0,bl=1,wl=2,Sl=3;function El(e,t){var n=ps(new hs(e.ua(),e.aa()),t.periods[0],new Ei(null,0)),r=t.appMetadata||{};return n=kl(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r}}function kl(e){for(var t=[],n=function(e){return e.filter((function(e){return Kn(e)}))}(e.variants),r=(n=d(n)).next();!r.done;r=n.next())t.push(Fn(r.value));for(n=(e=d(e.textStreams)).next();!n.done;n=e.next())t.push(Vn(n.value));return t}function Tl(){this.a={}}function xl(e,t){var n=e.a[t];return null==n&&(n=0),n}function Al(e){this.a=!1,this.b=new pe,this.c=e}function Cl(e){var t=new Ll;e.periods.forEach((function(e,n){var r=Nl(e.variants);if(0==n)for(var i=(r=d(r.a)).next();!i.done;i=r.next())t.add(i.value);else!function(e,t){e.a=e.a.filter((function(e){return Pl(t,e)}))}(t,r)}));for(var n=(e=d(e.periods)).next();!n.done;n=e.next())(n=n.value).variants=n.variants.filter((function(e){return Pl(t,new Rl(e))}))}function Rl(e){var t=e.audio;e=e.video,this.b=t?t.mimeType:null,this.a=t?t.codecs.split(".")[0]:null,this.f=e?e.mimeType:null,this.c=e?e.codecs.split(".")[0]:null}function Ll(){this.a=[]}function Pl(e,t){return e.a.some((function(e){return t.b==e.b&&t.a==e.a&&t.f==e.f&&t.c==e.c}))}function Nl(e){for(var t=new Ll,n=(e=d(e)).next();!n.done;n=e.next())t.add(new Rl(n.value));return t}function Il(e){var t=this;if(e&&e.constructor!=js)throw new he(2,9,9008);this.b=this.a=null,e?(this.a=e.b,this.b=e.Fb()):(this.a=Ls(),this.b=new Pe),this.f=!1,this.c=[],this.g=[];var n=!e;this.h=new Al((function(){return h((function e(){var r;return D(e,(function(e){switch(e.j){case 1:return r=function(){},S(e,Promise.all(t.g.map((function(e){return e.then(r,r)}))),2);case 2:if(!n){e.A(3);break}return S(e,t.b.destroy(),3);case 3:t.a=null,t.b=null,E(e)}}))}))}))}function Dl(){if(Je())e:{for(var e=d(Xo.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Ml(e,t){for(var n=[],r=d(e.periods),i=r.next();!i.done;i=r.next())for(var a=(i=d(i.value.streams)).next();!a.done;a=i.next())a=a.value,t&&"video"==a.contentType?n.push({contentType:Xe(a.mimeType,a.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=a.contentType||n.push({contentType:Xe(a.mimeType,a.codecs),robustness:e.drmInfo.audioRobustness});return n}function Ol(e,t,n){return h((function r(){return D(r,(function(r){if(1===r.j)return S(r,function(e,t,n,r){return h((function i(){var a,o,s;return D(i,(function(i){switch(i.j){case 1:return r.drmInfo?(a=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new he(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Ml(r,!1),videoCapabilities:Ml(r,!0)}})),S(i,_s(t,e,o),2)):i.return();case 2:return s=i.s,S(i,a.remove(s),3);case 3:return S(i,a.add(o.filter((function(e){return-1==s.indexOf(e.sessionId)}))),0)}}))}))}(e.b,e.a.drm,n,t),0)}))}))}function jl(e,t,n,r){function i(){s+=1,e.a.offline.progressCallback(l,s/o)}var a=function(e){var t=[];return e.periods.forEach((function(e){e.streams.forEach((function(e){null!=e.initSegmentKey&&t.push(e.initSegmentKey),e.segments.forEach((function(e){t.push(e.dataKey)}))}))})),t}(r),o=a.length+1,s=0,l=El(n,r);return Promise.all([t.removeSegments(a,i),t.removeManifests([n.key()],i)])}function Bl(e,t,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.Hb();var s=a.id;return function(e,t,n){for(var r=null==(t=e.findSegmentPosition(t))?null:e.getSegmentReference(t);r;)n(r),r=e.getSegmentReference(++t)}(a,i,(function(i){var l=ki(i.c(),i.b,i.a,e.a.streaming.retryParameters);Bo(t,s,l,function(e,t,n){return n=n.endTime-n.startTime,xl(e,t)*n}(r,a.id,i),(function(t){return n.addSegments([{data:t}]).then((function(t){e.c.push(t[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:t[0]})}))}))})),(i=a.initSegmentReference)&&(i=ki(i.c(),i.b,i.a,e.a.streaming.retryParameters),Bo(t,s,i,.5*xl(r,a.id),(function(t){return n.addSegments([{data:t}]).then((function(t){e.c.push(t[0]),o.initSegmentKey=t[0]}))}))),o}function Ul(e){if(e.h.a)throw new he(2,9,7001)}function zl(){if(!Dl())throw new he(2,9,9e3)}function Fl(e,t){return h((function n(){return D(n,(function(n){switch(n.j){case 1:return e.g.push(t),T(n,2),S(n,t,4);case 4:return n.return(n.s);case 2:C(n),Ae(e.g,t),R(n,0)}}))}))}function Vl(e){for(var t=new Set,n=(e=d(e.periods)).next();!n.done;n=e.next()){for(var r=d((n=n.value).textStreams),i=r.next();!i.done;i=r.next())t.add(i.value);for(r=(n=d(n.variants)).next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video)}return t}function Gl(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=d(t),r=n.next();!r.done;r=n.next())for(var i=(r=d(t)).next();!i.done;i=r.next());for(n=(t=d(e)).next();!n.done;n=t.next())for(r=(n=d(e)).next();!r.done;r=n.next());}js.LoadMode={DESTROYED:_l,NOT_LOADED:bl,MEDIA_SOURCE:wl,SRC_EQUALS:Sl},Al.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},Ll.prototype.add=function(e){Pl(this,e)||this.a.push(e)},z("shaka.offline.Storage",Il),Il.support=Dl,Il.prototype.destroy=function(){return this.h.destroy()},Il.prototype.destroy=Il.prototype.destroy,Il.prototype.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Cs(e,t));var n=e,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&er("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Ps(this.a,e)},Il.prototype.configure=Il.prototype.configure,Il.prototype.getConfiguration=function(){var e=Ls();return Ps(e,this.a,Ls()),e},Il.prototype.getConfiguration=Il.prototype.getConfiguration,Il.prototype.Fb=function(){return this.b},Il.prototype.getNetworkingEngine=Il.prototype.Fb,Il.prototype.store=function(e,t,n){var r=this;return Fl(this,function(e,t,n,r){return h((function i(){var a,o,s,l,u,c,f,p,m;return D(i,(function(i){switch(i.j){case 1:return zl(),e.f?i.return(Promise.reject(new he(2,9,9006))):(e.f=!0,S(i,function(e,t,n){return h((function r(){var i,a,o,s,l,u;return D(r,(function(r){switch(r.j){case 1:return i=null,a=e.b,o={networkingEngine:a,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e}},S(r,n(),2);case 2:return(s=r.s).configure(e.a.manifest),Ul(e),T(r,3),S(r,s.start(t,o),5);case 5:return l=r.s,Ul(e),u=Vl(l),S(r,Promise.all(Array.from(u).map((function(e){return e.createSegmentIndex()}))),6);case 6:if(Ul(e),i)throw i;return r.return(l);case 3:return C(r),S(r,s.stop(),7);case 7:R(r,0)}}))}))}(e,t,r),2));case 2:if(a=i.s,Ul(e),!(!a.presentationTimeline.V()&&!a.presentationTimeline.Va()))throw new he(2,9,9005,t);return o=null,s=new Ko,u=l=null,k(i,3,4),S(i,function(e,t,n){return h((function r(){var i,a,o;return D(r,(function(r){switch(r.j){case 1:return i=new vt({rb:e.b,onError:n,kc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a=Ua(t.periods),o=e.a,i.configure(o.drm),S(r,function(e,t,n){return e.o=[],e.D=n,yt(e,t)}(i,a,o.offline.usePersistentLicense),2);case 2:return S(r,_t(i),3);case 3:return S(r,bt(i),4);case 4:return r.return(i)}}))}))}(e,a,(function(e){u=u||e})),6);case 6:if(o=i.s,Ul(e),u)throw u;return function(e,t,n){(function(e,t){for(var n={width:1/0,height:1/0},r=d(e.periods),i=r.next();!i.done;i=r.next())(i=i.value).variants=i.variants.filter((function(e){return jn(e,t,n)}))})(t,e.a.restrictions),function(e){for(var t=(e=d(e.periods)).next();!t.done;t=e.next())(t=t.value).variants=t.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&wn(e.audio)),e.video&&(t=t&&wn(e.video)),t}))}(t),function(e,t){for(var n=d(e.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter((function(e){return Rt(t,e)}))}(t,n),Cl(t),function(e,t){var n=new Ll;e.periods.forEach((function(e,r){0<r&&(e.variants=e.variants.filter((function(e){return Pl(n,new Rl(e))}))),t(e),n=Nl(e.variants)}))}(t,(function(t){for(var n=[],r=d(t.variants),i=r.next();!i.done;i=r.next())n.push(Fn(i.value));for(i=(r=d(t.textStreams)).next();!i.done;i=r.next())n.push(Vn(i.value));n=e.a.offline.trackSelectionCallback(n);var a=new Set,o=new Set;for(r=(n=d(n)).next();!r.done;r=n.next())"variant"==(r=r.value).type&&a.add(r.id),"text"==r.type&&o.add(r.id);t.variants=t.variants.filter((function(e){return a.has(e.id)})),t.textStreams=t.textStreams.filter((function(e){return o.has(e.id)}))})),function(e){if(0==e.periods.length)throw new he(2,4,4014);for(var t=(e=d(e.periods)).next();!t.done;t=e.next())Gl(t.value)}(t)}(e,a,o),S(i,s.init(),7);case 7:return Ul(e),S(i,function(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{ua:n,aa:r},aa:e})}))})),t)return t;throw new he(2,9,9013,"Could not find a cell that supports add-operations")}(s),8);case 8:return l=i.s,Ul(e),S(i,function(e,t,n,r,i,a){return h((function o(){var s,l,u,c;return D(o,(function(o){switch(o.j){case 1:return s=function(e,t,n){var r=void 0==t.expiration?1/0:t.expiration;return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.Y(),size:0,expiration:r,tracks:t=kl(t.periods[0]),appMetadata:n}}(i,r,a),l=new jo(e.b,(function(t,n){s.size=n,e.a.offline.progressCallback(s,t)})),T(o,2),c=u=function(e,t,n,r,i,a,o){var s=new Tl,l=i.periods.map((function(r){return function(e,t,n,r,i,a){i.periods.forEach((function(e){e.variants.forEach((function(e){var t=e.audio,n=e.video;if(t&&!n&&(r.a[t.id]=t.bandwidth||e.bandwidth),!t&&n&&(r.a[n.id]=n.bandwidth||e.bandwidth),t&&n){var i=t.bandwidth||393216,a=n.bandwidth||e.bandwidth-i;0>=a&&(a=e.bandwidth),r.a[t.id]=i,r.a[n.id]=a}})),e.textStreams.forEach((function(e){r.a[e.id]=52}))}));for(var o=Vl(i),s=new Map,l=(o=d(o)).next();!l.done;l=o.next()){l=l.value;var u=Bl(e,t,n,r,i,l);s.set(l.id,u)}return a.variants.forEach((function(e){e.audio&&s.get(e.audio.id).variantIds.push(e.id),e.video&&s.get(e.video.id).variantIds.push(e.id)})),{startTime:a.startTime,streams:Array.from(s.values())}}(e,t,n,s,i,r)})),u=r.a,c=Et(r);if(u&&e.a.offline.usePersistentLicense){if(!c.length)throw new he(2,9,9007,a);u.initData=[]}return{originalManifestUri:a,duration:i.presentationTimeline.Y(),size:0,expiration:r.dc(),periods:l,sessionIds:e.a.offline.usePersistentLicense?c:[],drmInfo:u,appMetadata:o}}(e,l,t,n,r,i,a),S(o,function(e){return h((function t(){return D(t,(function(t){switch(t.j){case 1:return S(t,Promise.all(e.b.values()),2);case 2:return t.return(e.a.a)}}))}))}(l),4);case 4:return c.size=o.s,o.return(u);case 2:return C(o),S(o,l.destroy(),5);case 5:R(o,0)}}))}))}(e,l.aa,o,a,t,n),9);case 9:if(c=i.s,Ul(e),u)throw u;return S(i,l.aa.addManifests([c]),10);case 10:return f=i.s,Ul(e),p=new ds("manifest",l.path.ua,l.path.aa,f[0]),i.return(El(p,c));case 4:return C(i),e.f=!1,e.c=[],S(i,s.destroy(),11);case 11:if(!o){i.A(12);break}return S(i,o.destroy(),12);case 12:R(i,0);break;case 3:if(m=A(i),!l){i.A(14);break}return S(i,l.aa.removeSegments(e.c,(function(){})),14);case 14:throw u||m}}))}))}(this,e,t||{},(function(){return h((function t(){var i,a;return D(t,(function(t){switch(t.j){case 1:return n&&"string"!=typeof n?(er("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,t.return(new i)):S(t,Si.create(e,r.b,r.a.manifest.retryParameters,n),2);case 2:return a=t.s,t.return(a)}}))}))})))},Il.prototype.store=Il.prototype.store,Il.prototype.Ve=function(){return this.f},Il.prototype.getStoreInProgress=Il.prototype.Ve,Il.prototype.remove=function(e){return Fl(this,function(e,t){return h((function n(){var r,i,a,o,s,l;return D(n,(function(n){switch(n.j){case 1:return zl(),null==(r=fs(t))||"manifest"!=r.a?n.return(Promise.reject(new he(2,9,9004,t))):(i=r,a=new Ko,T(n,2),S(n,a.init(),4));case 4:return S(n,Wo(a,i.ua(),i.aa()),5);case 5:return S(n,(o=n.s).getManifests([i.key()]),6);case 6:return s=n.s,l=s[0],S(n,Promise.all([Ol(e,l,a),jl(e,o,i,l)]),2);case 2:return C(n),S(n,a.destroy(),8);case 8:R(n,0)}}))}))}(this,e))},Il.prototype.remove=Il.prototype.remove,Il.prototype.Ff=function(){return Fl(this,(e=this,h((function t(){var n,r,i,a,o,s,l,u,c;return D(t,(function(t){switch(t.j){case 1:return zl(),n=e.b,r=e.a.drm,i=new Ko,a=!1,T(t,2),S(t,i.init(),4);case 4:for(o=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(i,(function(e){return o.push(e)})),s=Promise.resolve(),l={},u=d(o),c=u.next();!c.done;l={qc:l.qc},c=u.next())l.qc=c.value,s=s.then(function(e){return function(){return h((function t(){var i,o;return D(t,(function(t){switch(t.j){case 1:return S(t,e.qc.getAll(),2);case 2:return i=t.s,S(t,_s(r,n,i),3);case 3:return o=t.s,S(t,e.qc.remove(o),4);case 4:o.length!=i.length&&(a=!0),E(t)}}))}))}}(l));return S(t,s,2);case 2:return C(t),S(t,i.destroy(),6);case 6:R(t,3);break;case 3:return t.return(!a)}}))}))));var e},Il.prototype.removeEmeSessions=Il.prototype.Ff,Il.prototype.list=function(){return Fl(this,h((function e(){var t,n,r;return D(e,(function(e){switch(e.j){case 1:return zl(),t=[],n=new Ko,T(e,2),S(e,n.init(),4);case 4:return r=Promise.resolve(),function(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){t({ua:n,aa:r},e)}))}))}(n,(function(e,n){r=r.then((function(){return h((function r(){return D(r,(function(r){switch(r.j){case 1:return S(r,n.getAllManifests(),2);case 2:r.s.forEach((function(n,r){var i=El(new ds("manifest",e.ua,e.aa,r),n);t.push(i)})),E(r)}}))}))}))})),S(e,r,2);case 2:return C(e),S(e,n.destroy(),6);case 6:R(e,3);break;case 3:return e.return(t)}}))})))},Il.prototype.list=Il.prototype.list,Il.deleteAll=function(){return h((function e(){var t;return D(e,(function(e){switch(e.j){case 1:return t=new Ko,T(e,2),S(e,t.erase(),2);case 2:return C(e),S(e,t.destroy(),5);case 5:R(e,0)}}))}))},zs.offline=Dl,z("shaka.polyfill.installAll",(function(){for(var e=0;e<Kl.length;++e)Kl[e].re()}));var Hl,ql,Kl=[];function Wl(e,t){for(var n={priority:t=t||0,re:e},r=0;r<Kl.length;r++)if(Kl[r].priority<t)return void Kl.splice(r,0,n);Kl.push(n)}function $l(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Xl(e,t,n){if("input"==e&&"range"===this.type)e="change";HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function Yl(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=e.apply(this,n)).abort=function(){},n}}function Ql(e){var t=e.target,n=t.mediaSource_;if(n.Ed){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.wd=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].wd)return;n.Ed=!1}}function Jl(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",Ql,!1);e.removeEventListener("sourceclose",Jl,!1)}function Zl(e,t){try{var n=new eu(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function eu(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=d(t),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=d(i.audioCapabilities),l=s.next();!l.done;l=s.next())if((l=l.value).contentType){a=!0;var u=l.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.audioCapabilities.push(l),o=!0)}if(i.videoCapabilities)for(l=(i=d(i.videoCapabilities)).next();!l.done;l=i.next())(s=l.value).contentType&&(a=!0,l=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,l)&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function tu(e){var t=this.mediaKeys;return t&&t!=e&&ru(t,null),delete this.mediaKeys,(this.mediaKeys=e)?ru(e,this):Promise.resolve()}function nu(e){this.b=new WebKitMediaKeys(e),this.a=new Ge,this.c=null}function ru(e,t){if(e.a.Ya(),!t)return Promise.resolve();e.a.w(t,"webkitneedkey",au);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):e.a.ha(t,"loadedmetadata",(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function iu(e){ke.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new Ge,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new su}function au(e){var t=this.mediaKeys.c,n=new Event("encrypted");n.initDataType="cenc",n.initData=function(e,t){function n(e){new DataView(a.buffer).setUint32(o,e.byteLength,!0),o+=4,a.set(e,o),o+=e.byteLength}var r=new Uint8Array(e);if(new DataView(r.buffer).getUint32(0,!0)+4!=r.byteLength)throw Error("Malformed init data!");var i=it(r.slice(4),!0);i=new Y(i).ra,i=new Uint8Array(st(i,!0));var a=new Uint8Array(r.byteLength+4+i.byteLength+4+t.byteLength),o=0;return a.set(r,o),o+=r.byteLength,n(i),n(new Uint8Array(t)),a}(e.initData,t),this.dispatchEvent(n)}function ou(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Se("keystatuseschange"))}function su(){this.size=0,this.a=void 0}function lu(e){this.f=[],this.b=[],this.a=[],(new Zr).ea("pssh",this.c.bind(this)).parse(e.buffer)}function uu(e,t){try{var n=new cu(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function cu(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var l=i.audioCapabilities[s];if(l.contentType){o=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.audioCapabilities.push(l),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(l=i.videoCapabilities[s]).contentType&&(o=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.videoCapabilities.push(l),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function du(e){var t=this.mediaKeys;return t&&t!=e&&hu(t,null),delete this.mediaKeys,(this.mediaKeys=e)?hu(e,this):Promise.resolve()}function fu(e){this.a=new MSMediaKeys(e),this.b=new Ge}function hu(e,t){if(e.b.Ya(),!t)return Promise.resolve();e.b.w(t,"msneedkey",mu);var n=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",(function e(){t.msSetMediaKeys(n.a),t.removeEventListener("loadedmetadata",e)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function pu(e){ke.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new Ge,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new gu}function mu(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=function(e){if(!e)return e;var t=new lu(e);if(1>=t.a.length)return e;for(var n=[],r=0;r<t.a.length;r++)n.push(e.subarray(t.a[r].start,t.a[r].end+1));for(e=[],t={},r=d(n),n=r.next();!n.done;t={fc:t.fc},n=r.next())t.fc=n.value,e.some(function(e){return function(t){return pt(t,e.fc)}}(t))||e.push(t.fc);for(t=0,r=d(e),n=r.next();!n.done;n=r.next())t+=n.value.length;for(t=new Uint8Array(t),r=0,e=d(e),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,r),r+=n.length;return t}(e.initData),this.dispatchEvent(t)}}function vu(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Se("keystatuseschange"))}function gu(){this.size=0,this.a=void 0}function yu(){return Promise.reject(Error("The key system specified is not supported."))}function _u(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function bu(){throw new TypeError("Illegal constructor.")}function wu(){throw new TypeError("Illegal constructor.")}z("shaka.polyfill.register",Wl),Wl((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",$l),document.addEventListener("webkitfullscreenerror",$l),document.addEventListener("mozfullscreenchange",$l),document.addEventListener("mozfullscreenerror",$l),document.addEventListener("MSFullscreenChange",$l),document.addEventListener("MSFullscreenError",$l)}})),Wl((function(){et("CrKey")&&delete e.indexedDB})),Wl((function(){et("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Xl)})),Wl((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),Wl((function(){})),Wl((function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),l=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[l]=s}if(!(r=a.codecs))return e(n);var u=!1,c=!1;for(var d in n=r.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(u=!0),!0})),c&&(u=!1),a.codecs=n.join(","),u&&(a.eotf="smpte2084"),a)i+="; "+d+'="'+a[d]+'"';return cast.__platform__.canDisplayType(i)}}();else if(navigator.vendor&&navigator.vendor.includes("Apple")){var t=navigator.appVersion;!function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),t.includes("Version/8")?e.MediaSource=null:t.includes("Version/9")?Yl():t.includes("Version/10")?(Yl(),function(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];for(var i=r=0;i<this.sourceBuffers.length;++i){var a=this.sourceBuffers[i];a=a.buffered.end(a.buffered.length-1),r=Math.max(r,a)}if(!isNaN(this.duration)&&r<this.duration)for(this.Ed=!0,r=0;r<this.sourceBuffers.length;++r)this.sourceBuffers[r].wd=!1;return e.apply(this,n)};var t=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];return(r=n.apply(this,r)).mediaSource_=this,r.addEventListener("updateend",Ql,!1),t||(this.addEventListener("sourceclose",Jl,!1),t=!0),r}}()):(t.includes("Version/11")||t.includes("Version/12"))&&(Yl(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}())}else et("Tizen")&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=Ye(t)[0]&&e(t)}}()})),eu.prototype.createMediaKeys=function(){var e=new nu(this.keySystem);return Promise.resolve(e)},eu.prototype.getConfiguration=function(){return this.a},nu.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new iu(this.b,e)},nu.prototype.setServerCertificate=function(e){return this.c=e?new Uint8Array(e):null,Promise.resolve(!0)},F(iu,ke),(n=iu.prototype).generateRequest=function(e,t){this.a=new pe;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t)),this.f.w(this.c,"webkitkeymessage",this.Wf.bind(this)),this.f.w(this.c,"webkitkeyadded",this.Uf.bind(this)),this.f.w(this.c,"webkitkeyerror",this.Vf.bind(this)),ou(this,"status-pending")}catch(n){this.a.reject(n)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.b=new pe;try{this.c.update(new Uint8Array(e))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),this.f.Ya()}catch(vc){this.closed.reject(vc)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Wf=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Se("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.Uf=function(){this.b&&(ou(this,"usable"),this.b.resolve(),this.b=null)},n.Vf=function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ou(this,"output-not-allowed");break;default:ou(this,"internal-error")}},(n=su.prototype).forEach=function(e){this.a&&e(this.a,Hl)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=Hl;return!(!this.a||!pt(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Wl((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(Hl=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=tu,e.MediaKeys=nu,e.MediaKeySystemAccess=eu,navigator.requestMediaKeySystemAccess=Zl)})),lu.prototype.c=function(e){if(!(1<e.version)){var t=ht(e.reader.Xa(16)),n=[];if(0<e.version)for(var r=e.reader.F(),i=0;i<r;++i){var a=ht(e.reader.Xa(16));n.push(a)}r=e.reader.F(),e.reader.L(r),this.b.push.apply(this.b,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1})}},cu.prototype.createMediaKeys=function(){var e=new fu(this.keySystem);return Promise.resolve(e)},cu.prototype.getConfiguration=function(){return this.a},fu.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new pu(this.a,e)},fu.prototype.setServerCertificate=function(){return Promise.resolve(!1)},F(pu,ke),(n=pu.prototype).generateRequest=function(e,t){this.a=new pe;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),this.f.w(this.c,"mskeymessage",this.nf.bind(this)),this.f.w(this.c,"mskeyadded",this.lf.bind(this)),this.f.w(this.c,"mskeyerror",this.mf.bind(this)),vu(this,"status-pending")}catch(n){this.a.reject(n)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.b=new pe;try{this.c.update(new Uint8Array(e))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),this.f.Ya()}catch(vc){this.closed.reject(vc)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.nf=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Se("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.lf=function(){this.a?(vu(this,"usable"),this.a.resolve(),this.a=null):this.b&&(vu(this,"usable"),this.b.resolve(),this.b=null)},n.mf=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:vu(this,"output-not-allowed");break;default:vu(this,"internal-error")}},(n=gu.prototype).forEach=function(e){this.a&&e(this.a,ql)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=ql;return!(!this.a||!pt(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Wl((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(ql=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=du,e.MediaKeys=fu,e.MediaKeySystemAccess=cu,navigator.requestMediaKeySystemAccess=uu)})),bu.prototype.createSession=function(){},bu.prototype.setServerCertificate=function(){},wu.prototype.getConfiguration=function(){},wu.prototype.createMediaKeys=function(){},Wl((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=yu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=_u,e.MediaKeys=bu,e.MediaKeySystemAccess=wu)}),-10);var Su,Eu="";function ku(e){return Eu?Eu+e.charAt(0).toUpperCase()+e.slice(1):e}function Tu(e,t){try{var n=new Au(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function xu(e){var t=this.mediaKeys;return t&&t!=e&&Ru(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Ru(e,this),Promise.resolve()}function Au(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<t.length;++a){var o=t[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=0;u<o.audioCapabilities.length;++u){var c=o.audioCapabilities[u];if(c.contentType){l=!0;var d=c.contentType.split(";")[0];i.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),r=!0)}}if(o.videoCapabilities)for(u=0;u<o.videoCapabilities.length;++u)(c=o.videoCapabilities[u]).contentType&&(l=!0,i.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),r=!0));if(l||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Cu(e){this.g=e,this.b=null,this.a=new Ge,this.c=[],this.f={}}function Ru(e,t){e.b=t,e.a.Ya();var n=Eu;t&&(e.a.w(t,n+"needkey",e.tf.bind(e)),e.a.w(t,n+"keymessage",e.Zf.bind(e)),e.a.w(t,n+"keyadded",e.Xf.bind(e)),e.a.w(t,n+"keyerror",e.Yf.bind(e)))}function Lu(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function Pu(e,t,n){ke.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new Du}function Nu(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=new Uint8Array(ot("LOAD_SESSION|"+n));else{var a=ot("PERSISTENT|"),o=new Uint8Array(a.byteLength+t.byteLength);o.set(new Uint8Array(a),0),o.set(new Uint8Array(t),a.byteLength),r=o}else r=new Uint8Array(t)}catch(i){return Promise.reject(i)}e.b=new pe;var s=ku("generateKeyRequest");try{e.f[s](e.c,r)}catch(i){if("InvalidStateError"!=i.name)return e.b=null,Promise.reject(i);new ce((function(){try{e.f[s](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).O(.01)}return e.b}function Iu(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Se("keystatuseschange"))}function Du(){this.size=0,this.a=void 0}function Mu(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function Ou(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ju(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Bu(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Uu(t,n,r){return new e.TextTrackCue(t,n,r)}function zu(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function Fu(){}Au.prototype.createMediaKeys=function(){var e=new Cu(this.a);return Promise.resolve(e)},Au.prototype.getConfiguration=function(){return this.b},(n=Cu.prototype).createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.b||document.createElement("video");return t.src||(t.src="about:blank"),e=new Pu(t,this.g,e),this.c.push(e),e},n.setServerCertificate=function(){return Promise.resolve(!1)},n.tf=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},n.Zf=function(e){var t=Lu(this,e.sessionId);t&&(e=new Se("message",{messageType:void 0==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},n.Xf=function(e){(e=Lu(this,e.sessionId))&&(Iu(e,"usable"),e.a&&e.a.resolve(),e.a=null)},n.Yf=function(e){var t=Lu(this,e.sessionId);t&&t.handleError(e)},F(Pu,ke),(n=Pu.prototype).handleError=function(e){var t=Error("EME v0.1b key error");t.errorCode=e.errorCode,t.errorCode.systemCode=e.systemCode,!e.sessionId&&this.b?(t.method="generateRequest",45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(t.method="update",this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Iu(this,"output-restricted"):Iu(this,1==t?"expired":"internal-error"))},n.md=function(e,t){if(this.a)this.a.then(this.md.bind(this,e,t)).catch(this.md.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=rt(t),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=dt(r.keys[0].k),r=dt(r.keys[0].kid)}else n=new Uint8Array(t),r=null;var i=ku("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(a){this.a.reject(a),this.a=null}}},n.generateRequest=function(e,t){return Nu(this,t,null)},n.load=function(e){return"persistent-license"==this.g?Nu(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new pe;return this.md(t,e),t},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=ku("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=Du.prototype).forEach=function(e){this.a&&e(this.a,Su)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=Su;return!(!this.a||!pt(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Wl((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Eu="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Su=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Tu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xu,e.MediaKeys=Cu,e.MediaKeySystemAccess=Au}})),Wl((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Ou,document.exitPictureInPicture=ju,document.addEventListener("webkitpresentationmodechanged",Mu,!0))}})),Wl((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),Wl((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Bu)}})),Wl((function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=Uu;else if(6==t)e.VTTCue=zu;else{try{var n=!!Uu(1,2,"")}catch(r){n=!1}n&&(e.VTTCue=Uu)}}})),Fu.prototype.parseInit=function(){},Fu.prototype.parseMedia=function(e,t){var n=rt(e),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,"text/xml")}catch(_){throw new he(2,2,2005)}if(a){if(!(a=a.getElementsByTagName("tt")[0]))throw new he(2,2,2005);var o=jr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=jr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),l=jr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),u=jr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","tickRate");if(n=a.getAttribute("xml:space")||"default",i=a.getAttribute("tts:extent"),"default"!=n&&"preserve"!=n)throw new he(2,2,2005);n="default"==n,o=new uc(o,s,l,u),s=Zu(a.getElementsByTagName("metadata")[0]),l=Zu(a.getElementsByTagName("styling")[0]),u=Zu(a.getElementsByTagName("layout")[0]);for(var c=[],d=0;d<u.length;d++){var f,h,p=u[d],m=l,v=i,g=new dn,y=p.getAttribute("xml:id");if(y)g.id=y,y=null,v&&(y=Vu.exec(v)||Hu.exec(v)),v=y?Number(y[1]):null,y=y?Number(y[2]):null,(f=ic(p,m,"extent"))&&(null!=(f=(h=Vu.exec(f))||Hu.exec(f))&&(g.width=null!=v?100*Number(f[1])/v:Number(f[1]),g.height=null!=y?100*Number(f[2])/y:Number(f[2]),g.widthUnits=h||null!=v?fn:0,g.heightUnits=h||null!=y?fn:0)),(p=ic(p,m,"origin"))&&(null!=(f=(h=Vu.exec(p))||Hu.exec(p))&&(g.viewportAnchorX=null!=y?100*Number(f[1])/y:Number(f[1]),g.viewportAnchorY=null!=v?100*Number(f[2])/v:Number(f[2]),g.viewportAnchorUnits=h||null!=v?fn:0));else g=null;g&&c.push(g)}for(i=Zu(a.getElementsByTagName("body")[0]),a=0;a<i.length;a++)(d=tc(i[a],t.periodStart,o,s,l,u,c,n))&&r.push(d)}return r};var Vu=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Gu=/^(\d+px|\d+em)$/,Hu=/^(\d+)px (\d+)px$/,qu=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ku=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Wu=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,$u=/^(\d*(?:\.\d*)?)f$/,Xu=/^(\d*(?:\.\d*)?)t$/,Yu=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Qu={left:on,center:"center",right:"end",start:on,end:"end"},Ju={left:"line-left",center:"center",right:"line-right"};function Zu(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=Zu(n[r]),t=t.concat(i))}return t.length||t.push(e),t}function ec(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if("br"==n[r].nodeName&&0<r)n[r-1].textContent+="\n";else if(0<n[r].childNodes.length)ec(n[r],t);else if(t){var i=n[r].textContent.trim();i=i.replace(/\s+/g," "),n[r].textContent=i}}function tc(e,t,n,r,i,a,o,s){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;ec(e,s),s=sc(e.getAttribute("begin"),n);var l=sc(e.getAttribute("end"),n);n=sc(e.getAttribute("dur"),n);var u=e.textContent;if(null==l&&null!=n&&(l=s+n),null==s||null==l)throw new he(2,2,2001);if(t=new Yt(s+t,l+t,u),(a=oc(e,"region",a,""))&&a.getAttribute("xml:id")){var c=a.getAttribute("xml:id");o=o.filter((function(e){return e.id==c})),t.region=o[0]}return function(e,t,n,r,i){"rtl"==rc(t,n,i,"direction")&&(e.direction="rtl");var a=rc(t,n,i,"writingMode");"tb"==a||"tblr"==a?e.writingMode="vertical-lr":"tbrl"==a?e.writingMode="vertical-rl":"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=nn),(a=rc(t,n,i,"textAlign"))&&(e.positionAlign=Ju[a],e.lineAlign=Qu[a],e.textAlign=Zt[a.toUpperCase()]);(a=rc(t,n,i,"displayAlign"))&&(e.displayAlign=tn[a.toUpperCase()]);(a=rc(t,n,i,"color"))&&(e.color=a);(a=rc(t,n,i,"backgroundColor"))&&(e.backgroundColor=a);(a=rc(t,n,i,"fontFamily"))&&(e.fontFamily=a);(a=rc(t,n,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=rc(t,n,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=rc(t,n,i,"lineHeight"))&&a.match(Gu)&&(e.lineHeight=a),(a=rc(t,n,i,"fontSize"))&&a.match(Gu)&&(e.fontSize=a),(a=rc(t,n,i,"fontStyle"))&&(e.fontStyle=cn[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(n=ic(n,i,"textDecoration"))&&nc(e,n),(t=ac(t,i,"textDecoration"))&&nc(e,t)}(t,e,a,r=oc(e,"smpte:backgroundImage",r,"#"),i),t}function nc(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Ae(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Ae(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Ae(e.textDecoration,"overline")}}function rc(e,t,n,r){return(e=ac(e,n,r))?e:ic(t,n,r)}function ic(e,t,n){for(var r=Zu(e),i=0;i<r.length;i++){var a=jr.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(a)return a}return(e=oc(e,"style",t,""))?jr.getAttributeNS(e,"http://www.w3.org/ns/ttml#styling",n):null}function ac(e,t,n){return(e=oc(e,"style",t,""))?jr.getAttributeNS(e,"http://www.w3.org/ns/ttml#styling",n):null}function oc(e,t,n,r){if(!e||1>n.length)return null;var i=null,a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode)instanceof Element;);if(t=e)for(e=0;e<n.length;e++)if(r+n[e].getAttribute("xml:id")==t){i=n[e];break}return i}function sc(e,t){var n=null;if(qu.test(e)){n=qu.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/t.b)/t.frameRate)+60*i+3600*r}else Ku.test(e)?n=lc(Ku,e):Wu.test(e)?n=lc(Wu,e):$u.test(e)?(n=$u.exec(e),n=Number(n[1])/t.frameRate):Xu.test(e)?(n=Xu.exec(e),n=Number(n[1])/t.a):Yu.test(e)&&(n=lc(Yu,e));return n}function lc(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function uc(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}function cc(){this.a=new Fu}function dc(){}function fc(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?Jt:Zt[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=sn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=an,e.line=Number(n[1]),n[2]&&(e.lineAlign=sn[n[2].toUpperCase()]))}function hc(e){if(null==(e=Vi(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function pc(){this.a=null}function mc(e,t,n){var r,i,a;return(new Zr).H("payl",ni((function(e){r=rt(e)}))).H("iden",ni((function(e){i=rt(e)}))).H("sttg",ni((function(e){a=rt(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new Yt(r,i,e),t&&(e.id=t),n)for(t=new zi(n),n=Gi(t);n;)fc(e,n,[]),Fi(t),n=Gi(t);return e}(r,i,a,t,n):null}mn["application/ttml+xml"]=Fu,cc.prototype.parseInit=function(e){var t=!1;if((new Zr).H("moov",ei).H("trak",ei).H("mdia",ei).H("minf",ei).H("stbl",ei).ea("stsd",ti).H("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new he(2,2,2007)},cc.prototype.parseMedia=function(e,t){var n=!1,r=[];if((new Zr).H("mdat",ni(function(e){n=!0,r=r.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new he(2,2,2007);return r},mn['application/mp4; codecs="stpp"']=cc,mn['application/mp4; codecs="stpp.TTML.im1t"']=cc,dc.prototype.parseInit=function(){},dc.prototype.parseMedia=function(e,t){var n=rt(e);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new he(2,2,2e3);var r=t.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=hc(new zi(i[1]))))throw new he(2,2,2e3);r=t.periodStart+(Number(a[1])/9e4-r)}}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new zi(o[i]),l=new dn;Gi(s),Fi(s);for(var u=Gi(s);u;){var c=l,d=u;(u=/^id=(.*)$/.exec(d))?c.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(d))?c.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(d))?(c.height=Number(u[1]),c.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.regionAnchorX=Number(u[1]),c.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.viewportAnchorX=Number(u[1]),c.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(d)&&(c.scroll="up"),Fi(s),u=Gi(s)}a.push(l)}for(i=[],s=1;s<n.length;s++){if(u=o=n[s].split("\n"),d=r,o=a,1==u.length&&!u[0]||/^NOTE($|[ \t])/.test(u[0])||"STYLE"==u[0])o=null;else{l=null,u[0].includes("--\x3e")||(l=u[0],u.splice(0,1));var f=hc(c=new zi(u[0])),h=Vi(c,/[ \t]+--\x3e[ \t]+/g),p=hc(c);if(null==f||null==h||null==p)throw new he(2,2,2001);for(u=new Yt(f+d,p+d,u.slice(1).join("\n").trim()),Fi(c),d=Gi(c);d;)fc(u,d,o),Fi(c),d=Gi(c);null!=l&&(u.id=l),o=u}o&&i.push(o)}return i},mn["text/vtt"]=dc,mn['text/vtt; codecs="vtt"']=dc,pc.prototype.parseInit=function(e){var t=!1;if((new Zr).H("moov",ei).H("trak",ei).H("mdia",ei).ea("mdhd",function(e){0==e.version?(e.reader.L(4),e.reader.L(4),this.a=e.reader.F(),e.reader.L(4)):(e.reader.L(8),e.reader.L(8),this.a=e.reader.F(),e.reader.L(8)),e.reader.L(4)}.bind(this)).H("minf",ei).H("stbl",ei).ea("stsd",ti).H("wvtt",(function(){t=!0})).parse(e),!this.a)throw new he(2,2,2008);if(!t)throw new he(2,2,2008)},pc.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw new he(2,2,2008);var r,i=0,a=[],o=[],s=!1,l=!1,u=!1,c=null;if((new Zr).H("moof",ei).H("traf",ei).ea("tfdt",(function(e){s=!0,i=0==e.version?e.reader.F():e.reader.yb()})).ea("tfhd",(function(e){var t=e.flags;(e=e.reader).L(4),1&t&&e.L(8),2&t&&e.L(4),c=8&t?e.F():null})).ea("trun",(function(e){l=!0;var t=e.version,n=e.flags,r=(e=e.reader).F();1&n&&e.L(4),4&n&&e.L(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,od:null};256&n&&(s.duration=e.F()),512&n&&(s.sampleSize=e.F()),1024&n&&e.L(4),2048&n&&(s.od=0==t?e.F():e.Xd()),i.push(s)}a=i})).H("mdat",ni((function(e){u=!0,r=e}))).parse(e),!u&&!s&&!l)throw new he(2,2,2008);var d=i,f=new Xr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return a.forEach((function(e){var r=e.duration||c,a=e.od?i+e.od:d;d=a+(r||0);var s=0;do{var l=f.F();s+=l;var u=null;"vttc"==ii(f.F())?8<l&&(u=f.Xa(l-8)):f.L(l-8),r&&u&&o.push(mc(u,t.periodStart+a/n.a,t.periodStart+d/n.a))}while(e.sampleSize&&s<e.sampleSize)})),o.filter(Vt.Ga)},mn['application/mp4; codecs="wvtt"']=pc,z("shaka.util.Dom.createHTMLElement",(function(e){return document.createElement(e)})),z("shaka.util.Dom.createVideoElement",(function(){var e=document.createElement("video");return e.muted=!0,e.width=600,e.height=400,e})),z("shaka.util.Dom.asHTMLElement",(function(e){return e})),z("shaka.util.Dom.asHTMLMediaElement",(function(e){return e})),z("shaka.util.Dom.removeAllChildren",(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}.call(r,e,e),r.shaka)t[i]=r.shaka[i]}()},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(v=!1,w(e),!m)if(null!==r(u))m=!0,k||(k=!0,E());else{var t=r(c);null!==t&&N(S,t.startTime-e)}}var E,k=!1,T=-1,x=5,A=-1;function C(){return!!g||!(t.unstable_now()-A<x)}function R(){if(g=!1,k){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,v&&(v=!1,_(T),T=-1),p=!0;var a=h;try{t:{for(w(e),f=r(u);null!==f&&!(f.expirationTime>e&&C());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,w(e),n=!0;break t}f===r(u)&&i(u),w(e)}else i(u);f=r(u)}if(null!==f)n=!0;else{var l=r(c);null!==l&&N(S,l.startTime-e),n=!1}}break e}finally{f=null,h=a,p=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,P=L.port2;L.port1.onmessage=R,E=function(){P.postMessage(null)}}else E=function(){y(R,0)};function N(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(v?(_(T),T=-1):v=!0,N(S,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,k||(k=!0,E()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391);String.prototype.padStart||(String.prototype.padStart=function(e,t){if((e=Math.floor(e)||0)<this.length)return String(this);if(0===(t=void 0!==t?String(t):" ").length)return String(this);const n=String(this),r=e-n.length;if(r<=0)return n;let i="",a=Math.ceil(r/t.length);for(let o=0;o<a;o++)i+=t;return i.slice(0,r)+n}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){if((e=Math.floor(e)||0)<this.length)return String(this);if(0===(t=void 0!==t?String(t):" ").length)return String(this);const n=String(this),r=e-n.length;if(r<=0)return n;let i="",a=Math.ceil(r/t.length);for(let o=0;o<a;o++)i+=t;return n+i.slice(0,r)}),Array.prototype.includes||(Array.prototype.includes=function(e,t){return-1!==this.indexOf(e,t)}),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");const t=Object(this),n=parseInt(t.length)||0,r=arguments[1];for(let i=0;i<n;i++){const n=t[i];if(e.call(r,n,i,t))return n}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");const t=Object(this),n=parseInt(t.length)||0,r=arguments[1];for(let i=0;i<n;i++){const n=t[i];if(e.call(r,n,i,t))return i}return-1}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!==typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),Object.entries||(Object.entries=function(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=[t[n],e[t[n]]];return r}),Object.values||(Object.values=function(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=e[t[n]];return r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";const r=String(e);if(r.length>=t)return r;return Array(t-r.length+1).join(n)+r},i=(e,t)=>"S".concat(r(e,2),"E").concat(r(t,2));String.prototype.padStart,Element.prototype.scrollTo,window.customElements;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}console.log("\ud83d\udd27 Polyfills carregados para Tizen TV:",{padStart:"function"===typeof String.prototype.padStart,padEnd:"function"===typeof String.prototype.padEnd,arrayIncludes:"function"===typeof Array.prototype.includes,arrayFind:"function"===typeof Array.prototype.find,arrayFindIndex:"function"===typeof Array.prototype.findIndex,stringIncludes:"function"===typeof String.prototype.includes,stringStartsWith:"function"===typeof String.prototype.startsWith,stringEndsWith:"function"===typeof String.prototype.endsWith,objectEntries:"function"===typeof Object.entries,objectValues:"function"===typeof Object.values});var c=n(579);const d=t=>{let{onLogin:n}=t;const[r,i]=(0,e.useState)(""),[a,o]=(0,e.useState)(""),s=()=>{n()},l=e=>{"Enter"===e.key&&s()};return(0,c.jsxs)("div",{className:"login-screen",children:[(0,c.jsx)("img",{src:"/images/image-mesh-gradient.png",className:"background-image",alt:"Background"}),(0,c.jsxs)("div",{className:"login-form",children:[(0,c.jsx)("img",{src:"/images/BIGTV-transparente.png",className:"logo-login",alt:"BIGTV Logo"}),(0,c.jsx)("input",{type:"email",value:r,onChange:e=>i(e.target.value),placeholder:"Email",onKeyPress:l}),(0,c.jsx)("input",{type:"password",value:a,onChange:e=>o(e.target.value),placeholder:"Senha",onKeyPress:l}),(0,c.jsx)("button",{id:"continueButton",onClick:s,children:"Continuar"})]})]})},f="https://rota66.bar/player_api.php",h="zBB82J",p="AMeDHq",m={vodCategories:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_vod_categories"),seriesCategories:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_series_categories"),liveCategories:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_live_categories"),lancamentos:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_vod_streams&category_id=82"),telenovelas:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_series&category_id=81"),classicos:"".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=get_vod_streams&category_id=50")},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(f,"?username=").concat(h,"&password=").concat(p,"&action=").concat(e);return t&&(n+="&category_id=".concat(t)),n},g=async e=>{try{console.log("Fetching:",e);const t=await fetch(e);if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Erro ao buscar dados da API:",t),t}},y={getVodCategories:()=>g(m.vodCategories),getSeriesCategories:()=>g(m.seriesCategories),getLiveCategories:()=>g(m.liveCategories),getVodStreams:e=>g(v("get_vod_streams",e)),getSeries:e=>g(v("get_series",e)),getLiveStreams:e=>g(v("get_live_streams",e)),getLancamentos:()=>g(m.lancamentos),getTelenovelas:()=>g(m.telenovelas),getClassicos:()=>g(m.classicos),search:e=>(console.log("Search not implemented yet:",e),Promise.resolve([]))},_=(e,t)=>{if(e)try{"function"===typeof e.scrollTo?e.scrollTo(t):(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top))}catch(n){console.warn("Erro no scroll, usando fallback:",n),void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top)}},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)try{if("function"===typeof e.scrollIntoView)e.scrollIntoView(t);else{const n=e.getBoundingClientRect(),r=window.pageYOffset+n.top-window.innerHeight/2;"function"===typeof window.scrollTo?window.scrollTo({top:Math.max(0,r),behavior:t.behavior||"smooth"}):window.scrollTop=Math.max(0,r)}}catch(n){console.warn("Erro no scrollIntoView, usando fallback:",n);try{e.scrollIntoView()}catch(r){console.warn("Fallback tamb\xe9m falhou:",r)}}},w=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";if(!e||!t)return;const r=t.offsetWidth,i=e.offsetWidth,a=t.offsetLeft-i/2+r/2;_(e,{left:Math.max(0,a),behavior:n})},S=t=>{let{onMenu:n,menuFocus:r,shelfFocus:i,itemFocus:a}=t;const[o,s]=(0,e.useState)([]),[l,d]=(0,e.useState)([]),[f,h]=(0,e.useState)([]),[p,m]=(0,e.useState)(!0),[v,g]=(0,e.useState)(null),[w,S]=(0,e.useState)(null),[E,k]=(0,e.useState)(null),[T,x]=(0,e.useState)(!1),A=(0,e.useRef)(null),C=(0,e.useRef)([]),R=(0,e.useRef)([]),L=(0,e.useRef)([]);(0,e.useEffect)((()=>{(async()=>{try{m(!0),g(null);const e=new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout na requisi\xe7\xe3o"))),1e4))),[t,n,r]=await Promise.race([Promise.all([y.getLancamentos(),y.getTelenovelas(),y.getClassicos()]),e]),i=Array.isArray(t)?t.slice(0,10):[],a=Array.isArray(n)?n.slice(0,10):[],o=Array.isArray(r)?r.slice(0,10):[];s(i),d(a),h(o);const l=i[0]||a[0]||o[0];l&&S(u(u({},l),{},{type:i[0]?"movie":a[0]?"series":"movie"}))}catch(v){console.error("Erro ao carregar dados do home:",v),g("Erro ao carregar conte\xfado. Verifique sua conex\xe3o."),s([]),d([]),h([])}finally{m(!1)}})()}),[]);const P=[{id:"lancamentos",title:"\ud83c\udfac Lan\xe7amentos em Destaque",items:o,type:"movie",emptyMessage:"Nenhum lan\xe7amento dispon\xedvel"},{id:"telenovelas",title:"\ud83d\udcfa S\xe9ries e Telenovelas",items:l,type:"series",emptyMessage:"Nenhuma s\xe9rie dispon\xedvel"},{id:"classicos",title:"\ud83c\udfc6 Cl\xe1ssicos do Cinema",items:f,type:"movie",emptyMessage:"Nenhum cl\xe1ssico dispon\xedvel"}];(0,e.useEffect)((()=>{if(!n)if(-1===i&&null!==a&&L.current[a])b(L.current[a],{behavior:"smooth",block:"center"});else if(null!==i&&i>-1&&null!==a){const e=C.current[i],t=R.current["".concat(i,"-").concat(a)];if(e&&t){const n=e.querySelector(".carousel-track");if(n){const e=t.getBoundingClientRect(),r=n.getBoundingClientRect();if(e.left<r.left||e.right>r.right){const e=t.offsetLeft-n.offsetWidth/2+t.offsetWidth/2;_(n,{left:Math.max(0,e),behavior:"smooth"})}}const r=e.getBoundingClientRect(),i=window.innerHeight;(r.top<100||r.bottom>i-100)&&b(e,{behavior:"smooth",block:"center"})}}}),[n,i,a]);const N=()=>{A.current&&clearTimeout(A.current),x(!1),k(null)},I=(e,t)=>{console.log("Item selecionado:",e,"Tipo:",t);const n=new CustomEvent("playContent",{detail:{streamUrl:"series"===t?"https://rota66.bar/series/".concat(e.series_id,"/").concat(e.season||1,"/").concat(e.episode||1,".m3u8"):"https://rota66.bar/movie/".concat(e.stream_id,".m3u8"),streamInfo:u({name:e.name,type:t,poster:e.stream_icon||e.cover},e)}});window.dispatchEvent(n)},D=()=>{w&&I(w,w.type)},M=()=>{if(w&&"series"===w.type){const e=new CustomEvent("showSeriesDetails",{detail:{seriesData:w}});window.dispatchEvent(e)}};return(0,e.useEffect)((()=>()=>{A.current&&clearTimeout(A.current)}),[]),(0,e.useEffect)((()=>{const e=e=>{const{buttonIndex:t}=e.detail;0===t?D():1===t&&M()};return window.addEventListener("heroButtonClick",e),()=>window.removeEventListener("heroButtonClick",e)}),[w]),p?(0,c.jsx)("div",{className:"home-loading",children:(0,c.jsxs)("div",{className:"loading-content",children:[(0,c.jsx)("div",{className:"loading-spinner",children:(0,c.jsx)("div",{className:"spinner-ring"})}),(0,c.jsx)("h2",{className:"loading-title",children:"BIGTV"}),(0,c.jsx)("p",{className:"loading-text",children:"Carregando seu entretenimento..."})]})}):v?(0,c.jsx)("div",{className:"home-error",children:(0,c.jsxs)("div",{className:"error-content",children:[(0,c.jsx)("div",{className:"error-icon",children:(0,c.jsx)("i",{className:"fa-solid fa-wifi"})}),(0,c.jsx)("h2",{className:"error-title",children:"Ops! Algo deu errado"}),(0,c.jsx)("p",{className:"error-message",children:v}),(0,c.jsxs)("button",{className:"error-retry-btn",onClick:()=>window.location.reload(),children:[(0,c.jsx)("i",{className:"fa-solid fa-refresh"}),"Tentar Novamente"]})]})}):(0,c.jsxs)("div",{className:"home-container",children:[w&&(0,c.jsxs)("section",{className:"hero-banner",children:[(0,c.jsxs)("div",{className:"hero-background",children:[(0,c.jsx)("img",{src:w.stream_icon||w.cover||"/images/banner (1).jpg",alt:w.name,className:"hero-bg-image",loading:"eager"}),(0,c.jsx)("div",{className:"hero-color"})]}),(0,c.jsx)("div",{className:"hero-content",children:(0,c.jsxs)("div",{className:"hero-info",children:[(0,c.jsx)("div",{className:"hero-logo",children:(0,c.jsx)("img",{src:"/images/BIGTV-transparente.png",alt:"BIGTV",className:"brand-logo"})}),(0,c.jsx)("h1",{className:"hero-title",children:w.name}),(0,c.jsxs)("div",{className:"hero-meta",children:[(0,c.jsx)("span",{className:"content-type",children:"series"===w.type?"S\xc9RIE":"FILME"}),w.rating&&(0,c.jsxs)("span",{className:"content-rating",children:[(0,c.jsx)("i",{className:"fa-solid fa-star"}),w.rating]}),(0,c.jsx)("span",{className:"content-year",children:"2024"})]}),(0,c.jsx)("p",{className:"hero-description",children:w.plot||"".concat("series"===w.type?"Uma s\xe9rie":"Um filme"," imperd\xedvel que vai te manter grudado na tela. Entretenimento de qualidade com a melhor experi\xeancia de streaming.")}),(0,c.jsxs)("div",{className:"hero-actions",children:[(0,c.jsxs)("button",{ref:e=>L.current[0]=e,className:"hero-btn primary ".concat(n||-1!==i||0!==a?"":"focused"),onClick:D,children:[(0,c.jsx)("i",{className:"fa-solid fa-play"}),"Assistir"]}),"series"===w.type&&(0,c.jsxs)("button",{ref:e=>L.current[1]=e,className:"hero-btn secondary ".concat(n||-1!==i||1!==a?"":"focused"),onClick:M,children:[(0,c.jsx)("i",{className:"fa-solid fa-info-circle"}),"Mais Informa\xe7\xf5es"]})]})]})})]}),(0,c.jsx)("section",{className:"content-shelves",children:P.map(((e,t)=>(0,c.jsxs)("div",{className:"content-shelf",ref:e=>C.current[t]=e,children:[(0,c.jsx)("h2",{className:"shelf-title",children:e.title}),(0,c.jsx)("div",{className:"shelf-carousel",children:e.items.length>0?(0,c.jsx)("div",{className:"carousel-track",children:e.items.map(((r,o)=>{const s=!n&&i===t&&a===o;return(0,c.jsxs)("div",{ref:e=>R.current["".concat(t,"-").concat(o)]=e,className:"content-card ".concat(s?"focused":""),onClick:()=>I(r,e.type),onMouseEnter:()=>((e,t)=>{A.current&&clearTimeout(A.current),A.current=setTimeout((()=>{k(u(u({},e),{},{type:t})),x(!0)}),1e3)})(r,e.type),onMouseLeave:N,children:[(0,c.jsxs)("div",{className:"card-image",children:[(0,c.jsx)("img",{src:r.stream_icon||r.cover||"/images/BIGTV-transparente.png",alt:r.name,loading:"lazy",onError:e=>{e.target.src="/images/BIGTV-transparente.png"}}),(0,c.jsx)("div",{className:"card-overlay",children:(0,c.jsx)("div",{className:"play-button",children:(0,c.jsx)("i",{className:"fa-solid fa-play"})})}),r.rating&&(0,c.jsxs)("div",{className:"card-rating",children:[(0,c.jsx)("i",{className:"fa-solid fa-star"}),(0,c.jsx)("span",{children:r.rating})]})]}),(0,c.jsxs)("div",{className:"card-info",children:[(0,c.jsx)("h3",{className:"card-title",children:r.name}),(0,c.jsxs)("div",{className:"card-meta",children:[(0,c.jsx)("span",{className:"card-type",children:"series"===e.type?"S\xe9rie":"Filme"}),r.episode_run_time&&(0,c.jsxs)("span",{className:"card-duration",children:[r.episode_run_time,"min"]})]})]})]},r.stream_id||r.series_id||o)}))}):(0,c.jsx)("div",{className:"shelf-empty",children:(0,c.jsxs)("div",{className:"empty-content",children:[(0,c.jsx)("i",{className:"fa-solid fa-film"}),(0,c.jsx)("p",{children:e.emptyMessage})]})})})]},e.id)))}),(0,c.jsx)("div",{className:"navigation-helper",children:(0,c.jsxs)("div",{className:"nav-hint",children:[(0,c.jsx)("i",{className:"fa-solid fa-gamepad"}),(0,c.jsx)("span",{children:"Use as setas para navegar \u2022 OK para assistir \u2022 Voltar para menu"})]})})]})},E=[{id:"search",label:"Pesquisar",icon:"fa-magnifying-glass"},{id:"home",label:"Home",icon:"fa-house"},{id:"channels",label:"Canais Ao Vivo",icon:"fa-tv"},{id:"movies",label:"Filmes",icon:"fa-film"},{id:"series",label:"S\xe9ries",icon:"fa-video"}],k=e=>{let{currentSection:t,onMenu:n,menuFocus:r,onSectionChange:i}=e;return(0,c.jsxs)("nav",{className:"sidebar ".concat(n?"expanded":"collapsed"),children:[(0,c.jsx)("div",{className:"sidebar-logo",children:(0,c.jsx)("img",{src:"/images/BIGTV-transparente.png",alt:"BIGTV Logo",className:"sidebar-logo-img"})}),(0,c.jsx)("div",{className:"sidebar-menu",children:E.map(((e,a)=>(0,c.jsxs)("div",{className:"sidebar-menu-item ".concat(t===e.id?"active":""," ").concat(n&&r===a?"focused":""),onClick:()=>{return t=e.id,void i(t);var t},"data-tooltip":e.label,children:[(0,c.jsx)("div",{className:"menu-item-icon",children:(0,c.jsx)("i",{className:"fa-solid ".concat(e.icon)})}),(0,c.jsx)("span",{className:"menu-item-label",children:e.label})]},e.id)))})]})},T=t=>{let{isActive:n}=t;const[r,i]=(0,e.useState)([]),[a,o]=(0,e.useState)([]),[s,l]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)("categories"),[v,g]=(0,e.useState)(0),[y,_]=(0,e.useState)(0),[w,S]=(0,e.useState)(0),E=15,k=(0,e.useRef)([]),T=(0,e.useRef)([]),x=(0,e.useRef)(null),A="https://rota66.bar/player_api.php",C="username=zBB82J&password=AMeDHq",R=(0,e.useCallback)((async()=>{d(!0);try{const e=await fetch("".concat(A,"?").concat(C,"&action=get_live_categories")),t=await e.json();i(t),t.length>0&&(l(t[0].category_id),g(0),L(t[0].category_id))}catch(e){console.error("Erro ao carregar categorias:",e),i([])}finally{d(!1)}}),[]),L=(0,e.useCallback)((async e=>{h(!0),_(0),S(0);try{const t=await fetch("".concat(A,"?").concat(C,"&action=get_live_streams&category_id=").concat(e)),n=await t.json();o(n),"channels"===p&&_(0)}catch(t){console.error("Erro ao carregar canais:",t),o([])}finally{h(!1)}}),[p]),P=(0,e.useCallback)((()=>{const e=w*E,t=e+E;return a.slice(e,t)}),[w,a]),N=Math.ceil(a.length/E),I=P(),D=(0,e.useCallback)((e=>{var t;console.log("Canal selecionado:",e);const n="https://rota66.bar/".concat(C.split("&")[0].split("=")[1],"/").concat(C.split("&")[1].split("=")[1],"/").concat(e.stream_id),i={name:e.name,category:s?null===(t=r.find((e=>e.category_id===s)))||void 0===t?void 0:t.category_name:"Canal",description:"Canal ao vivo - ".concat(e.name),type:"live"},a=new CustomEvent("playContent",{detail:{streamUrl:n,streamInfo:i}});window.dispatchEvent(a)}),[C,s,r]),M=(0,e.useCallback)((e=>{l(e);const t=r.findIndex((t=>t.category_id===e));g(t),L(e),m("channels")}),[r,L]);(0,e.useEffect)((()=>{n&&R()}),[n,R]),(0,e.useEffect)((()=>{k.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),T.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),"categories"===p&&k.current[v]?(k.current[v].classList.add("focused"),b(k.current[v],{behavior:"smooth",block:"nearest"})):"channels"===p&&T.current[y]&&(T.current[y].classList.add("focused"),b(T.current[y],{behavior:"smooth",block:"nearest"}))}),[p,v,y]);const O=(0,e.useCallback)((e=>{if(38===e)g((e=>Math.max(0,e-1)));else if(40===e)g((e=>Math.min(r.length-1,e+1)));else if(37===e){const e=new CustomEvent("backToSidebar");window.dispatchEvent(e)}else if(39===e)a.length>0&&(m("channels"),_(0));else if(13===e&&r[v]){const e=r[v];l(e.category_id),L(e.category_id)}}),[r,v,a.length,L]),j=(0,e.useCallback)((e=>{const t=I.length;if(38===e){if(Math.floor(y/5)>0){const e=Math.max(0,y-5);_(e)}else if(w>0){S(w-1);const e=10+y%5,t=(w-1)*E,n=a.slice(t,t+E).length;_(Math.min(e,n-1))}}else if(40===e){if(Math.floor(y/5)<Math.floor((t-1)/5)){const e=Math.min(t-1,y+5);_(e)}else w<N-1&&(S(w+1),_(y%5))}else if(37===e){if(y%5>0)_(y-1);else{m("categories");const e=r.findIndex((e=>e.category_id===s));g(e>=0?e:0)}}else if(39===e){const e=y%5;if(e<4&&y<t-1)_(y+1);else if(4===e){const e=Math.floor(y/5);e<Math.floor((t-1)/5)?_(5*(e+1)):w<N-1&&(S(w+1),_(0))}}else if(13===e&&I[y]){D(a[w*E+y])}}),[I,y,w,N,a,r,s,D]);(0,e.useEffect)((()=>{if(!n)return;const e=e=>{const{keyCode:t}=e.detail;"categories"===p?O(t):"channels"===p&&j(t)};return window.addEventListener("channelsNavigation",e),()=>window.removeEventListener("channelsNavigation",e)}),[n,p,O,j]);const B=e=>{e.target.style.display="none"};return n?(0,c.jsxs)("div",{className:"channels-page",ref:x,children:[(0,c.jsx)("div",{className:"category-sidebar",children:u?(0,c.jsx)("div",{className:"loading",children:"Carregando categorias..."}):(0,c.jsx)("div",{className:"category-list",children:r.map(((e,t)=>(0,c.jsx)("button",{ref:e=>k.current[t]=e,className:"category-button ".concat(s===e.category_id?"active":""),onClick:()=>M(e.category_id),children:e.category_name},e.category_id)))})}),(0,c.jsx)("div",{className:"main-content-area",children:(0,c.jsx)("div",{className:"channels-content",children:f?(0,c.jsx)("div",{className:"loading",children:"Carregando canais..."}):(0,c.jsxs)(c.Fragment,{children:[N>1&&(0,c.jsxs)("div",{className:"pagination-info",children:[(0,c.jsxs)("span",{children:["P\xe1gina ",w+1," de ",N]}),(0,c.jsxs)("span",{className:"channels-count",children:[a.length," canais \u2022 ",I.length," nesta p\xe1gina"]})]}),(0,c.jsx)("div",{className:"channels-grid",children:I.map(((e,t)=>(0,c.jsx)("div",{ref:e=>T.current[t]=e,className:"channel",onClick:()=>{D(a[w*E+t])},children:(0,c.jsxs)("div",{className:"channel-poster",children:[e.stream_icon&&(0,c.jsx)("img",{src:e.stream_icon,alt:e.name,onError:B}),(0,c.jsxs)("div",{className:"channel-overlay",children:[(0,c.jsx)("h3",{className:"channel-title",children:e.name}),(0,c.jsx)("div",{className:"channel-actions",children:(0,c.jsx)("span",{className:"action-hint",children:"ENTER Assistir"})})]})]})},e.stream_id)))})]})})})]}):null},x=t=>{let{movie:n,isActive:r,onBack:i}=t;const[a,o]=(0,e.useState)("play"),[s,l]=(0,e.useState)(!1),[d,f]=(0,e.useState)("actions"),h="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen"),p="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,m=(0,e.useCallback)((e=>{switch(e){case"play":console.log("\ud83c\udfac Reproduzindo filme:",n),console.log("\ud83d\udd27 Ambiente detectado:",{isTizenTV:h,isDevelopment:p});const e="https://rota66.bar/movie/".concat("zBB82J","/").concat("AMeDHq","/").concat(n.stream_id,".mp4"),t=new CustomEvent("playContent",{detail:{streamUrl:e,streamInfo:{name:n.name,type:"movie",category:n.category_name||"Filme",description:n.plot||"Descri\xe7\xe3o n\xe3o dispon\xedvel",year:n.releasedate||"N/A",rating:n.rating||"N/A",poster:n.stream_icon}}});console.log("\ud83d\udcfa Disparando evento playContent para filme..."),window.dispatchEvent(t);break;case"favorite":v()}}),[n,h,p]),v=(0,e.useCallback)((()=>{const e=JSON.parse(localStorage.getItem("favorites")||"{}"),t="movie_".concat(n.stream_id);e[t]?(delete e[t],l(!1)):(e[t]=u(u({},n),{},{type:"movie",addedAt:(new Date).toISOString()}),l(!0)),localStorage.setItem("favorites",JSON.stringify(e))}),[n]),g=(0,e.useCallback)((e=>{37===e||39===e?o("play"===a?"favorite":"play"):13===e&&m(a)}),[a,m]);return(0,e.useEffect)((()=>{if(!r||!n)return;o("play"),f("actions");const e=JSON.parse(localStorage.getItem("favorites")||"{}"),t="movie_".concat(n.stream_id);l(!!e[t])}),[r,n]),(0,e.useEffect)((()=>{if(!r)return;const e=e=>{const{keyCode:t}=e.detail;8!==t&&10009!==t?"actions"===d&&g(t):i()};return window.addEventListener("movieDetailsNavigation",e),()=>window.removeEventListener("movieDetailsNavigation",e)}),[r,d,g,i]),r&&n?(0,c.jsxs)("div",{className:"movie-details-page",children:[(0,c.jsxs)("div",{className:"movie-main-layout",children:[(0,c.jsxs)("div",{className:"movie-info-panel",children:[(0,c.jsxs)("div",{className:"movie-header-info",children:[(0,c.jsx)("img",{src:"/images/logo-provider.png",alt:"Provider Logo",className:"movie-provider-logo",onError:e=>{e.target.style.display="none"}}),(0,c.jsx)("div",{className:"new-movie-badge",children:"Filme em Destaque"}),(0,c.jsx)("h1",{className:"movie-title-main",children:n.name}),(0,c.jsxs)("div",{className:"movie-meta-info",children:[(0,c.jsxs)("div",{className:"meta-item age-rating",children:[(0,c.jsx)("i",{className:"fas fa-shield-alt"}),(0,c.jsx)("span",{children:"14+"})]}),(0,c.jsxs)("div",{className:"meta-item movie-year",children:[(0,c.jsx)("i",{className:"fas fa-calendar-alt"}),(0,c.jsx)("span",{children:n.releasedate||"N/A"})]}),(0,c.jsxs)("div",{className:"meta-item movie-rating",children:[(0,c.jsx)("i",{className:"fas fa-star"}),(0,c.jsxs)("span",{children:["\u2b50 ",n.rating||"N/A"]})]})]})]}),(0,c.jsx)("div",{className:"movie-synopsis",children:(0,c.jsx)("p",{className:"synopsis-text expanded",children:n.plot||"Descri\xe7\xe3o n\xe3o dispon\xedvel para este filme."})}),(0,c.jsxs)("div",{className:"movie-genres",children:[(0,c.jsx)("div",{className:"genre-tag",children:n.category_name||"Filme"}),(0,c.jsx)("div",{className:"genre-tag",children:"HD"}),(0,c.jsx)("div",{className:"genre-tag",children:"Legendado"})]}),(0,c.jsxs)("div",{className:"movie-action-buttons",children:[(0,c.jsxs)("button",{className:"primary-action-btn ".concat("actions"===d&&"play"===a?"focused":""),onClick:()=>m("play"),children:[(0,c.jsx)("i",{className:"fas fa-play"}),"Assistir Filme"]}),(0,c.jsxs)("button",{className:"secondary-action-btn ".concat("actions"===d&&"favorite"===a?"focused":""),onClick:()=>m("favorite"),children:[(0,c.jsx)("i",{className:"fas ".concat(s?"fa-heart":"fa-plus")}),s?"Na Minha Lista":"Minha Lista"]})]})]}),(0,c.jsxs)("div",{className:"movie-promotional-art",children:[(0,c.jsx)("img",{src:n.stream_icon||"/images/placeholder-movie.jpg",alt:n.name,className:"promotional-image",loading:"lazy",onError:e=>{e.target.src="/images/placeholder-movie.jpg"}}),(0,c.jsx)("div",{className:"promotional-overlay"})]})]}),(0,c.jsx)("div",{className:"movie-info-area",children:(0,c.jsxs)("div",{className:"movie-additional-info",children:[(0,c.jsxs)("div",{className:"info-section",children:[(0,c.jsx)("h3",{children:"Informa\xe7\xf5es do Filme"}),(0,c.jsxs)("div",{className:"info-grid",children:[(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsx)("span",{className:"info-label",children:"Ano:"}),(0,c.jsx)("span",{className:"info-value",children:n.releasedate||"N/A"})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsx)("span",{className:"info-label",children:"Categoria:"}),(0,c.jsx)("span",{className:"info-value",children:n.category_name||"Filme"})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsx)("span",{className:"info-label",children:"Avalia\xe7\xe3o:"}),(0,c.jsxs)("span",{className:"info-value",children:["\u2b50 ",n.rating||"N/A"]})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsx)("span",{className:"info-label",children:"Qualidade:"}),(0,c.jsx)("span",{className:"info-value",children:"HD 1080p"})]})]})]}),(0,c.jsxs)("div",{className:"movie-controls-hint",children:[(0,c.jsxs)("div",{className:"control-item",children:[(0,c.jsx)("i",{className:"fas fa-arrow-left"}),(0,c.jsx)("i",{className:"fas fa-arrow-right"}),(0,c.jsx)("span",{children:"Navegar"})]}),(0,c.jsxs)("div",{className:"control-item",children:[(0,c.jsx)("span",{children:"ENTER"}),(0,c.jsx)("span",{children:"Selecionar"})]}),(0,c.jsxs)("div",{className:"control-item",children:[(0,c.jsx)("span",{children:"VOLTAR"}),(0,c.jsx)("span",{children:"Retornar"})]})]})]})})]}):null},A=t=>{let{isActive:n}=t;const[r,i]=(0,e.useState)([]),[a,o]=(0,e.useState)([]),[s,l]=(0,e.useState)(null),[d,f]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,v]=(0,e.useState)("categories"),[g,y]=(0,e.useState)(0),[_,w]=(0,e.useState)(0),[S,E]=(0,e.useState)(0),k=15,[T,A]=(0,e.useState)(null),[C,R]=(0,e.useState)(!1),L=(0,e.useRef)([]),P=(0,e.useRef)([]),N=(0,e.useRef)(null),I="https://rota66.bar/player_api.php",D="username=zBB82J&password=AMeDHq",M="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen"),O="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,j=(0,e.useCallback)((async()=>{f(!0);try{const e=await fetch("".concat(I,"?").concat(D,"&action=get_vod_categories")),t=await e.json();i(t),t.length>0&&(l(t[0].category_id),y(0),B(t[0].category_id))}catch(e){console.error("Erro ao carregar categorias de filmes:",e),i([])}finally{f(!1)}}),[]),B=(0,e.useCallback)((async e=>{p(!0),w(0),E(0);try{const t=await fetch("".concat(I,"?").concat(D,"&action=get_vod_streams&category_id=").concat(e)),n=await t.json();o(n),"movies"===m&&w(0)}catch(t){console.error("Erro ao carregar filmes:",t),o([])}finally{p(!1)}}),[m]),U=(0,e.useCallback)((()=>{const e=S*k,t=e+k;return a.slice(e,t)}),[S,a]),z=Math.ceil(a.length/k),F=U(),V=(0,e.useCallback)((e=>{var t;console.log("Filme selecionado:",e),console.log("\ud83d\udd27 Ambiente detectado:",{isTizenTV:M,isDevelopment:O});const n="https://rota66.bar/movie/".concat(D.split("&")[0].split("=")[1],"/").concat(D.split("&")[1].split("=")[1],"/").concat(e.stream_id,".mp4"),i={name:e.name,category:s?null===(t=r.find((e=>e.category_id===s)))||void 0===t?void 0:t.category_name:"Filme",description:e.plot||"Filme - ".concat(e.name),year:e.releaseDate?new Date(e.releaseDate).getFullYear():null,rating:e.rating,type:"movie"};if(M){console.log("\ud83d\udcfa Configura\xe7\xe3o Tizen TV ativada para filme");const e=new CustomEvent("playContent",{detail:{streamUrl:n,streamInfo:u(u({},i),{},{forceTizenPlayer:!0,preventBrowserRedirect:!0,useInternalPlayer:!0})},bubbles:!1,cancelable:!1});setTimeout((()=>{console.log("\ud83d\udcfa Disparando evento playContent para Tizen TV (filme)"),window.dispatchEvent(e)}),100)}else{console.log("\ud83d\udcbb Configura\xe7\xe3o padr\xe3o ativada para filme");const e=new CustomEvent("playContent",{detail:{streamUrl:n,streamInfo:i}});window.dispatchEvent(e)}}),[D,s,r,M,O]),G=(0,e.useCallback)((e=>{const t=r.find((e=>e.category_id===s)),n=u(u({},e),{},{category_name:(null===t||void 0===t?void 0:t.category_name)||"Filme"});A(n),R(!0);const i=new CustomEvent("moviePreviewActive",{detail:{active:!0}});window.dispatchEvent(i)}),[r,s]),H=(0,e.useCallback)((e=>{l(e);const t=r.findIndex((t=>t.category_id===e));y(t),B(e),v("movies")}),[r,B]);(0,e.useEffect)((()=>{n&&j()}),[n,j]),(0,e.useEffect)((()=>{L.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),P.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),"categories"===m&&L.current[g]?(L.current[g].classList.add("focused"),b(L.current[g],{behavior:"smooth",block:"nearest"})):"movies"===m&&P.current[_]&&(P.current[_].classList.add("focused"),b(P.current[_],{behavior:"smooth",block:"nearest"}))}),[m,g,_]);const q=(0,e.useCallback)((e=>{if(38===e)y((e=>Math.max(0,e-1)));else if(40===e)y((e=>Math.min(r.length-1,e+1)));else if(37===e){const e=new CustomEvent("backToSidebar");window.dispatchEvent(e)}else if(39===e)a.length>0&&(v("movies"),w(0));else if(13===e&&r[g]){const e=r[g];l(e.category_id),B(e.category_id)}}),[r,g,a.length,B]),K=(0,e.useCallback)((e=>{const t=F.length;if(38===e){if(Math.floor(_/5)>0){const e=Math.max(0,_-5);w(e)}else if(S>0){E(S-1);const e=10+_%5,t=(S-1)*k,n=a.slice(t,t+k).length;w(Math.min(e,n-1))}}else if(40===e){if(Math.floor(_/5)<Math.floor((t-1)/5)){const e=Math.min(t-1,_+5);w(e)}else S<z-1&&(E(S+1),w(_%5))}else if(37===e){if(_%5>0)w(_-1);else{v("categories");const e=r.findIndex((e=>e.category_id===s));y(e>=0?e:0)}}else if(39===e){const e=_%5;if(e<4&&_<t-1)w(_+1);else if(4===e){const e=Math.floor(_/5);e<Math.floor((t-1)/5)?w(5*(e+1)):S<z-1&&(E(S+1),w(0))}}else if(13===e){if(F[_]){G(a[S*k+_])}}else if(73===e&&F[_]){G(a[S*k+_])}}),[F,_,S,z,a,r,s,G]);(0,e.useEffect)((()=>{if(!n)return;const e=e=>{const{keyCode:t}=e.detail;"categories"===m?q(t):"movies"===m&&K(t)};return window.addEventListener("moviesNavigation",e),()=>window.removeEventListener("moviesNavigation",e)}),[n,m,q,K]);const W=e=>{e.target.style.display="none"};return n?(0,c.jsxs)("div",{className:"movies-page",ref:N,children:[(0,c.jsx)("div",{className:"category-sidebar",children:d?(0,c.jsx)("div",{className:"loading",children:"Carregando categorias..."}):(0,c.jsx)("div",{className:"category-list",children:r.map(((e,t)=>(0,c.jsx)("button",{ref:e=>L.current[t]=e,className:"category-button ".concat(s===e.category_id?"active":""),onClick:()=>H(e.category_id),children:e.category_name},e.category_id)))})}),(0,c.jsx)("div",{className:"main-content-area",children:(0,c.jsx)("div",{className:"movies-content",children:h?(0,c.jsx)("div",{className:"loading",children:"Carregando filmes..."}):(0,c.jsxs)(c.Fragment,{children:[z>1&&(0,c.jsxs)("div",{className:"pagination-info",children:[(0,c.jsxs)("span",{children:["P\xe1gina ",S+1," de ",z]}),(0,c.jsxs)("span",{className:"movies-count",children:[a.length," filmes \u2022 ",F.length," nesta p\xe1gina"]})]}),(0,c.jsx)("div",{className:"movies-grid",children:F.map(((e,t)=>(0,c.jsx)("div",{ref:e=>P.current[t]=e,className:"movie",onClick:()=>{V(a[S*k+t])},children:(0,c.jsxs)("div",{className:"movie-poster",children:[(e.stream_icon||e.cover)&&(0,c.jsx)("img",{src:e.stream_icon||e.cover,alt:e.name,onError:W}),(0,c.jsxs)("div",{className:"movie-overlay",children:[(0,c.jsx)("h3",{className:"movie-title",children:e.name}),(0,c.jsxs)("div",{className:"movie-info",children:[(0,c.jsx)("span",{className:"movie-year",children:e.releaseDate?new Date(e.releaseDate).getFullYear():"N/A"}),(0,c.jsxs)("span",{className:"movie-rating",children:["\u2b50 ",e.rating||"N/A"]})]}),(0,c.jsx)("p",{className:"movie-description",children:e.plot?e.plot.length>120?e.plot.substring(0,120)+"...":e.plot:"Descri\xe7\xe3o n\xe3o dispon\xedvel"}),(0,c.jsxs)("div",{className:"movie-actions",children:[(0,c.jsx)("span",{className:"action-hint",children:"ENTER Preview"}),(0,c.jsx)("span",{className:"action-hint",children:"I Info"})]})]})]})},e.stream_id)))})]})})}),C&&(0,c.jsx)(x,{movie:T,isActive:C,onBack:()=>{R(!1),A(null);const e=new CustomEvent("moviePreviewActive",{detail:{active:!1}});window.dispatchEvent(e)}})]}):null},C=t=>{var n;let{series:a,isActive:o,onBack:s}=t;const[l,u]=(0,e.useState)("play"),[d,f]=(0,e.useState)(!1),[h,p]=(0,e.useState)([]),[m,v]=(0,e.useState)([]),[g,y]=(0,e.useState)(1),[_,b]=(0,e.useState)(0),[S,E]=(0,e.useState)("actions"),[k,T]=(0,e.useState)(0),[x,A]=(0,e.useState)(0),[C,R]=(0,e.useState)(!1),[L,P]=(0,e.useState)(!1),N=(0,e.useRef)([]),I=(0,e.useRef)([]),D=(0,e.useRef)([]),M="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen"),O="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,j="https://rota66.bar/player_api.php",B="username=zBB82J&password=AMeDHq",U=(0,e.useCallback)((e=>{if(D.current[e]){const t=D.current[e],n=t.parentElement;w(n,t,"auto")}}),[]),z=(0,e.useCallback)((async e=>{try{R(!0);const t=await fetch("".concat(j,"?").concat(B,"&action=get_series_info&series_id=").concat(a.series_id)),n=await t.json();n.episodes&&n.episodes[e]?(v(n.episodes[e]),b(0),A(0),P(!0),E("episodes")):(v([]),P(!0),E("episodes"))}catch(t){console.error("Erro ao carregar epis\xf3dios:",t),v([]),P(!0),E("episodes")}finally{R(!1)}}),[null===a||void 0===a?void 0:a.series_id]),F=(0,e.useCallback)((e=>{if(g===e)return;y(e);const t=h.findIndex((t=>t.season_number===e));T(t),z(e)}),[g,h,z]),V=(0,e.useCallback)((e=>{var t;console.log("\ud83c\udfac Reproduzindo epis\xf3dio:",e),console.log("\ud83d\udd27 Ambiente detectado:",{isTizenTV:M,isDevelopment:O});const n="https://rota66.bar/series/zBB82J/AMeDHq/".concat(e.id||e.stream_id,".mp4"),r=new CustomEvent("playContent",{detail:{streamUrl:n,streamInfo:{name:"".concat(a.name," - ").concat(i(g,e.episode_num||1)," - ").concat(e.title||e.name||"Epis\xf3dio"),type:"series",category:a.category_name||"S\xe9rie",description:e.plot||(null===(t=e.info)||void 0===t?void 0:t.plot)||a.plot||"Descri\xe7\xe3o n\xe3o dispon\xedvel",year:a.releasedate||"N/A",rating:a.rating||e.rating||"N/A",poster:a.cover||a.stream_icon}}});console.log("\ud83d\udcfa Disparando evento playContent..."),window.dispatchEvent(r)}),[a,g,M,O]),G=(0,e.useCallback)((async()=>{try{R(!0);const e=await fetch("".concat(j,"?").concat(B,"&action=get_series_info&series_id=").concat(a.series_id)),t=await e.json();if(t.episodes&&Object.keys(t.episodes).length>0){const e=Object.keys(t.episodes)[0],n=t.episodes[e][0];n&&(console.log("\ud83c\udfac Reproduzindo primeiro epis\xf3dio via loadFirstEpisode"),V(n))}}catch(e){console.error("Erro ao carregar primeiro epis\xf3dio:",e)}finally{R(!1)}}),[null===a||void 0===a?void 0:a.series_id,V]),H=(0,e.useCallback)((()=>{const e=JSON.parse(localStorage.getItem("favorites")||"{}"),t="series_".concat(a.series_id);d?delete e[t]:e[t]={series_id:a.series_id,name:a.name,cover:a.cover,stream_icon:a.stream_icon,plot:a.plot,category_name:a.category_name,rating:a.rating,releasedate:a.releasedate,addedAt:(new Date).toISOString()},localStorage.setItem("favorites",JSON.stringify(e)),f(!d)}),[a,d]),q=(0,e.useCallback)((async()=>{if(null!==a&&void 0!==a&&a.series_id)try{R(!0);const e=await fetch("".concat(j,"?").concat(B,"&action=get_series_info&series_id=").concat(a.series_id)),t=await e.json();if(t.seasons&&(p(t.seasons),t.seasons.length>0)){const e=t.seasons[0].season_number;y(e),t.episodes&&t.episodes[e]&&v(t.episodes[e])}}catch(e){console.error("Erro ao carregar informa\xe7\xf5es da s\xe9rie:",e)}finally{R(!1)}}),[null===a||void 0===a?void 0:a.series_id]),K=(0,e.useCallback)((e=>{37===e||39===e?u("play"===l?"favorite":"play"):40===e?h.length>0?(E("seasons"),T(0),P(!0)):(E("episodes"),A(0),P(!0),setTimeout((()=>U(0)),100)):13===e&&("play"===l?m.length>0&&m[_]?V(m[_]):G():"favorite"===l&&H())}),[l,h.length,m,_,V,G,H,U]),W=(0,e.useCallback)((e=>{if(38===e)k>0?T(k-1):(E("actions"),u("play"),P(!1));else if(40===e)E("episodes"),A(0),setTimeout((()=>U(0)),100);else if(37===e){const e=k>0?k-1:h.length-1;T(e);const t=h[e];t&&F(t.season_number)}else if(39===e){const e=k<h.length-1?k+1:0;T(e);const t=h[e];t&&F(t.season_number)}else if(13===e){const e=h[k];e&&F(e.season_number)}}),[k,h,F,U]),$=(0,e.useCallback)((e=>{if(38===e)h.length>0?E("seasons"):(E("actions"),u("play"),P(!1));else if(37===e){if(x>0){const e=x-1;A(e),U(e)}}else if(39===e){if(x<m.length-1){const e=x+1;A(e),U(e)}}else if(13===e&&m[x]){const e=m[x];b(x),V(e)}}),[x,m,h.length,V,U]);(0,e.useCallback)(((e,t)=>{if(e&&t)try{w(t,e,"auto")}catch(n){console.warn("Erro no scroll central:",n)}}),[]);return(0,e.useEffect)((()=>{if(!o||!a)return;u("play"),E("actions"),P(!1),T(0),A(0);const e=JSON.parse(localStorage.getItem("favorites")||"{}"),t="series_".concat(a.series_id);f(!!e[t]),q()}),[o,a,q]),(0,e.useEffect)((()=>{if(!o)return;const e=e=>{const{keyCode:t}=e.detail;8!==t&&10009!==t?"actions"===S?K(t):"seasons"===S?W(t):"episodes"===S&&$(t):!L||"episodes"!==S&&"seasons"!==S?s():(P(!1),E("actions"),u("play"))};return window.addEventListener("seriesDetailsNavigation",e),()=>window.removeEventListener("seriesDetailsNavigation",e)}),[o,S,L,K,W,$,s]),o&&a?(0,c.jsxs)("div",{className:"series-details-page",children:[(0,c.jsxs)("div",{className:"series-main-layout ".concat(L?"episodes-focused":""),children:[(0,c.jsxs)("div",{className:"series-info-panel ".concat(m.length>0?"has-episodes":""),children:[(0,c.jsxs)("div",{className:"series-header-info",children:[(0,c.jsx)("img",{src:"/images/logo-provider.png",alt:"Provider Logo",className:"series-provider-logo",onError:e=>{e.target.style.display="none"}}),(0,c.jsx)("div",{className:"new-episode-badge",children:"Novo Epis\xf3dio"}),(0,c.jsx)("h1",{className:"series-title-main",children:a.name}),(0,c.jsxs)("div",{className:"series-meta-info",children:[(0,c.jsxs)("div",{className:"meta-item age-rating",children:[(0,c.jsx)("i",{className:"fas fa-shield-alt"}),(0,c.jsx)("span",{children:"14+"})]}),(0,c.jsxs)("div",{className:"meta-item season-count",children:[(0,c.jsx)("i",{className:"fas fa-list"}),(0,c.jsxs)("span",{children:[h.length," Temporadas"]})]})]})]}),(0,c.jsx)("div",{className:"series-synopsis",children:(0,c.jsx)("p",{className:"synopsis-text expanded",children:a.plot||"Descri\xe7\xe3o n\xe3o dispon\xedvel para esta s\xe9rie."})}),(0,c.jsxs)("div",{className:"series-genres",children:[(0,c.jsx)("div",{className:"genre-tag",children:"Com\xe9dia"}),(0,c.jsx)("div",{className:"genre-tag",children:"Anima\xe7\xe3o"}),(0,c.jsx)("div",{className:"genre-tag",children:"Adulto"})]}),(0,c.jsxs)("div",{className:"series-action-buttons",children:[(0,c.jsxs)("button",{className:"primary-action-btn ".concat("actions"===S&&"play"===l?"focused":""),onClick:()=>{m.length>0&&m[_]?V(m[_]):G()},ref:e=>N.current[0]=e,children:[(0,c.jsx)("i",{className:"fas fa-play"}),(0,c.jsx)("span",{children:"Assistir T1 Ep. 1"})]}),(0,c.jsxs)("button",{className:"secondary-action-btn ".concat("actions"===S&&"favorite"===l?"focused":""),onClick:()=>H(),ref:e=>N.current[1]=e,children:[(0,c.jsx)("i",{className:"fas ".concat(d?"fa-heart":"fa-plus")}),(0,c.jsx)("span",{children:d?"Na Minha Lista":"Minha Lista"})]})]}),m.length>0&&!L&&"actions"===S]}),(0,c.jsxs)("div",{className:"series-promotional-art",children:[(0,c.jsx)("img",{src:(null===(n=a.backdrop_path)||void 0===n?void 0:n[0])||a.cover||a.stream_icon,alt:a.name,className:"promotional-image",loading:"lazy",onError:e=>{e.target.src=a.cover||a.stream_icon||"/images/placeholder-series.jpg"}}),(0,c.jsx)("div",{className:"promotional-overlay"})]})]}),(0,c.jsx)("div",{className:"series-episodes-area ".concat(L?"episodes-focused":""),children:(0,c.jsx)("div",{className:"tab-content active",children:(0,c.jsxs)("div",{className:"episodes-tab-content",children:[C&&(0,c.jsxs)("div",{className:"loading",children:[(0,c.jsx)("i",{className:"fas fa-spinner"}),(0,c.jsx)("span",{children:"Carregando informa\xe7\xf5es da s\xe9rie..."})]}),!C&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"episodes-section-header",children:[(0,c.jsx)("h2",{className:"episodes-section-title",children:"Epis\xf3dios"}),(0,c.jsx)("p",{className:"episodes-section-subtitle",children:m.length>0?"Temporada ".concat(g," \u2022 ").concat(m.length," epis\xf3dio").concat(1!==m.length?"s":""):"Carregando epis\xf3dios..."})]}),h.length>0&&(0,c.jsxs)("div",{className:"season-selector-hbo",children:[(0,c.jsx)("span",{className:"season-title-fixed",children:"Temporada"}),(0,c.jsxs)("div",{className:"season-numbers-container",children:[h.map(((e,t)=>(0,c.jsx)("div",{className:"season-number-item ".concat(g===e.season_number?"active":""," ").concat("seasons"===S&&k===t?"focused":""),onClick:()=>F(e.season_number),ref:e=>I.current[t]=e,children:e.season_number},e.season_number))),(0,c.jsx)("div",{className:"season-indicator-bar"})]})]}),(0,c.jsx)("div",{className:"episodes-grid-container",children:m.length>0?(0,c.jsx)("div",{className:"episodes-grid-new",children:m.map(((e,t)=>{var n;return(0,c.jsxs)("div",{className:"episode-card-new ".concat(_===t?"active":""," ").concat("episodes"===S&&x===t?"focused":""),onClick:()=>{b(t),V(e)},ref:e=>D.current[t]=e,children:[(0,c.jsxs)("div",{className:"episode-thumbnail",children:[(0,c.jsx)("img",{src:(null===(n=e.info)||void 0===n?void 0:n.movie_image)||a.cover||"/images/placeholder-episode.jpg",alt:e.title||e.name||"Episode",loading:"lazy",onError:e=>{e.target.src="/images/placeholder-episode.jpg"}}),(0,c.jsx)("div",{className:"episode-play-overlay",children:(0,c.jsx)("i",{className:"fas fa-play"})})]}),(0,c.jsxs)("div",{className:"episode-details",children:[(0,c.jsxs)("div",{className:"episode-header",children:[(0,c.jsxs)("div",{className:"episode-number-badge",children:["E",r(e.episode_num||t+1,2)]}),(0,c.jsx)("span",{className:"episode-duration",children:"22 min"})]}),(0,c.jsx)("h4",{className:"episode-title-new",children:e.title||e.name||"Epis\xf3dio ".concat(e.episode_num||t+1)}),(0,c.jsxs)("div",{className:"episode-meta",children:[(0,c.jsx)("span",{children:"2023"}),(0,c.jsx)("span",{children:"14+"})]}),e.plot&&(0,c.jsx)("p",{className:"episode-description-new",children:e.plot})]})]},e.id||t)}))}):(0,c.jsxs)("div",{className:"no-episodes-message",children:[(0,c.jsx)("i",{className:"fas fa-film"}),(0,c.jsx)("h3",{children:"Epis\xf3dios em carregamento..."}),(0,c.jsx)("p",{children:"Aguarde enquanto carregamos os epis\xf3dios desta s\xe9rie."})]})})]})]})})})]}):null},R=t=>{let{isActive:n}=t;const[r,a]=(0,e.useState)([]),[o,s]=(0,e.useState)([]),[l,d]=(0,e.useState)(null),[f,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[v,g]=(0,e.useState)("categories"),[y,_]=(0,e.useState)(0),[w,S]=(0,e.useState)(0),[E,k]=(0,e.useState)(0),T=15,x=(0,e.useRef)([]),A=(0,e.useRef)([]),C=(0,e.useRef)(null),R="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen"),L="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,P="https://rota66.bar/player_api.php",N="username=zBB82J&password=AMeDHq";(0,e.useEffect)((()=>{const e=async e=>{m(!0),S(0),k(0);try{const t=await fetch("".concat(P,"?").concat(N,"&action=get_series&category_id=").concat(e)),n=await t.json();s(n),"series"===v&&S(0)}catch(t){console.error("Erro ao carregar series:",t),s([])}finally{m(!1)}};n&&(async()=>{h(!0);try{const t=await fetch("".concat(P,"?").concat(N,"&action=get_series_categories")),n=await t.json();a(n),n.length>0&&(d(n[0].category_id),_(0),e(n[0].category_id))}catch(t){console.error("Erro ao carregar categorias de s\xe9ries:",t),a([])}finally{h(!1)}})()}),[n]),(0,e.useEffect)((()=>{x.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),A.current.forEach((e=>null===e||void 0===e?void 0:e.classList.remove("focused"))),"categories"===v&&x.current[y]?(x.current[y].classList.add("focused"),b(x.current[y],{behavior:"smooth",block:"nearest"})):"series"===v&&A.current[w]&&(A.current[w].classList.add("focused"),b(A.current[w],{behavior:"smooth",block:"nearest"}))}),[v,y,w]);const I=(0,e.useCallback)((async e=>{m(!0),S(0),k(0);try{const t=await fetch("".concat(P,"?").concat(N,"&action=get_series&category_id=").concat(e)),n=await t.json();s(n),"series"===v&&S(0)}catch(t){console.error("Erro ao carregar series:",t),s([])}finally{m(!1)}}),[P,N,v]),D=(0,e.useCallback)((e=>{const t=r.find((e=>e.category_id===l)),n=u(u({},e),{},{category_name:(null===t||void 0===t?void 0:t.category_name)||"S\xe9rie"}),i=new CustomEvent("showSeriesDetails",{detail:{series:n}});window.dispatchEvent(i)}),[r,l]),M=(0,e.useCallback)((async e=>{console.log("\ud83c\udfac S\xe9rie selecionada:",e),console.log("\ud83d\udd27 Ambiente detectado:",{isTizenTV:R,isDevelopment:L});try{const a=await fetch("".concat(P,"?").concat(N,"&action=get_series_info&series_id=").concat(e.series_id)),o=await a.json();if(o.episodes&&Object.keys(o.episodes).length>0){const a=Object.keys(o.episodes)[0],s=o.episodes[a][0];if(s){var t,n;const o="https://rota66.bar/series/zBB82J/AMeDHq/".concat(s.id||s.stream_id,".mp4"),c={name:"".concat(e.name," - ").concat(i(a,s.episode_num||1)," - ").concat(s.title||s.name||"Epis\xf3dio"),type:"series",category:l?null===(t=r.find((e=>e.category_id===l)))||void 0===t?void 0:t.category_name:"S\xe9rie",description:s.plot||(null===(n=s.info)||void 0===n?void 0:n.plot)||e.plot||"Descri\xe7\xe3o n\xe3o dispon\xedvel",year:e.releasedate||"N/A",rating:e.rating||s.rating||"N/A",poster:e.cover||e.stream_icon};if(R){console.log("\ud83d\udcfa Configura\xe7\xe3o Tizen TV ativada para s\xe9rie");const e=new CustomEvent("playContent",{detail:{streamUrl:o,streamInfo:u(u({},c),{},{forceTizenPlayer:!0,preventBrowserRedirect:!0,useInternalPlayer:!0})},bubbles:!1,cancelable:!1});setTimeout((()=>{console.log("\ud83d\udcfa Disparando evento playContent para Tizen TV (s\xe9rie)"),window.dispatchEvent(e)}),100)}else{console.log("\ud83d\udcbb Configura\xe7\xe3o padr\xe3o ativada para s\xe9rie");const e=new CustomEvent("playContent",{detail:{streamUrl:o,streamInfo:c}});window.dispatchEvent(e)}}}}catch(o){var a;console.error("Erro ao carregar informa\xe7\xf5es da s\xe9rie:",o);const t="https://rota66.bar/series/zBB82J/AMeDHq/".concat(e.series_id,".mp4"),n={name:e.name,category:l?null===(a=r.find((e=>e.category_id===l)))||void 0===a?void 0:a.category_name:"S\xe9rie",description:"S\xe9rie - ".concat(e.name),type:"series"};if(R){console.log("\ud83d\udcfa Configura\xe7\xe3o Tizen TV ativada para s\xe9rie (fallback)");const e=new CustomEvent("playContent",{detail:{streamUrl:t,streamInfo:u(u({},n),{},{forceTizenPlayer:!0,preventBrowserRedirect:!0,useInternalPlayer:!0})},bubbles:!1,cancelable:!1});setTimeout((()=>{console.log("\ud83d\udcfa Disparando evento playContent para Tizen TV (s\xe9rie fallback)"),window.dispatchEvent(e)}),100)}else{console.log("\ud83d\udcbb Configura\xe7\xe3o padr\xe3o ativada para s\xe9rie (fallback)");const e=new CustomEvent("playContent",{detail:{streamUrl:t,streamInfo:n}});window.dispatchEvent(e)}}}),[l,r,P,N,R,L]),O=(0,e.useCallback)((()=>{const e=E*T,t=e+T;return o.slice(e,t)}),[E,o]),j=Math.ceil(o.length/T),B=O(),U=(0,e.useCallback)((e=>{if(38===e)_((e=>Math.max(0,e-1)));else if(40===e)_((e=>Math.min(r.length-1,e+1)));else if(37===e){const e=new CustomEvent("backToSidebar");window.dispatchEvent(e)}else if(39===e)o.length>0&&(g("series"),S(0));else if(13===e&&r[y]){const e=r[y];d(e.category_id),I(e.category_id)}}),[r,y,o.length,I]),z=(0,e.useCallback)((e=>{const t=B.length;if(38===e){if(Math.floor(w/5)>0){const e=Math.max(0,w-5);S(e)}else if(E>0){k(E-1);S(10+w%5)}}else if(40===e){if(Math.floor(w/5)<Math.floor((t-1)/5)){const e=Math.min(t-1,w+5);S(e)}else E<j-1&&(k(E+1),S(w%5))}else if(37===e){if(w%5>0)S(w-1);else{g("categories");const e=r.findIndex((e=>e.category_id===l));_(e>=0?e:0)}}else if(39===e){const e=w%5;if(e<4&&w<t-1)S(w+1);else if(4===e){const e=Math.floor(w/5);e<Math.floor((t-1)/5)?S(5*(e+1)):E<j-1&&(k(E+1),S(0))}}else if(13===e){if(B[w]){D(o[E*T+w])}}else if(80===e&&B[w]){M(o[E*T+w])}}),[B,w,E,j,r,l,o,D,M]);(0,e.useEffect)((()=>{if(!n)return;const e=e=>{const{keyCode:t}=e.detail;"categories"===v?U(t):"series"===v&&z(t)};return window.addEventListener("seriesNavigation",e),()=>window.removeEventListener("seriesNavigation",e)}),[n,v,U,z]);const F=e=>{e.target.style.display="none"};return n?(0,c.jsxs)("div",{className:"series-page",ref:C,children:[(0,c.jsx)("div",{className:"category-sidebar",children:f?(0,c.jsx)("div",{className:"loading",children:"Carregando categorias..."}):(0,c.jsx)("div",{className:"category-list",children:r.map(((e,t)=>(0,c.jsx)("button",{ref:e=>x.current[t]=e,className:"category-button ".concat(l===e.category_id?"active":""),onClick:()=>{d(e.category_id),_(t),I(e.category_id)},children:e.category_name},e.category_id)))})}),(0,c.jsx)("div",{className:"main-content-area",children:(0,c.jsx)("div",{className:"series-content",children:p?(0,c.jsx)("div",{className:"loading",children:"Carregando s\xe9ries..."}):(0,c.jsxs)(c.Fragment,{children:[j>1&&(0,c.jsxs)("div",{className:"pagination-info",children:[(0,c.jsxs)("span",{children:["P\xe1gina ",E+1," de ",j]}),(0,c.jsxs)("span",{className:"series-count",children:[o.length," s\xe9ries \u2022 ",B.length," nesta p\xe1gina"]})]}),(0,c.jsx)("div",{className:"series-grid",children:B.map(((e,t)=>(0,c.jsx)("div",{ref:e=>A.current[t]=e,className:"serie",onClick:()=>{D(e[E*T+t])},children:(0,c.jsxs)("div",{className:"serie-poster",children:[(0,c.jsx)("img",{src:e.cover,alt:e.name,onError:F}),(0,c.jsxs)("div",{className:"serie-overlay",children:[(0,c.jsx)("h3",{className:"serie-title",children:e.name}),(0,c.jsxs)("div",{className:"serie-info",children:[(0,c.jsx)("span",{className:"serie-year",children:e.year||"N/A"}),(0,c.jsxs)("span",{className:"serie-rating",children:["\u2b50 ",e.rating||"N/A"]})]}),(0,c.jsx)("p",{className:"serie-description",children:e.plot?e.plot.length>120?e.plot.substring(0,120)+"...":e.plot:"Descri\xe7\xe3o n\xe3o dispon\xedvel"}),(0,c.jsxs)("div",{className:"serie-actions",children:[(0,c.jsx)("span",{className:"action-hint",children:"ENTER Ver detalhes"}),(0,c.jsx)("span",{className:"action-hint",children:"P Reproduzir"})]})]})]})},e.series_id)))})]})})})]}):null},L="https://rota66.bar/player_api.php",P="username=zBB82J&password=AMeDHq",N=t=>{let{isActive:n}=t;const[r,i]=(0,e.useState)(""),[a,o]=(0,e.useState)({channels:[],movies:[],series:[]}),[s,l]=(0,e.useState)(!1),[d,f]=(0,e.useState)("keyboard"),[h,p]=(0,e.useState)({row:0,col:0}),[m,v]=(0,e.useState)({section:"channels",index:0}),g=(0,e.useRef)(null),y=(0,e.useRef)({channels:[],movies:[],series:[]}),_=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L","\u232b"],["Z","X","C","V","B","N","M",",",".","\ud83d\udd0d"],["ESPA\xc7O","LIMPAR"]],w=(0,e.useCallback)(((e,t)=>{console.log("Item selecionado:",{item:e,type:t});let n="",r={};switch(t){case"channel":n="https://rota66.bar/".concat(P.split("&")[0].split("=")[1],"/").concat(P.split("&")[1].split("=")[1],"/").concat(e.stream_id),r={name:e.name,category:"Canal",description:"Canal ao vivo - ".concat(e.name),type:"live"};break;case"movie":n="https://rota66.bar/".concat(P.split("&")[0].split("=")[1],"/").concat(P.split("&")[1].split("=")[1],"/").concat(e.stream_id),r={name:e.name,category:"Filme",description:e.plot||"Filme - ".concat(e.name),year:e.releaseDate?new Date(e.releaseDate).getFullYear():null,rating:e.rating,type:"movie"};break;case"serie":n="https://rota66.bar/".concat(P.split("&")[0].split("=")[1],"/").concat(P.split("&")[1].split("=")[1],"/").concat(e.series_id),r={name:e.name,category:"S\xe9rie",description:e.plot||"S\xe9rie - ".concat(e.name),year:e.year,rating:e.rating,type:"series"};break;default:return void console.error("Tipo de conte\xfado n\xe3o reconhecido:",t)}const i=new CustomEvent("playContent",{detail:{streamUrl:n,streamInfo:r}});window.dispatchEvent(i)}),[]),S=(0,e.useCallback)((async()=>{try{const e=await fetch("".concat(L,"?").concat(P,"&action=get_live_categories")),t=(await e.json()).slice(0,5).map((e=>fetch("".concat(L,"?").concat(P,"&action=get_live_streams&category_id=").concat(e.category_id)).then((e=>e.json())).catch((()=>[]))));return(await Promise.all(t)).reduce(((e,t)=>e.concat(t)),[])}catch(e){return console.error("Erro ao buscar canais:",e),[]}}),[]),E=(0,e.useCallback)((async()=>{try{const e=await fetch("".concat(L,"?").concat(P,"&action=get_vod_categories")),t=(await e.json()).slice(0,3).map((e=>fetch("".concat(L,"?").concat(P,"&action=get_vod_streams&category_id=").concat(e.category_id)).then((e=>e.json())).catch((()=>[]))));return(await Promise.all(t)).reduce(((e,t)=>e.concat(t)),[])}catch(e){return console.error("Erro ao buscar filmes:",e),[]}}),[]),k=(0,e.useCallback)((async()=>{try{const e=await fetch("".concat(L,"?").concat(P,"&action=get_series_categories")),t=(await e.json()).slice(0,3).map((e=>fetch("".concat(L,"?").concat(P,"&action=get_series&category_id=").concat(e.category_id)).then((e=>e.json())).catch((()=>[]))));return(await Promise.all(t)).reduce(((e,t)=>e.concat(t)),[])}catch(e){return console.error("Erro ao buscar s\xe9ries:",e),[]}}),[]),T=(0,e.useCallback)((async()=>{if(r.trim()){l(!0);try{const[e,t,n]=await Promise.all([S(),E(),k()]),i=r.toLowerCase(),a=e.filter((e=>e.name&&e.name.toLowerCase().includes(i))).slice(0,20),s=t.filter((e=>e.name&&e.name.toLowerCase().includes(i))).slice(0,20),l=n.filter((e=>e.name&&e.name.toLowerCase().includes(i))).slice(0,20);o({channels:a,movies:s,series:l}),a.length>0?(f("results"),v({section:"channels",index:0})):s.length>0?(f("results"),v({section:"movies",index:0})):l.length>0&&(f("results"),v({section:"series",index:0}))}catch(e){console.error("Erro na busca:",e)}finally{l(!1)}}}),[r,S,E,k,f,v,o]),x=(0,e.useCallback)((e=>{"\u232b"===e?i((e=>e.slice(0,-1))):"\ud83d\udd0d"===e?r.trim()&&T():"LIMPAR"===e?(i(""),o({channels:[],movies:[],series:[]})):i("ESPA\xc7O"===e?e=>e+" ":t=>t+e),"\ud83d\udd0d"!==e&&"LIMPAR"!==e&&setTimeout((()=>{r.trim().length>=2&&T()}),500)}),[T,r,i,o]),A=(0,e.useCallback)((e=>{const t=_.length,n=h.row,r=h.col,i=_[n].length;if(38===e){if(n>0){const e=n-1,t=_[e].length;p({row:e,col:Math.min(r,t-1)})}}else if(40===e)if(n<t-1){const e=n+1,t=_[e].length;p({row:e,col:Math.min(r,t-1)})}else(a.channels.length>0||a.movies.length>0||a.series.length>0)&&(f("results"),v({section:"channels",index:0}));else if(37===e)r>0&&p((e=>u(u({},e),{},{col:e.col-1})));else if(39===e)r<i-1&&p((e=>u(u({},e),{},{col:e.col+1})));else if(13===e){const e=_[n][r];x(e)}}),[_,a,h,x,f]),C=(0,e.useCallback)((e=>{const t=["channels","movies","series"],n=t.indexOf(m.section),r=a[m.section];if(r)if(38===e)if(m.index>=5)v((e=>u(u({},e),{},{index:e.index-5})));else if(n>0){const e=t[n-1],r=a[e].length;r>0&&v({section:e,index:Math.max(0,r-1)})}else f("keyboard");else if(40===e){if(m.index+5<r.length)v((e=>u(u({},e),{},{index:e.index+5})));else if(n<t.length-1){const e=t[n+1];a[e].length>0&&v({section:e,index:0})}}else if(37===e)m.index>0&&v((e=>u(u({},e),{},{index:e.index-1})));else if(39===e)m.index<r.length-1&&v((e=>u(u({},e),{},{index:e.index+1})));else if(13===e){const e=r[m.index],t=m.section.endsWith("s")?m.section.slice(0,-1):m.section;w(e,t)}}),[m,a,w,f]);(0,e.useEffect)((()=>{if(!n)return;const e=e=>{const{keyCode:t}=e.detail;"keyboard"===d?A(t):"results"===d&&C(t)};return window.addEventListener("searchNavigation",e),()=>window.removeEventListener("searchNavigation",e)}),[n,d,A,C]);const R=(0,e.useCallback)((()=>{if(document.querySelectorAll(".keyboard-key, .search-result-item").forEach((e=>{e.classList.remove("focused")})),"keyboard"===d){const e=document.querySelectorAll(".keyboard-key"),t=10*h.row+h.col;e[t]&&e[t].classList.add("focused")}else if("results"===d){const e=y.current[m.section];e&&e[m.index]&&(e[m.index].classList.add("focused"),e[m.index].scrollIntoView({behavior:"smooth",block:"nearest"}))}}),[d,h,m]);(0,e.useEffect)((()=>{R()}),[R]);const N=e=>{e.target.style.display="none"};return(0,e.useEffect)((()=>{if(null!==m.section&&null!==m.index){const e=y.current[m.section];e&&e[m.index]&&(e[m.index].classList.add("focused"),b(e[m.index],{behavior:"smooth",block:"nearest"}))}}),[m]),n?(0,c.jsx)("div",{className:"search-container",children:(0,c.jsxs)("div",{className:"search-layout",children:[(0,c.jsxs)("div",{className:"search-input-area",children:[(0,c.jsxs)("div",{className:"search-header",children:[(0,c.jsx)("h2",{children:"\ud83d\udd0d Pesquisar"}),(0,c.jsxs)("div",{className:"search-input-display",children:[(0,c.jsx)("span",{className:"search-query",children:r}),(0,c.jsx)("span",{className:"cursor",children:"|"})]})]}),(0,c.jsx)("div",{className:"virtual-keyboard",ref:g,children:_.map(((e,t)=>(0,c.jsx)("div",{className:"keyboard-row",children:e.map(((e,n)=>(0,c.jsx)("button",{className:"keyboard-key ".concat(e.length>1?"special-key":""),onClick:()=>x(e),children:e},"".concat(t,"-").concat(n))))},t)))})]}),(0,c.jsxs)("div",{className:"search-results",children:[s&&(0,c.jsx)("div",{className:"loading",children:"Buscando..."}),!s&&r&&(0,c.jsxs)(c.Fragment,{children:[a.channels.length>0&&(0,c.jsxs)("div",{className:"results-section",children:[(0,c.jsxs)("h3",{children:["\ud83d\udcfa Canais (",a.channels.length,")"]}),(0,c.jsx)("div",{className:"results-grid",children:a.channels.map(((e,t)=>(0,c.jsxs)("div",{ref:e=>y.current.channels[t]=e,className:"search-result-item channel-result",onClick:()=>w(e,"channel"),children:[(0,c.jsx)("img",{src:e.stream_icon,alt:e.name,onError:N}),(0,c.jsxs)("div",{className:"result-info",children:[(0,c.jsx)("h4",{children:e.name}),(0,c.jsx)("span",{className:"result-type",children:"Canal"})]})]},"channel-".concat(e.stream_id||t))))})]}),a.movies.length>0&&(0,c.jsxs)("div",{className:"results-section",children:[(0,c.jsxs)("h3",{children:["\ud83c\udfac Filmes (",a.movies.length,")"]}),(0,c.jsx)("div",{className:"results-grid",children:a.movies.map(((e,t)=>(0,c.jsxs)("div",{ref:e=>y.current.movies[t]=e,className:"search-result-item movie-result",onClick:()=>w(e,"movie"),children:[(0,c.jsx)("img",{src:e.stream_icon,alt:e.name,onError:N}),(0,c.jsxs)("div",{className:"result-info",children:[(0,c.jsx)("h4",{children:e.name}),(0,c.jsx)("span",{className:"result-type",children:"Filme"})]})]},"movie-".concat(e.stream_id||t))))})]}),a.series.length>0&&(0,c.jsxs)("div",{className:"results-section",children:[(0,c.jsxs)("h3",{children:["\ud83d\udcfa S\xe9ries (",a.series.length,")"]}),(0,c.jsx)("div",{className:"results-grid",children:a.series.map(((e,t)=>(0,c.jsxs)("div",{ref:e=>y.current.series[t]=e,className:"search-result-item serie-result",onClick:()=>w(e,"serie"),children:[(0,c.jsx)("img",{src:e.cover,alt:e.name,onError:N}),(0,c.jsxs)("div",{className:"result-info",children:[(0,c.jsx)("h4",{children:e.name}),(0,c.jsx)("span",{className:"result-type",children:"S\xe9rie"})]})]},"serie-".concat(e.series_id||t))))})]}),0===a.channels.length&&0===a.movies.length&&0===a.series.length&&(0,c.jsxs)("div",{className:"no-results",children:[(0,c.jsx)("i",{className:"fa-solid fa-magnifying-glass"}),(0,c.jsx)("h3",{children:"Nenhum resultado encontrado"}),(0,c.jsx)("p",{children:"Tente buscar com outras palavras-chave"})]})]}),!r&&(0,c.jsxs)("div",{className:"search-placeholder",children:[(0,c.jsx)("i",{className:"fa-solid fa-magnifying-glass"}),(0,c.jsx)("h3",{children:"Digite algo para pesquisar"}),(0,c.jsx)("p",{children:"Busque por canais, filmes ou s\xe9ries"})]})]})]})}):null};var I=n(72),D=n.n(I),M=n(552),O=n.n(M);O().polyfill.installAll();const j=t=>{var n,r,i,a;let{isActive:o,streamUrl:s,streamInfo:l,onBack:u}=t;const d=(0,e.useRef)(null),f=(0,e.useRef)(null),h=(0,e.useRef)(!1),p=(0,e.useRef)(null),m=(0,e.useRef)(null),v=(0,e.useRef)(null),g=(0,e.useRef)(null),[y,_]=(0,e.useState)(!1),[b,w]=(0,e.useState)("Carregando..."),[S,E]=(0,e.useState)(0),[k,T]=(0,e.useState)(null),[x,A]=(0,e.useState)(!1),[C,R]=(0,e.useState)(null),[L,P]=(0,e.useState)(!0),[N,I]=(0,e.useState)(0),[M,j]=(0,e.useState)(0),[B,U]=(0,e.useState)(new Date),z="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,F="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen"),V=()=>{p.current&&(clearTimeout(p.current),p.current=null)},G=(0,e.useCallback)((()=>{if(!o||!s||h.current)return;if(m.current===s&&!k)return;if(h.current)return;console.log("\ud83c\udfac Iniciando reprodu\xe7\xe3o para:",s);const e=(e=>{const t={original:e,protocol:null,domain:null,hasToken:!1,needsHttps:!1,suggestions:[],alternatives:[]};try{const n=new URL(e);t.protocol=n.protocol,t.domain=n.hostname,t.hasToken=n.searchParams.has("token")||e.includes("token="),"http:"!==n.protocol||z||(t.needsHttps=!0,t.suggestions.push("Tentar HTTPS"));const r=[];if(r.push({type:"original",url:e}),t.needsHttps&&r.push({type:"https",url:e.replace("http://","https://")}),t.hasToken){const n=e.split("?")[0];r.push({type:"no-token",url:n}),t.needsHttps&&r.push({type:"https-no-token",url:n.replace("http://","https://")})}t.alternatives=r.slice(0,4)}catch(n){t.alternatives=[{type:"original",url:e}]}return t})(s);m.current!==s&&$(),m.current=s;const t=((e,t)=>{const n=null===t||void 0===t?void 0:t.type;return"live"===n||e.includes(".ts")?"mpegts-live":"movie"===n||"series"===n||e.includes(".mp4")?F?(console.log("Detector: VOD no Tizen. Usando Shaka Player v2.5.4."),"shaka"):"html5-direct":"mpegts-live"})(s,l);console.log("\ud83c\udfaf Tipo de player detectado:",t),R(t),h.current=!0;(async t=>{if(!d.current||!s)return void(h.current=!1);console.log("\ud83d\ude80 Inicializando player ".concat(t," com URL:"),s),_(!0),w("Carregando..."),E(5),T(null),A(!1),V();const n=d.current;try{if("shaka"===t)console.log("\u2728 Usando Shaka Player para VOD"),await H(s,n);else if("mpegts-vod"===t)console.log("\ud83d\udcfd\ufe0f Usando mpegts para MP4/VOD (Modo de Seguran\xe7a)"),await K(s,n);else if("mpegts-live"===t)console.log("\ud83d\udce1 Usando mpegts para live stream"),await W(s,n);else if("html5-direct"===t){console.log("\u26a1 Usando HTML5 direto");const t=e.alternatives&&e.alternatives.length>0?e.alternatives[0].url:s;await q(t,n)}else console.log("\ud83d\udce1 Usando mpegts player para stream (fallback principal agora)"),await W(s,n)}catch(r){console.error("\ud83d\udca5 Erro ao criar player:",r),V(),T("Erro ao inicializar player: ".concat(r.message)),_(!1),h.current=!1}})(t)}),[o,s,l,z,F]),H=async(e,t)=>new Promise(((n,r)=>{try{const i=new(O().Player)(t);f.current=i,i.configure({streaming:{bufferingGoal:120,rebufferingGoal:2,retryParameters:{timeout:3e4,maxAttempts:5}}}),i.addEventListener("error",(e=>{console.error("\ud83d\udca5 Erro no Shaka Player:",e.detail),r(new Error("Erro no Shaka Player: ".concat(e.detail.code)))})),t.addEventListener("loadstart",(()=>{E(20)})),t.addEventListener("loadeddata",(()=>{E(60)})),t.addEventListener("canplay",(()=>{E(85)})),t.addEventListener("playing",(()=>{E(100),setTimeout((()=>{_(!1),E(0)}),500),h.current=!1})),i.load(e).then((()=>{console.log("\u2705 Shaka Player carregou a m\xeddia com sucesso."),E(90),n()})).catch((e=>{console.error("\ud83d\udca5 Erro ao carregar m\xeddia no Shaka Player:",e),r(e)}))}catch(k){console.error("\ud83d\udca5 Falha ao inicializar o Shaka Player:",k),r(k)}})),q=async(e,t)=>new Promise(((n,r)=>{["loadstart","loadeddata","canplay","playing","error"].forEach((e=>{t.removeEventListener(e,(()=>{}))})),t.addEventListener("loadstart",(()=>{E(10),w("Carregando...")})),t.addEventListener("loadeddata",(()=>{E(50),w("Preparando...")})),t.addEventListener("canplay",(()=>{E(80),w("Iniciando...")})),t.addEventListener("playing",(()=>{V(),E(100),setTimeout((()=>{_(!1),E(0),T(null),h.current=!1,n()}),500)})),t.addEventListener("error",(e=>{if(V(),t.error){const e={1:"MEDIA_ERR_ABORTED - Download abortado",2:"MEDIA_ERR_NETWORK - Erro de rede",3:"MEDIA_ERR_DECODE - Erro de decodifica\xe7\xe3o",4:"MEDIA_ERR_SRC_NOT_SUPPORTED - Formato n\xe3o suportado"};console.error("Detalhes do erro HTML5:",e[t.error.code]||"Erro desconhecido no elemento video")}r(new Error("Erro na reprodu\xe7\xe3o HTML5 direta"))})),t.crossOrigin=z?"anonymous":F?null:"use-credentials",p.current=setTimeout((()=>{h.current&&r(new Error("Timeout na reprodu\xe7\xe3o direta"))}),3e4),t.src=e,t.load(),setTimeout((()=>{d.current&&h.current&&d.current.play().catch((e=>{console.error("Erro no auto-play:",e)}))}),500)})),K=async(e,t)=>new Promise(((n,r)=>{try{w("Carregando v\xeddeo...");const i={type:"mp4",isLive:!1,url:e},a={enableWorker:!1},o=D().createPlayer(i,a);f.current=o,o.on(D().Events.ERROR,((e,t,n)=>{console.error("\u274c Erro mpegts VOD:",e,t,n),r(new Error("mpegts VOD error: ".concat(e," - ").concat(t)))}));const s=()=>{console.log("\u2705 mpegts VOD: Reproduzindo"),V(),E(100),setTimeout((()=>{_(!1),E(0)}),500),T(null),h.current=!1,n()};t.addEventListener("playing",s,{once:!0}),o.attachMediaElement(t),o.load(),p.current=setTimeout((()=>{h.current&&(console.error("\u274c Timeout mpegts VOD ap\xf3s 3 minutos para URL: ".concat(e)),r(new Error("Timeout mpegts VOD (".concat((null===l||void 0===l?void 0:l.title)||"Filme/S\xe9rie",")"))))}),18e4)}catch(i){console.error("\ud83d\udca5 Erro ao criar mpegts VOD player:",i),r(i)}})),W=async(e,t)=>new Promise(((n,r)=>{try{w("Carregando...");const i=D().createPlayer({type:"mpegts",isLive:!0,url:e});f.current=i,i.on(D().Events.ERROR,((e,t,n)=>{console.error("\u274c Erro mpegts Live:",e,t,n),r(new Error("mpegts Live error: ".concat(e," - ").concat(t)))})),i.on(D().Events.LOADING_COMPLETE,(()=>{w("Iniciando..."),E(90)}));const a=()=>{console.log("\u2705 mpegts Live: Reproduzindo"),V(),E(100),setTimeout((()=>{_(!1),E(0)}),500),T(null),h.current=!1,n()};t.addEventListener("playing",a),i.attachMediaElement(t),i.load(),setTimeout((()=>{f.current&&d.current&&h.current&&f.current.play().catch((e=>{console.warn("\u26a0\ufe0f Autoplay falhou, aguardando intera\xe7\xe3o do usu\xe1rio:",e)}))}),500),p.current=setTimeout((()=>{h.current&&r(new Error("Timeout mpegts Live - verifique a conex\xe3o"))}),1e4)}catch(i){console.error("\ud83d\udca5 Erro ao criar mpegts Live player:",i),r(i)}})),$=(0,e.useCallback)((()=>{if(V(),v.current&&(URL.revokeObjectURL(v.current),v.current=null),d.current){const t=d.current;try{["loadstart","loadeddata","canplay","canplaythrough","playing","waiting","error","stalled"].forEach((e=>{t.removeEventListener(e,(()=>{}))})),t.pause&&t.pause(),void 0!==t.src&&(t.src=""),t.load&&t.load()}catch(e){console.log("Erro ao limpar video element:",e)}}if(f.current){try{const e=f.current;e.isLoaded&&e.isLoaded()&&(e.pause&&e.pause(),e.unload&&e.unload()),e.detachMediaElement&&e.detachMediaElement(),e.destroy&&e.destroy()}catch(e){console.error("Erro ao limpar player mpegts:",e)}f.current=null}_(!1),w("Carregando..."),E(0),T(null),A(!1),R(null),I(0),j(0),P(!0),h.current=!1,m.current=null}),[]),X=(0,e.useCallback)((()=>{$(),u&&u()}),[$,u]);(0,e.useEffect)((()=>(o&&s&&!h.current&&G(),()=>{o||$()})),[o,s,G,$]),(0,e.useEffect)((()=>{if(!o||!F||null===l||void 0===l||!l.preventBrowserRedirect)return;const e=e=>{if("A"===e.target.tagName||"VIDEO"===e.target.tagName){const t=e.target.href||e.target.src;if(t&&(t.includes(".mp4")||t.includes(".mkv")||t.includes(".avi")))return e.preventDefault(),e.stopPropagation(),!1}},t=window.open;return window.open=()=>null,document.addEventListener("click",e,!0),document.addEventListener("mousedown",e,!0),()=>{window.open=t,document.removeEventListener("click",e,!0),document.removeEventListener("mousedown",e,!0)}}),[o,F,null===l||void 0===l?void 0:l.preventBrowserRedirect]),(0,e.useEffect)((()=>{if(o&&"live"===(null===l||void 0===l?void 0:l.type)){const e=setInterval((()=>{U(new Date)}),1e3);return()=>clearInterval(e)}}),[o,null===l||void 0===l?void 0:l.type]);const Y=e=>{if(isNaN(e)||e<0)return"00:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60),i=e=>e.toString().padStart(2,"0");return t>0?"".concat(i(t),":").concat(i(n),":").concat(i(r)):"".concat(i(n),":").concat(i(r))},Q=(0,e.useCallback)((()=>{P(!0),g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{d.current&&!d.current.paused&&P(!1)}),4e3)}),[]),J=(0,e.useCallback)((()=>{d.current&&("live"===(null===l||void 0===l?void 0:l.type)?d.current.paused&&d.current.play():d.current.paused?d.current.play():d.current.pause(),Q())}),[Q,null===l||void 0===l?void 0:l.type]),Z=(0,e.useCallback)((e=>{if(d.current&&M>0){const t=10,n=e?Math.min(d.current.currentTime+t,M):Math.max(d.current.currentTime-t,0);d.current.currentTime=n,I(n)}}),[M]);(0,e.useEffect)((()=>{const e=d.current;if(!o||!e)return;const t=()=>I(e.currentTime),n=()=>{!isNaN(e.duration)&&isFinite(e.duration)&&j(e.duration)},r=()=>{A(!0),Q()},i=()=>{A(!1),Q()};return e.addEventListener("timeupdate",t),e.addEventListener("durationchange",n),e.addEventListener("loadedmetadata",n),e.addEventListener("play",r),e.addEventListener("pause",i),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("durationchange",n),e.removeEventListener("loadedmetadata",n),e.removeEventListener("play",r),e.removeEventListener("pause",i)}}),[o,Q]),(0,e.useEffect)((()=>{if(!o)return;const e=e=>{Q();const{keyCode:t}=e.detail;switch(t){case 13:case 415:case 19:J();break;case 39:Z(!0);break;case 37:Z(!1);break;case 8:case 10009:X()}},t=()=>{Q()};return window.addEventListener("playerNavigation",e),document.addEventListener("mousemove",t),document.addEventListener("touchstart",t),document.addEventListener("click",t),()=>{window.removeEventListener("playerNavigation",e),document.removeEventListener("mousemove",t),document.removeEventListener("touchstart",t),document.removeEventListener("click",t)}}),[o,X,J,Z,Q]);return o?(0,c.jsx)("div",{className:"video-player-container",children:(0,c.jsxs)("div",{className:"video-wrapper",children:[(0,c.jsx)("video",{ref:d,className:"video-element",autoPlay:!0,playsInline:!0,controls:z||!F,style:{width:"100%",height:"100%"}}),L&&"live"===(null===l||void 0===l?void 0:l.type)?(0,c.jsx)("div",{className:"live-info-overlay",children:(0,c.jsxs)("div",{className:"live-info-content",children:[(0,c.jsxs)("div",{className:"live-info-left",children:[l.logo&&(0,c.jsx)("img",{src:l.logo,alt:"Logo do Canal",className:"channel-logo"}),(0,c.jsxs)("div",{className:"channel-details",children:[(0,c.jsxs)("h2",{className:"channel-title",children:[l.number," ",l.name]}),(0,c.jsxs)("div",{className:"program-info",children:[(0,c.jsxs)("p",{className:"program-title",children:[(0,c.jsx)("span",{children:"Atual:"})," ",(null===(n=l.currentProgram)||void 0===n?void 0:n.title)||"Programa n\xe3o informado"]}),(0,c.jsxs)("p",{className:"program-time",children:["In\xedcio: ",(null===(r=l.currentProgram)||void 0===r?void 0:r.startTime)||"--:--"]})]})]})]}),(0,c.jsxs)("div",{className:"live-info-right",children:[(0,c.jsxs)("div",{className:"datetime-display",children:[(0,c.jsx)("p",{children:B.toLocaleDateString("pt-BR")}),(0,c.jsx)("p",{children:B.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,c.jsxs)("div",{className:"program-info next-program",children:[(0,c.jsxs)("p",{className:"program-title",children:[(0,c.jsx)("span",{children:"Pr\xf3ximo:"})," ",(null===(i=l.nextProgram)||void 0===i?void 0:i.title)||"Programa n\xe3o informado"]}),(0,c.jsxs)("p",{className:"program-time",children:["In\xedcio: ",(null===(a=l.nextProgram)||void 0===a?void 0:a.startTime)||"--:--"]})]})]})]})}):L&&(0,c.jsxs)("div",{className:"player-controls-overlay",children:[!x&&(0,c.jsx)("div",{className:"play-pause-indicator",children:(0,c.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,c.jsx)("path",{d:"M8,5.14V19.14L19,12.14L8,5.14Z"})})}),(0,c.jsxs)("div",{className:"controls-bottom-bar",children:[(0,c.jsxs)("div",{className:"progress-bar-container",children:[(0,c.jsx)("div",{className:"progress-bar-background"}),(0,c.jsx)("div",{className:"progress-bar-current",style:{width:M>0?"".concat(N/M*100,"%"):"0%"}})]}),(0,c.jsxs)("div",{className:"time-indicators",children:[(0,c.jsx)("span",{children:Y(N)}),(0,c.jsx)("span",{children:Y(M)})]})]})]}),y&&!x&&(0,c.jsx)("div",{className:"netflix-loading-overlay",children:(0,c.jsxs)("div",{className:"netflix-loading-container",children:[(0,c.jsxs)("div",{className:"netflix-loading-ring",children:[(0,c.jsx)("div",{className:"netflix-loading-circle"}),(0,c.jsx)("div",{className:"netflix-loading-progress",style:{background:"conic-gradient(#e50914 ".concat(3.6*S,"deg, transparent 0deg)")}})]}),(0,c.jsxs)("div",{className:"netflix-loading-percentage",children:[S,"%"]})]})}),k&&!x&&(0,c.jsx)("div",{className:"error-overlay",children:(0,c.jsxs)("div",{className:"error-content",children:[(0,c.jsx)("h3",{children:"Erro na Reprodu\xe7\xe3o"}),(0,c.jsx)("p",{children:k}),(0,c.jsxs)("div",{className:"error-actions",children:[(0,c.jsx)("button",{onClick:()=>{console.log("\ud83d\udd04 Tentando reproduzir novamente..."),$(),T(null),_(!0),w("Tentando novamente..."),E(0),A(!1),h.current=!1,o&&s&&(console.log("\ud83c\udfaf Tentando novamente com a estrat\xe9gia original"),w("Carregando..."),G())},className:"retry-button",children:"Tentar Novamente"}),(0,c.jsx)("button",{onClick:X,className:"back-button",children:"Voltar"})]})]})})]})}):null},B="login",U="home",z="channels",F="movies",V="series",G="series_details",H="search",q="player",K=[{id:"search",label:"Pesquisar",icon:"fa-magnifying-glass"},{id:"home",label:"Home",icon:"fa-house"},{id:"channels",label:"Canais Ao Vivo",icon:"fa-tv"},{id:"movies",label:"Filmes",icon:"fa-film"},{id:"series",label:"S\xe9ries",icon:"fa-video"}];const W=function(){const[t,n]=(0,e.useState)(B),[r,i]=(0,e.useState)(0),[a,o]=(0,e.useState)(-1),[s,l]=(0,e.useState)(0),[f,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(null),[v,g]=(0,e.useState)(null),[y,_]=(0,e.useState)([]),[b,w]=(0,e.useState)(!1),E=(0,e.useCallback)((function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t!==e&&_((e=>[...e,t])),n(e)}),[t]),x=(0,e.useCallback)((()=>{if(y.length>0){const e=y[y.length-1];return _((e=>e.slice(0,-1))),n(e),!0}return!1}),[y]);(0,e.useEffect)((()=>{if(window.tizen&&window.tizen.tvinputdevice){["MediaPlayPause","MediaPlay","MediaPause","MediaStop","MediaFastForward","MediaRewind","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue"].forEach((e=>window.tizen.tvinputdevice.registerKey(e)))}}),[]),(0,e.useEffect)((()=>{const e=e=>{const u=e.keyCode;if(t!==B)if(t!==q)if(t!==G)if(b&&t===F){const e=new CustomEvent("movieDetailsNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}else{if(f){if(38===u)i((e=>e>0?e-1:K.length-1));else if(40===u)i((e=>e<K.length-1?e+1:0));else if(39===u)h(!1);else if(13===u){const e=K[r].id;n(e),h(!1)}}else if(t===U){if(38===u)a>-1&&(o(a-1),l(0));else if(40===u)a<2&&(o(a+1),l(0));else if(37===u)s>0?l(s-1):h(!0);else if(39===u)l(-1===a?e=>Math.min(e+1,1):e=>Math.min(e+1,9));else if(13===u)if(-1===a){const e=new CustomEvent("heroButtonClick",{detail:{buttonIndex:s}});window.dispatchEvent(e)}else console.log("Item selecionado:",{shelfFocus:a,itemFocus:s})}else if(t===z){if(38===u||40===u||37===u||39===u||13===u){const e=new CustomEvent("channelsNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}}else if(t===F){if(38===u||40===u||37===u||39===u||13===u||73===u){const e=new CustomEvent("moviesNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}}else if(t===V){if(38===u||40===u||37===u||39===u||13===u||73===u||80===u){const e=new CustomEvent("seriesNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}}else if(t===G){if(38===u||40===u||37===u||39===u||13===u){const e=new CustomEvent("seriesDetailsNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}}else if(t===H){if(38===u||40===u||37===u||39===u||13===u){const e=new CustomEvent("searchNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}}else 37===u&&h(!0);10009!==u&&8!==u||(t===q?P():t===G?(x()||n(V),g(null)):t!==U&&(x()||n(U),h(!1)))}else{const e=new CustomEvent("seriesDetailsNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}else{const e=new CustomEvent("playerNavigation",{detail:{keyCode:u}});window.dispatchEvent(e)}else 13===u&&L()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[t,f,r,a,s,b,x]),(0,e.useEffect)((()=>{const e=e=>{const{streamUrl:t,streamInfo:r}=e.detail,i="undefined"!==typeof tizen||window.navigator.userAgent.includes("Tizen");if(console.log("\ud83c\udfac Evento playContent recebido:",{streamUrl:t,streamInfo:r}),console.log("\ud83d\udcfa Ambiente Tizen TV:",i),i&&null!==r&&void 0!==r&&r.forceTizenPlayer){console.log("\ud83d\udd27 Aplicando configura\xe7\xf5es espec\xedficas para Tizen TV"),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation();const i=u(u({},r),{},{preferredPlayer:"mpegts",useInternalPlayer:!0,preventRedirect:!0,environment:"tizen"});console.log("\ud83d\udcfa StreamInfo configurado para Tizen:",i),m({streamUrl:t,streamInfo:i}),n(q),setTimeout((()=>{console.log("\ud83d\udcfa Player Tizen inicializado")}),200)}else console.log("\ud83d\udcbb Usando configura\xe7\xe3o padr\xe3o"),m({streamUrl:t,streamInfo:r}),n(q)};return window.addEventListener("playContent",e),()=>window.removeEventListener("playContent",e)}),[]),(0,e.useEffect)((()=>{const e=e=>{const{series:t}=e.detail;g(t),E(G)};return window.addEventListener("showSeriesDetails",e),()=>window.removeEventListener("showSeriesDetails",e)}),[t,E]),(0,e.useEffect)((()=>{const e=()=>{h(!0)};return window.addEventListener("backToSidebar",e),()=>window.removeEventListener("backToSidebar",e)}),[]),(0,e.useEffect)((()=>{const e=e=>{w(e.detail.active)};return window.addEventListener("moviePreviewActive",e),()=>window.removeEventListener("moviePreviewActive",e)}),[]);const L=()=>{n(U),h(!1)},P=()=>{n(U),m(null)},I=()=>{n(V),g(null)},D=t!==B&&t!==q&&t!==G;return(0,c.jsxs)("div",{className:"App",children:[D&&(0,c.jsx)(k,{currentSection:t,onMenu:f,menuFocus:r,onSectionChange:e=>{E(e),h(!1),o(0),l(0)}}),(0,c.jsx)("div",{className:"app-content ".concat(D?"with-sidebar":""),children:(()=>{switch(t){case B:return(0,c.jsx)(d,{onLogin:L});case U:return(0,c.jsx)(S,{onMenu:f,menuFocus:r,shelfFocus:a,itemFocus:s});case z:return(0,c.jsx)(T,{isActive:t===z});case F:return(0,c.jsx)(A,{isActive:t===F});case V:return(0,c.jsx)(R,{isActive:t===V});case G:return(0,c.jsx)(C,{series:v,isActive:t===G,onBack:I});case H:return(0,c.jsx)(N,{isActive:t===H});case q:return(0,c.jsx)(j,{isActive:t===q,streamUrl:null===p||void 0===p?void 0:p.streamUrl,streamInfo:null===p||void 0===p?void 0:p.streamInfo,onBack:P});default:return(0,c.jsx)("div",{className:"main-content",children:(0,c.jsx)("div",{className:"section-placeholder",children:(0,c.jsxs)("div",{className:"placeholder-content",children:[(0,c.jsx)("i",{className:"fa-solid fa-construction"}),(0,c.jsxs)("h2",{children:["Se\xe7\xe3o: ",t.toUpperCase()]}),(0,c.jsx)("p",{children:"Esta se\xe7\xe3o ser\xe1 implementada em breve."}),(0,c.jsxs)("button",{className:"back-btn",onClick:()=>n(U),children:[(0,c.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Voltar ao Home"]})]})})})}})()})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t.createRoot(document.getElementById("root")).render((0,c.jsx)(e.StrictMode,{children:(0,c.jsx)(W,{})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})()})();
//# sourceMappingURL=main.46293eed.js.map